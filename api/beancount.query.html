
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>beancount.query &#8212; Fava  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="beancount.reports" href="beancount.reports.html" />
    <link rel="prev" title="beancount.prices.sources" href="beancount.prices.sources.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-beancount.query">
<span id="beancount-query"></span><h1>beancount.query<a class="headerlink" href="#module-beancount.query" title="Permalink to this headline">¶</a></h1>
<p>Transaction and postings filtering syntax parser.</p>
<div class="section" id="module-beancount.query.numberify">
<span id="beancount-query-numberify"></span><h2>beancount.query.numberify<a class="headerlink" href="#module-beancount.query.numberify" title="Permalink to this headline">¶</a></h2>
<p>Code to split table columns containing amounts and inventories into number columns.</p>
<p>For example, given a column with this content:</p>
<blockquote>
<div><p>—– amount ——
101.23 USD</p>
<blockquote>
<div><blockquote>
<div><p>200 JPY</p>
</div></blockquote>
<p>99.23 USD
38.34 USD, 100 JPY</p>
</div></blockquote>
</div></blockquote>
<p>We can convert this into two columns and remove the currencies:</p>
<blockquote>
<div><dl>
<dt>-amount (USD)- -amount (JPY)-</dt><dd><dl>
<dt>101.23</dt><dd><blockquote>
<div><p>200</p>
</div></blockquote>
<p>99.23
38.34            100</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<p>The point is that the columns should be typed as numbers to make this importable
into a spreadsheet and able to be processed.</p>
<p>Notes:</p>
<ul>
<li><p>This handles the Amount, Position and Inventory datatypes. There is code to
automatically recognize columns containing such types from a table of strings
and convert such columns to their corresponding guessed data types.</p></li>
<li><p>The per-currency columns are ordered in decreasing order of the number of
instances of numbers seen for each currency. So if the most numbers you have
in a column are USD, then the USD column renders first.</p></li>
<li><p>Cost basis specifications should be unmodified and reported to a dedicated
extra column, like this:</p>
<blockquote>
<div><p>—– amount ——
1 AAPL {21.23 USD}</p>
</div></blockquote>
<p>We can convert this into two columns and remove the currencies:</p>
<blockquote>
<div><dl class="simple">
<dt>-amount (AAPL)- -Cost basis-</dt><dd><p>1 {21.23 USD}</p>
</dd>
</dl>
</div></blockquote>
<p>(Eventually we might support the conversion of cost amounts as well, but they
may contain other informations, such as a label or a date, so for now we don’t
convert them. I’m not sure there’s a good practical use case in doing that
yet.)</p>
</li>
<li><p>We may provide some options to break out only some of the currencies into
columns, in order to handle the case where an inventory contains a large
number of currencies and we want to only operate on a restricte set of
operating currencies.</p></li>
<li><p>If you provide a DisplayForamtter object to the numberification routine, they
quantize each column according to their currency’s precision. It is
recommended that you do that.</p></li>
</ul>
<dl class="class">
<dt id="beancount.query.numberify.AmountConverter">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">AmountConverter</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">index</em>, <em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.AmountConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>A converter that extracts the number of an amount for a specific currency.</p>
<dl class="attribute">
<dt id="beancount.query.numberify.AmountConverter.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.numberify.AmountConverter.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.numberify.IdentityConverter">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">IdentityConverter</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">dtype</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.IdentityConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>A converter that simply copies its column.</p>
</dd></dl>

<dl class="class">
<dt id="beancount.query.numberify.InventoryConverter">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">InventoryConverter</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">index</em>, <em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.InventoryConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>A converter that extracts the number of a inventory for a specific currency.
If there are multiple lots we aggregate by currency.</p>
<dl class="attribute">
<dt id="beancount.query.numberify.InventoryConverter.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.numberify.InventoryConverter.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.numberify.PositionConverter">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">PositionConverter</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">index</em>, <em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.PositionConverter" title="Permalink to this definition">¶</a></dt>
<dd><p>A converter that extracts the number of a position for a specific currency.</p>
<dl class="attribute">
<dt id="beancount.query.numberify.PositionConverter.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.numberify.PositionConverter.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.query.numberify.convert_col_Amount">
<code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">convert_col_Amount</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">drows</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.convert_col_Amount" title="Permalink to this definition">¶</a></dt>
<dd><p>Create converters for a column of type Amount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – A string, the column name.</p></li>
<li><p><strong>drows</strong> – The table of objects.</p></li>
<li><p><strong>index</strong> – The column number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of Converter instances, one for each of the currency types found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.numberify.convert_col_Inventory">
<code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">convert_col_Inventory</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">drows</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.convert_col_Inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Create converters for a column of type Inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – A string, the column name.</p></li>
<li><p><strong>drows</strong> – The table of objects.</p></li>
<li><p><strong>index</strong> – The column number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of Converter instances, one for each of the currency types found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.numberify.convert_col_Position">
<code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">convert_col_Position</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">drows</em>, <em class="sig-param">index</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.convert_col_Position" title="Permalink to this definition">¶</a></dt>
<dd><p>Create converters for a column of type Position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – A string, the column name.</p></li>
<li><p><strong>drows</strong> – The table of objects.</p></li>
<li><p><strong>index</strong> – The column number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of Converter instances, one for each of the currency types found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.numberify.numberify_results">
<code class="sig-prename descclassname">beancount.query.numberify.</code><code class="sig-name descname">numberify_results</code><span class="sig-paren">(</span><em class="sig-param">dtypes</em>, <em class="sig-param">drows</em>, <em class="sig-param">dformat=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.numberify.numberify_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Number rows containing Amount, Position or Inventory types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_types</strong> – A list of items describing the names and data types of the items in
each column.</p></li>
<li><p><strong>result_rows</strong> – A list of ResultRow instances.</p></li>
<li><p><strong>dformat</strong> – An optional DisplayFormatter. If set, quantize the numbers by
their currency-specific precision when converting the Amount’s,
Position’s or Inventory’es..</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of modified (result_types, result_rows) with converted datatypes.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.query.query">
<span id="beancount-query-query"></span><h2>beancount.query.query<a class="headerlink" href="#module-beancount.query.query" title="Permalink to this headline">¶</a></h2>
<p>A library to run queries. This glues together all the parts of the query engine.</p>
<dl class="function">
<dt id="beancount.query.query.run_query">
<code class="sig-prename descclassname">beancount.query.query.</code><code class="sig-name descname">run_query</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">query</em>, <em class="sig-param">*format_args</em>, <em class="sig-param">numberify=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query.run_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and execute a query, return the result types and rows.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of entries, as produced by the loader.</p></li>
<li><p><strong>options_map</strong> – A dict of options, as produced by the loader.</p></li>
<li><p><strong>query</strong> – A string, a single BQL query, optionally containing some new-style
(e.g., {}) formatting specifications.</p></li>
<li><p><strong>format_args</strong> – A tuple of arguments to be formatted in the query. This is
just provided as a convenience.</p></li>
<li><p><strong>numberify</strong> – If true, numberify the results before returning them.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of result types and result rows.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="#beancount.query.query_parser.ParseError" title="beancount.query.query_parser.ParseError"><strong>ParseError</strong></a> – If the statement cannot be parsed.</p></li>
<li><p><a class="reference internal" href="#beancount.query.query_compile.CompilationError" title="beancount.query.query_compile.CompilationError"><strong>CompilationError</strong></a> – If the statement cannot be compiled.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.query.query_compile">
<span id="beancount-query-query-compile"></span><h2>beancount.query.query_compile<a class="headerlink" href="#module-beancount.query.query_compile" title="Permalink to this headline">¶</a></h2>
<p>Interpreter for the query language’s AST.</p>
<p>This code accepts the abstract syntax tree produced by the query parser,
resolves the column and function names, compiles and interpreter and prepares a
query to be run against a list of entries.</p>
<dl class="class">
<dt id="beancount.query.query_compile.AttributeColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">AttributeColumn</code><span class="sig-paren">(</span><em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.AttributeColumn" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.AttributeColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_compile.AttributeColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.CompilationEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">CompilationEnvironment</code><a class="headerlink" href="#beancount.query.query_compile.CompilationEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all compilation contexts. A compilation context provides
column accessors specific to the particular row objects that we will access.</p>
<dl class="attribute">
<dt id="beancount.query.query_compile.CompilationEnvironment.columns">
<code class="sig-name descname">columns</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_compile.CompilationEnvironment.columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.CompilationEnvironment.context_name">
<code class="sig-name descname">context_name</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_compile.CompilationEnvironment.context_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.CompilationEnvironment.functions">
<code class="sig-name descname">functions</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_compile.CompilationEnvironment.functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.CompilationEnvironment.get_column">
<code class="sig-name descname">get_column</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.CompilationEnvironment.get_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a column accessor for the given named column.
:param name: A string, the name of the column to access.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.CompilationEnvironment.get_function">
<code class="sig-name descname">get_function</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.CompilationEnvironment.get_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a function accessor for the given named function.
:param name: A string, the name of the function to access.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="beancount.query.query_compile.CompilationError">
<em class="property">exception </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">CompilationError</code><a class="headerlink" href="#beancount.query.query_compile.CompilationError" title="Permalink to this definition">¶</a></dt>
<dd><p>A compiler/interpreter error.</p>
</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalAdd">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalAdd</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAdd" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalAdd.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalAdd.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalAdd.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalAdd.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalAdd.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalAdd.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalAggregator">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalAggregator</code><span class="sig-paren">(</span><em class="sig-param">operands</em>, <em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAggregator" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all aggregator evaluator types.</p>
<dl class="method">
<dt id="beancount.query.query_compile.EvalAggregator.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAggregator.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.EvalAggregator.finalize">
<code class="sig-name descname">finalize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAggregator.finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Finalize this node’s aggregate data and return it.</p>
<p>For aggregate methods, this finalizes the node and returns the final
value. The context node will be the alloc instead of the context object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.EvalAggregator.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAggregator.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalAggregator.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_compile.EvalAggregator.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.EvalAggregator.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAggregator.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalAnd">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalAnd</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalAnd" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalAnd.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalAnd.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalAnd.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalAnd.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalAnd.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalAnd.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalBinaryOp">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalBinaryOp</code><span class="sig-paren">(</span><em class="sig-param">operator</em>, <em class="sig-param">left</em>, <em class="sig-param">right</em>, <em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalBinaryOp" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalBinaryOp.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalBinaryOp.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalBinaryOp.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalBinaryOp.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalBinaryOp.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalBinaryOp.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalColumn</code><span class="sig-paren">(</span><em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all column accessors.</p>
<dl class="attribute">
<dt id="beancount.query.query_compile.EvalColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_compile.EvalColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalConstant">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalConstant</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalConstant" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalConstant.value">
<code class="sig-name descname">value</code><a class="headerlink" href="#beancount.query.query_compile.EvalConstant.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalContains">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalContains</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalContains" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalContains.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalContains.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalContains.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalContains.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalContains.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalContains.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalDiv">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalDiv</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalDiv" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalDiv.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalDiv.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalDiv.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalDiv.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalDiv.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalDiv.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalEqual">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalEqual</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalEqual" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalEqual.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalEqual.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalEqual.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalEqual.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalEqual.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalEqual.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalFrom">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalFrom</code><span class="sig-paren">(</span><em class="sig-param">c_expr</em>, <em class="sig-param">open</em>, <em class="sig-param">close</em>, <em class="sig-param">clear</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalFrom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalFunction">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalFunction</code><span class="sig-paren">(</span><em class="sig-param">operands</em>, <em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all function objects.</p>
<dl class="method">
<dt id="beancount.query.query_compile.EvalFunction.eval_args">
<code class="sig-name descname">eval_args</code><span class="sig-paren">(</span><em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalFunction.eval_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalFunction.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_compile.EvalFunction.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalGreater">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalGreater</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalGreater" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalGreater.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalGreater.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalGreater.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalGreater.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalGreater.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalGreater.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalGreaterEq">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalGreaterEq</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalGreaterEq" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalGreaterEq.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalGreaterEq.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalGreaterEq.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalGreaterEq.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalGreaterEq.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalGreaterEq.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalLess">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalLess</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalLess" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalLess.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalLess.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalLess.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalLess.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalLess.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalLess.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalLessEq">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalLessEq</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalLessEq" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalLessEq.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalLessEq.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalLessEq.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalLessEq.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalLessEq.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalLessEq.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalMatch">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalMatch</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalMatch" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalMatch.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalMatch.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.EvalMatch.match">
<em class="property">static </em><code class="sig-name descname">match</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalMatch.match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalMatch.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalMatch.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalMatch.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalMatch.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalMul">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalMul</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalMul" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalMul.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalMul.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalMul.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalMul.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalMul.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalMul.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalNode">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalNode</code><span class="sig-paren">(</span><em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalNode" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="beancount.query.query_compile.EvalNode.childnodes">
<code class="sig-name descname">childnodes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalNode.childnodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the child nodes of this node.
:Yields: A list of EvalNode instances.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalNode.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_compile.EvalNode.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalNot">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalNot</code><span class="sig-paren">(</span><em class="sig-param">operand</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalNot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalNot.operand">
<code class="sig-name descname">operand</code><a class="headerlink" href="#beancount.query.query_compile.EvalNot.operand" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalNot.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalNot.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalOr">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalOr</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalOr" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalOr.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalOr.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalOr.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalOr.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalOr.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalOr.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalPrint">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalPrint</code><span class="sig-paren">(</span><em class="sig-param">c_from</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalPrint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalQuery">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalQuery</code><span class="sig-paren">(</span><em class="sig-param">c_targets</em>, <em class="sig-param">c_from</em>, <em class="sig-param">c_where</em>, <em class="sig-param">group_indexes</em>, <em class="sig-param">order_indexes</em>, <em class="sig-param">ordering</em>, <em class="sig-param">limit</em>, <em class="sig-param">distinct</em>, <em class="sig-param">flatten</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalQuery" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalSub">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalSub</code><span class="sig-paren">(</span><em class="sig-param">left</em>, <em class="sig-param">right</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalSub" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalSub.left">
<code class="sig-name descname">left</code><a class="headerlink" href="#beancount.query.query_compile.EvalSub.left" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalSub.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalSub.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalSub.right">
<code class="sig-name descname">right</code><a class="headerlink" href="#beancount.query.query_compile.EvalSub.right" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalTarget">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalTarget</code><span class="sig-paren">(</span><em class="sig-param">c_expr</em>, <em class="sig-param">name</em>, <em class="sig-param">is_aggregate</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalTarget" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.EvalUnaryOp">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">EvalUnaryOp</code><span class="sig-paren">(</span><em class="sig-param">operator</em>, <em class="sig-param">operand</em>, <em class="sig-param">dtype</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.EvalUnaryOp" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_compile.EvalUnaryOp.operand">
<code class="sig-name descname">operand</code><a class="headerlink" href="#beancount.query.query_compile.EvalUnaryOp.operand" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_compile.EvalUnaryOp.operator">
<code class="sig-name descname">operator</code><a class="headerlink" href="#beancount.query.query_compile.EvalUnaryOp.operator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_compile.ResultSetEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">ResultSetEnvironment</code><a class="headerlink" href="#beancount.query.query_compile.ResultSetEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>An execution context that provides access to attributes from a result set.</p>
<dl class="attribute">
<dt id="beancount.query.query_compile.ResultSetEnvironment.context_name">
<code class="sig-name descname">context_name</code><em class="property"> = 'sub-query'</em><a class="headerlink" href="#beancount.query.query_compile.ResultSetEnvironment.context_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_compile.ResultSetEnvironment.get_column">
<code class="sig-name descname">get_column</code><span class="sig-paren">(</span><em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.ResultSetEnvironment.get_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Override the column getter to provide a single attribute getter.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile</code><span class="sig-paren">(</span><em class="sig-param">statement</em>, <em class="sig-param">targets_environ</em>, <em class="sig-param">postings_environ</em>, <em class="sig-param">entries_environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare an AST any of the statement into an executable statement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statement</strong> – An instance of the parser’s Select, Balances, Journal or Print.</p></li>
<li><p><strong>targets_environ</strong> – A compilation environment for evaluating targets.</p></li>
<li><p><strong>postings_environ</strong> – : A compilation environment for evaluating postings filters.</p></li>
<li><p><strong>entries_environ</strong> – : A compilation environment for evaluating entry filters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of EvalQuery or EvalPrint, ready to be executed.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#beancount.query.query_compile.CompilationError" title="beancount.query.query_compile.CompilationError"><strong>CompilationError</strong></a> – If the statement cannot be compiled, or is not one of the
    supported statements.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_expression">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_expression</code><span class="sig-paren">(</span><em class="sig-param">expr</em>, <em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_expression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bind an expression to its execution context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expr</strong> – The root node of an expression.</p></li>
<li><p><strong>environ</strong> – An CompilationEnvironment instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The root node of a bound expression.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_from">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_from</code><span class="sig-paren">(</span><em class="sig-param">from_clause</em>, <em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Compiled a From clause as provided by the parser, in the given environment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>select</strong> – An instance of query_parser.Select.</p></li>
<li><p><strong>environ</strong> – : A compilation context for evaluating entry filters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Query, ready to be executed.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_group_by">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_group_by</code><span class="sig-paren">(</span><em class="sig-param">group_by</em>, <em class="sig-param">c_targets</em>, <em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_group_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a group-by clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>group_by</strong> – A GroupBy instance as provided by the parser.</p></li>
<li><p><strong>c_targets</strong> – A list of compiled target expressions.</p></li>
<li><p><strong>environ</strong> – A compilation context to be used to evaluate GROUP BY expressions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>A tuple of</dt><dd><p>new_targets: A list of new compiled target nodes.
group_indexes: If the query is an aggregate query, a list of integer</p>
<blockquote>
<div><p>indexes to be used for processing grouping. Note that this list may be
empty (in the case of targets with only aggregates). On the other hand,
if this is not an aggregated query, this is set to None. So do
distinguish the empty list vs. None.</p>
</div></blockquote>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_order_by">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_order_by</code><span class="sig-paren">(</span><em class="sig-param">order_by</em>, <em class="sig-param">c_targets</em>, <em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_order_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Process an order-by clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order_by</strong> – A OrderBy instance as provided by the parser.</p></li>
<li><p><strong>c_targets</strong> – A list of compiled target expressions.</p></li>
<li><p><strong>environ</strong> – A compilation context to be used to evaluate ORDER BY expressions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple of</dt><dd><p>new_targets: A list of new compiled target nodes.
order_indexes: A list of integer indexes to be used for processing ordering.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_print">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_print</code><span class="sig-paren">(</span><em class="sig-param">print_stmt</em>, <em class="sig-param">env_entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile a Print statement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>statement</strong> – An instance of query_parser.Print.</p></li>
<li><p><strong>entries_environ</strong> – : A compilation environment for evaluating entry filters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of EvalPrint, ready to be executed.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_select">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_select</code><span class="sig-paren">(</span><em class="sig-param">select</em>, <em class="sig-param">targets_environ</em>, <em class="sig-param">postings_environ</em>, <em class="sig-param">entries_environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_select" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare an AST for a Select statement into a very rudimentary execution tree.
The execution tree mostly looks much like an AST, but with some nodes
replaced with knowledge specific to an execution context and eventually some
basic optimizations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>select</strong> – An instance of query_parser.Select.</p></li>
<li><p><strong>targets_environ</strong> – A compilation environment for evaluating targets.</p></li>
<li><p><strong>postings_environ</strong> – : A compilation environment for evaluating postings filters.</p></li>
<li><p><strong>entries_environ</strong> – : A compilation environment for evaluating entry filters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of EvalQuery, ready to be executed.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.compile_targets">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">compile_targets</code><span class="sig-paren">(</span><em class="sig-param">targets</em>, <em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.compile_targets" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile the targets and check for their validity. Process wildcard.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>targets</strong> – A list of target expressions from the parser.</p></li>
<li><p><strong>environ</strong> – A compilation context for the targets.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of compiled target expressions with resolved names.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.find_unique_name">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">find_unique_name</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">allocated_set</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.find_unique_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Come up with a unique name for ‘name’ amongst ‘allocated_set’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – A string, the prefix of the name to find a unique for.</p></li>
<li><p><strong>allocated_set</strong> – A set of string, the set of already allocated names.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A unique name. ‘allocated_set’ is unmodified.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.get_columns_and_aggregates">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">get_columns_and_aggregates</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.get_columns_and_aggregates" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the columns and aggregate nodes below this tree.</p>
<p>All nodes under aggregate nodes are ignored.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> – An instance of EvalNode.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A pair of (columns, aggregates), both of which are lists of EvalNode instances.</dt><dd><p>columns: The list of all columns accessed not under an aggregate node.
aggregates: The lis tof all aggregate nodes.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.is_aggregate">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">is_aggregate</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.is_aggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the node is an aggregate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> – An instance of EvalNode.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.is_hashable_type">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">is_hashable_type</code><span class="sig-paren">(</span><em class="sig-param">node</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.is_hashable_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the node is of a hashable type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node</strong> – An instance of EvalNode.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.transform_balances">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">transform_balances</code><span class="sig-paren">(</span><em class="sig-param">balances</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.transform_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a Balances entry into an uncompiled Select statement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>balances</strong> – An instance of a Balance object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of an uncompiled Select object.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_compile.transform_journal">
<code class="sig-prename descclassname">beancount.query.query_compile.</code><code class="sig-name descname">transform_journal</code><span class="sig-paren">(</span><em class="sig-param">journal</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_compile.transform_journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate a Journal entry into an uncompiled Select statement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>journal</strong> – An instance of a Journal object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of an uncompiled Select object.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.query.query_env">
<span id="beancount-query-query-env"></span><h2>beancount.query.query_env<a class="headerlink" href="#module-beancount.query.query_env" title="Permalink to this headline">¶</a></h2>
<p>Environment object for compiler.</p>
<p>This module contains the various column accessors and function evaluators that
are made available by the query compiler via their compilation context objects.
Define new columns and functions here.</p>
<dl class="class">
<dt id="beancount.query.query_env.AbsDecimal">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">AbsDecimal</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.AbsDecimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the length of the argument. This works on sequences.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.AbsDecimal.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.AbsDecimal.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.AbsInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">AbsInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.AbsInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the length of the argument. This works on sequences.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.AbsInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.AbsInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.AbsPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">AbsPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.AbsPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the length of the argument. This works on sequences.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.AbsPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.AbsPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.AccountColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">AccountColumn</code><a class="headerlink" href="#beancount.query.query_env.AccountColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The account of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.AccountColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.AccountColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.AccountSortKey">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">AccountSortKey</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.AccountSortKey" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a string to sort accounts in order taking into account the types.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.AccountSortKey.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.AccountSortKey.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.AnyMeta">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">AnyMeta</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.AnyMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get metadata from the posting or its parent transaction’s metadata if not present.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.AnyMeta.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.AnyMeta.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.BalanceColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">BalanceColumn</code><a class="headerlink" href="#beancount.query.query_env.BalanceColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The balance for the posting. These can be summed into inventories.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.BalanceColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.BalanceColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CloseDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CloseDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.CloseDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the date of the close directive of the account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CloseDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.CloseDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Coalesce">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Coalesce</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Coalesce" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first non-null argument</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Coalesce.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Coalesce.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ConvertAmount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ConvertAmount</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ConvertAmount" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an amount to a particular currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ConvertAmount.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ConvertAmount.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ConvertAmountWithDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ConvertAmountWithDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ConvertAmountWithDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an amount to a particular currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ConvertAmountWithDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ConvertAmountWithDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ConvertInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ConvertInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ConvertInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an inventory to a particular currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ConvertInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ConvertInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ConvertInventoryWithDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ConvertInventoryWithDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ConvertInventoryWithDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an inventory to a particular currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ConvertInventoryWithDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ConvertInventoryWithDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ConvertPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ConvertPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ConvertPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an amount to a particular currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ConvertPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ConvertPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ConvertPositionWithDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ConvertPositionWithDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ConvertPositionWithDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an amount to a particular currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ConvertPositionWithDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ConvertPositionWithDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CostCurrencyColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CostCurrencyColumn</code><a class="headerlink" href="#beancount.query.query_env.CostCurrencyColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The cost currency of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CostCurrencyColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.CostCurrencyColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CostDateColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CostDateColumn</code><a class="headerlink" href="#beancount.query.query_env.CostDateColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The cost currency of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CostDateColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.CostDateColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CostInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CostInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.CostInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cost of an inventory.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CostInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.CostInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CostLabelColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CostLabelColumn</code><a class="headerlink" href="#beancount.query.query_env.CostLabelColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The cost currency of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CostLabelColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.CostLabelColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CostNumberColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CostNumberColumn</code><a class="headerlink" href="#beancount.query.query_env.CostNumberColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of cost units of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CostNumberColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.CostNumberColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CostPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CostPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.CostPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the cost of a position.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CostPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.CostPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Count">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Count</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Count" title="Permalink to this definition">¶</a></dt>
<dd><p>Count the number of occurrences of the argument.</p>
<dl class="method">
<dt id="beancount.query.query_env.Count.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Count.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Count.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Count.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.Count.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Count.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Count.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">unused_ontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Count.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Currency">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Currency</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Currency" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the currency from an Amount.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Currency.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Currency.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CurrencyColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CurrencyColumn</code><a class="headerlink" href="#beancount.query.query_env.CurrencyColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The currency of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CurrencyColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.CurrencyColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.CurrencyMeta">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">CurrencyMeta</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.CurrencyMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the metadata dict of the commodity directive of the currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.CurrencyMeta.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.CurrencyMeta.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Date">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Date</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Date" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a date with year, month, day arguments</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Date.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Date.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DateAdd">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DateAdd</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.DateAdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds/subtracts number of days from the given date</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DateAdd.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.DateAdd.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DateColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DateColumn</code><a class="headerlink" href="#beancount.query.query_env.DateColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The date of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DateColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.DateColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DateDiff">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DateDiff</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.DateDiff" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the difference (in days) between two dates</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DateDiff.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.DateDiff.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DateEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DateEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.DateEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The date of the directive.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DateEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.DateEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Day">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Day</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Day" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the day from a date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Day.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Day.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DayColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DayColumn</code><a class="headerlink" href="#beancount.query.query_env.DayColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The day of the date of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DayColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.DayColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DayEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DayEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.DayEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The day of the date of the directive.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DayEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.DayEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DescriptionColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DescriptionColumn</code><a class="headerlink" href="#beancount.query.query_env.DescriptionColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>A combination of the payee + narration for the transaction of this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DescriptionColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.DescriptionColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.DescriptionEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">DescriptionEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.DescriptionEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>A combination of the payee + narration of the transaction, if present.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.DescriptionEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.DescriptionEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.EntryMeta">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">EntryMeta</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.EntryMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get some metadata key of the parent directive (Transaction).</p>
<dl class="attribute">
<dt id="beancount.query.query_env.EntryMeta.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.EntryMeta.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FileLocationColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FileLocationColumn</code><a class="headerlink" href="#beancount.query.query_env.FileLocationColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename:lineno where the posting was parsed from or created.</p>
<p>If you select this column as the first column, because it renders like
errors, Emacs is able to pick those up and you can navigate between an
arbitrary list of transactions with next-error and previous-error.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FileLocationColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.FileLocationColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FilenameColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FilenameColumn</code><a class="headerlink" href="#beancount.query.query_env.FilenameColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename where the posting was parsed from or created.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FilenameColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.FilenameColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FilenameEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FilenameEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.FilenameEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename where the directive was parsed from or created.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FilenameEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.FilenameEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FilterCurrencyInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FilterCurrencyInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.FilterCurrencyInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter an inventory to just the specified currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FilterCurrencyInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.FilterCurrencyInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FilterCurrencyPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FilterCurrencyPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.FilterCurrencyPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter an inventory to just the specified currency.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FilterCurrencyPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.FilterCurrencyPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FilterEntriesEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FilterEntriesEnvironment</code><a class="headerlink" href="#beancount.query.query_env.FilterEntriesEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>An execution context that provides access to attributes on Transactions
and other entry types.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FilterEntriesEnvironment.columns">
<code class="sig-name descname">columns</code><em class="property"> = {'date': &lt;class 'beancount.query.query_env.DateEntryColumn'&gt;, 'day': &lt;class 'beancount.query.query_env.DayEntryColumn'&gt;, 'description': &lt;class 'beancount.query.query_env.DescriptionEntryColumn'&gt;, 'filename': &lt;class 'beancount.query.query_env.FilenameEntryColumn'&gt;, 'flag': &lt;class 'beancount.query.query_env.FlagEntryColumn'&gt;, 'id': &lt;class 'beancount.query.query_env.IdEntryColumn'&gt;, 'lineno': &lt;class 'beancount.query.query_env.LineNoEntryColumn'&gt;, 'links': &lt;class 'beancount.query.query_env.LinksEntryColumn'&gt;, 'month': &lt;class 'beancount.query.query_env.MonthEntryColumn'&gt;, 'narration': &lt;class 'beancount.query.query_env.NarrationEntryColumn'&gt;, 'payee': &lt;class 'beancount.query.query_env.PayeeEntryColumn'&gt;, 'tags': &lt;class 'beancount.query.query_env.TagsEntryColumn'&gt;, 'type': &lt;class 'beancount.query.query_env.TypeEntryColumn'&gt;, 'year': &lt;class 'beancount.query.query_env.YearEntryColumn'&gt;}</em><a class="headerlink" href="#beancount.query.query_env.FilterEntriesEnvironment.columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.FilterEntriesEnvironment.context_name">
<code class="sig-name descname">context_name</code><em class="property"> = 'FROM clause'</em><a class="headerlink" href="#beancount.query.query_env.FilterEntriesEnvironment.context_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.FilterEntriesEnvironment.functions">
<code class="sig-name descname">functions</code><em class="property"> = {('neg', &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.NegDecimal'&gt;, ('neg', &lt;class 'beancount.core.amount.Amount'&gt;): &lt;class 'beancount.query.query_env.NegAmount'&gt;, ('neg', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.NegPosition'&gt;, ('neg', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.NegInventory'&gt;, ('abs', &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.AbsDecimal'&gt;, ('abs', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.AbsPosition'&gt;, ('abs', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.AbsInventory'&gt;, ('safediv', &lt;class 'decimal.Decimal'&gt;, &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.SafeDiv'&gt;, ('safediv', &lt;class 'decimal.Decimal'&gt;, &lt;class 'int'&gt;): &lt;class 'beancount.query.query_env.SafeDivInt'&gt;, 'length': &lt;class 'beancount.query.query_env.Length'&gt;, 'str': &lt;class 'beancount.query.query_env.Str'&gt;, 'maxwidth': &lt;class 'beancount.query.query_env.MaxWidth'&gt;, 'root': &lt;class 'beancount.query.query_env.Root'&gt;, 'parent': &lt;class 'beancount.query.query_env.Parent'&gt;, 'leaf': &lt;class 'beancount.query.query_env.Leaf'&gt;, 'grep': &lt;class 'beancount.query.query_env.Grep'&gt;, 'grepn': &lt;class 'beancount.query.query_env.GrepN'&gt;, 'subst': &lt;class 'beancount.query.query_env.Subst'&gt;, 'open_date': &lt;class 'beancount.query.query_env.OpenDate'&gt;, 'close_date': &lt;class 'beancount.query.query_env.CloseDate'&gt;, 'meta': &lt;class 'beancount.query.query_env.Meta'&gt;, 'entry_meta': &lt;class 'beancount.query.query_env.EntryMeta'&gt;, 'any_meta': &lt;class 'beancount.query.query_env.AnyMeta'&gt;, 'open_meta': &lt;class 'beancount.query.query_env.OpenMeta'&gt;, 'currency_meta': &lt;class 'beancount.query.query_env.CurrencyMeta'&gt;, 'commodity_meta': &lt;class 'beancount.query.query_env.CurrencyMeta'&gt;, 'account_sortkey': &lt;class 'beancount.query.query_env.AccountSortKey'&gt;, ('units', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.UnitsPosition'&gt;, ('units', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.UnitsInventory'&gt;, ('cost', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.CostPosition'&gt;, ('cost', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.CostInventory'&gt;, 'year': &lt;class 'beancount.query.query_env.Year'&gt;, 'month': &lt;class 'beancount.query.query_env.Month'&gt;, 'ymonth': &lt;class 'beancount.query.query_env.YearMonth'&gt;, 'quarter': &lt;class 'beancount.query.query_env.Quarter'&gt;, 'day': &lt;class 'beancount.query.query_env.Day'&gt;, 'weekday': &lt;class 'beancount.query.query_env.Weekday'&gt;, 'today': &lt;class 'beancount.query.query_env.Today'&gt;, ('date', &lt;class 'int'&gt;, &lt;class 'int'&gt;, &lt;class 'int'&gt;): &lt;class 'beancount.query.query_env.Date'&gt;, ('date', &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ParseDate'&gt;, 'date_diff': &lt;class 'beancount.query.query_env.DateDiff'&gt;, 'date_add': &lt;class 'beancount.query.query_env.DateAdd'&gt;, ('convert', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertAmount'&gt;, ('convert', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertAmountWithDate'&gt;, ('convert', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertPosition'&gt;, ('convert', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertPositionWithDate'&gt;, ('convert', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertInventory'&gt;, ('convert', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertInventoryWithDate'&gt;, ('value', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.ValuePosition'&gt;, ('value', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ValuePositionWithDate'&gt;, ('value', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.ValueInventory'&gt;, ('value', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ValueInventoryWithDate'&gt;, ('getprice', &lt;class 'str'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.Price'&gt;, ('getprice', &lt;class 'str'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.PriceWithDate'&gt;, 'number': &lt;class 'beancount.query.query_env.Number'&gt;, 'currency': &lt;class 'beancount.query.query_env.Currency'&gt;, 'commodity': &lt;class 'beancount.query.query_env.Currency'&gt;, 'getitem': &lt;class 'beancount.query.query_env.GetItemStr'&gt;, 'findfirst': &lt;class 'beancount.query.query_env.FindFirst'&gt;, 'joinstr': &lt;class 'beancount.query.query_env.JoinStr'&gt;, ('possign', &lt;class 'decimal.Decimal'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignDecimal'&gt;, ('possign', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignAmount'&gt;, ('possign', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignPosition'&gt;, ('possign', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignInventory'&gt;, 'coalesce': &lt;class 'beancount.query.query_env.Coalesce'&gt;, 'only': &lt;class 'beancount.query.query_env.OnlyInventory'&gt;, ('filter_currency', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.FilterCurrencyPosition'&gt;, ('filter_currency', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.FilterCurrencyInventory'&gt;, 'has_account': &lt;class 'beancount.query.query_env.MatchAccount'&gt;}</em><a class="headerlink" href="#beancount.query.query_env.FilterEntriesEnvironment.functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FilterPostingsEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FilterPostingsEnvironment</code><a class="headerlink" href="#beancount.query.query_env.FilterPostingsEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>An execution context that provides access to attributes on Postings.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FilterPostingsEnvironment.columns">
<code class="sig-name descname">columns</code><em class="property"> = {'account': &lt;class 'beancount.query.query_env.AccountColumn'&gt;, 'balance': &lt;class 'beancount.query.query_env.BalanceColumn'&gt;, 'change': &lt;class 'beancount.query.query_env.PositionColumn'&gt;, 'cost_currency': &lt;class 'beancount.query.query_env.CostCurrencyColumn'&gt;, 'cost_date': &lt;class 'beancount.query.query_env.CostDateColumn'&gt;, 'cost_label': &lt;class 'beancount.query.query_env.CostLabelColumn'&gt;, 'cost_number': &lt;class 'beancount.query.query_env.CostNumberColumn'&gt;, 'currency': &lt;class 'beancount.query.query_env.CurrencyColumn'&gt;, 'date': &lt;class 'beancount.query.query_env.DateColumn'&gt;, 'day': &lt;class 'beancount.query.query_env.DayColumn'&gt;, 'description': &lt;class 'beancount.query.query_env.DescriptionColumn'&gt;, 'filename': &lt;class 'beancount.query.query_env.FilenameColumn'&gt;, 'flag': &lt;class 'beancount.query.query_env.FlagColumn'&gt;, 'id': &lt;class 'beancount.query.query_env.IdColumn'&gt;, 'lineno': &lt;class 'beancount.query.query_env.LineNoColumn'&gt;, 'links': &lt;class 'beancount.query.query_env.LinksColumn'&gt;, 'location': &lt;class 'beancount.query.query_env.FileLocationColumn'&gt;, 'month': &lt;class 'beancount.query.query_env.MonthColumn'&gt;, 'narration': &lt;class 'beancount.query.query_env.NarrationColumn'&gt;, 'number': &lt;class 'beancount.query.query_env.NumberColumn'&gt;, 'other_accounts': &lt;class 'beancount.query.query_env.OtherAccountsColumn'&gt;, 'payee': &lt;class 'beancount.query.query_env.PayeeColumn'&gt;, 'position': &lt;class 'beancount.query.query_env.PositionColumn'&gt;, 'posting_flag': &lt;class 'beancount.query.query_env.PostingFlagColumn'&gt;, 'price': &lt;class 'beancount.query.query_env.PriceColumn'&gt;, 'tags': &lt;class 'beancount.query.query_env.TagsColumn'&gt;, 'type': &lt;class 'beancount.query.query_env.TypeColumn'&gt;, 'weight': &lt;class 'beancount.query.query_env.WeightColumn'&gt;, 'year': &lt;class 'beancount.query.query_env.YearColumn'&gt;}</em><a class="headerlink" href="#beancount.query.query_env.FilterPostingsEnvironment.columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.FilterPostingsEnvironment.context_name">
<code class="sig-name descname">context_name</code><em class="property"> = 'WHERE clause'</em><a class="headerlink" href="#beancount.query.query_env.FilterPostingsEnvironment.context_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.FilterPostingsEnvironment.functions">
<code class="sig-name descname">functions</code><em class="property"> = {('neg', &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.NegDecimal'&gt;, ('neg', &lt;class 'beancount.core.amount.Amount'&gt;): &lt;class 'beancount.query.query_env.NegAmount'&gt;, ('neg', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.NegPosition'&gt;, ('neg', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.NegInventory'&gt;, ('abs', &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.AbsDecimal'&gt;, ('abs', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.AbsPosition'&gt;, ('abs', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.AbsInventory'&gt;, ('safediv', &lt;class 'decimal.Decimal'&gt;, &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.SafeDiv'&gt;, ('safediv', &lt;class 'decimal.Decimal'&gt;, &lt;class 'int'&gt;): &lt;class 'beancount.query.query_env.SafeDivInt'&gt;, 'length': &lt;class 'beancount.query.query_env.Length'&gt;, 'str': &lt;class 'beancount.query.query_env.Str'&gt;, 'maxwidth': &lt;class 'beancount.query.query_env.MaxWidth'&gt;, 'root': &lt;class 'beancount.query.query_env.Root'&gt;, 'parent': &lt;class 'beancount.query.query_env.Parent'&gt;, 'leaf': &lt;class 'beancount.query.query_env.Leaf'&gt;, 'grep': &lt;class 'beancount.query.query_env.Grep'&gt;, 'grepn': &lt;class 'beancount.query.query_env.GrepN'&gt;, 'subst': &lt;class 'beancount.query.query_env.Subst'&gt;, 'open_date': &lt;class 'beancount.query.query_env.OpenDate'&gt;, 'close_date': &lt;class 'beancount.query.query_env.CloseDate'&gt;, 'meta': &lt;class 'beancount.query.query_env.Meta'&gt;, 'entry_meta': &lt;class 'beancount.query.query_env.EntryMeta'&gt;, 'any_meta': &lt;class 'beancount.query.query_env.AnyMeta'&gt;, 'open_meta': &lt;class 'beancount.query.query_env.OpenMeta'&gt;, 'currency_meta': &lt;class 'beancount.query.query_env.CurrencyMeta'&gt;, 'commodity_meta': &lt;class 'beancount.query.query_env.CurrencyMeta'&gt;, 'account_sortkey': &lt;class 'beancount.query.query_env.AccountSortKey'&gt;, ('units', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.UnitsPosition'&gt;, ('units', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.UnitsInventory'&gt;, ('cost', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.CostPosition'&gt;, ('cost', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.CostInventory'&gt;, 'year': &lt;class 'beancount.query.query_env.Year'&gt;, 'month': &lt;class 'beancount.query.query_env.Month'&gt;, 'ymonth': &lt;class 'beancount.query.query_env.YearMonth'&gt;, 'quarter': &lt;class 'beancount.query.query_env.Quarter'&gt;, 'day': &lt;class 'beancount.query.query_env.Day'&gt;, 'weekday': &lt;class 'beancount.query.query_env.Weekday'&gt;, 'today': &lt;class 'beancount.query.query_env.Today'&gt;, ('date', &lt;class 'int'&gt;, &lt;class 'int'&gt;, &lt;class 'int'&gt;): &lt;class 'beancount.query.query_env.Date'&gt;, ('date', &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ParseDate'&gt;, 'date_diff': &lt;class 'beancount.query.query_env.DateDiff'&gt;, 'date_add': &lt;class 'beancount.query.query_env.DateAdd'&gt;, ('convert', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertAmount'&gt;, ('convert', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertAmountWithDate'&gt;, ('convert', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertPosition'&gt;, ('convert', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertPositionWithDate'&gt;, ('convert', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertInventory'&gt;, ('convert', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertInventoryWithDate'&gt;, ('value', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.ValuePosition'&gt;, ('value', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ValuePositionWithDate'&gt;, ('value', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.ValueInventory'&gt;, ('value', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ValueInventoryWithDate'&gt;, ('getprice', &lt;class 'str'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.Price'&gt;, ('getprice', &lt;class 'str'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.PriceWithDate'&gt;, 'number': &lt;class 'beancount.query.query_env.Number'&gt;, 'currency': &lt;class 'beancount.query.query_env.Currency'&gt;, 'commodity': &lt;class 'beancount.query.query_env.Currency'&gt;, 'getitem': &lt;class 'beancount.query.query_env.GetItemStr'&gt;, 'findfirst': &lt;class 'beancount.query.query_env.FindFirst'&gt;, 'joinstr': &lt;class 'beancount.query.query_env.JoinStr'&gt;, ('possign', &lt;class 'decimal.Decimal'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignDecimal'&gt;, ('possign', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignAmount'&gt;, ('possign', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignPosition'&gt;, ('possign', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignInventory'&gt;, 'coalesce': &lt;class 'beancount.query.query_env.Coalesce'&gt;, 'only': &lt;class 'beancount.query.query_env.OnlyInventory'&gt;, ('filter_currency', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.FilterCurrencyPosition'&gt;, ('filter_currency', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.FilterCurrencyInventory'&gt;}</em><a class="headerlink" href="#beancount.query.query_env.FilterPostingsEnvironment.functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FindFirst">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FindFirst</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.FindFirst" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter a string sequence by regular expression and return the first match.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FindFirst.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.FindFirst.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.First">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">First</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.First" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep the first of the values seen.</p>
<dl class="method">
<dt id="beancount.query.query_env.First.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.First.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.First.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.First.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.First.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.First.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.First.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.First.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FlagColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FlagColumn</code><a class="headerlink" href="#beancount.query.query_env.FlagColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The flag of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FlagColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.FlagColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.FlagEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">FlagEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.FlagEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The flag the transaction.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.FlagEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.FlagEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.GetItemStr">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">GetItemStr</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.GetItemStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the string value of a dict. The value is always converted to a string.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.GetItemStr.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.GetItemStr.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Grep">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Grep</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Grep" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a group against a string and return only the matched portion.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Grep.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Grep.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.GrepN">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">GrepN</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.GrepN" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a pattern with subgroups against a string and return the subgroup at the index</p>
<dl class="attribute">
<dt id="beancount.query.query_env.GrepN.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.GrepN.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.IdColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">IdColumn</code><a class="headerlink" href="#beancount.query.query_env.IdColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The unique id of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.IdColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.IdColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.IdEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">IdEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.IdEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique id of a directive.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.IdEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.IdEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.JoinStr">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">JoinStr</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.JoinStr" title="Permalink to this definition">¶</a></dt>
<dd><p>Join a sequence of strings to a single comma-separated string.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.JoinStr.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.JoinStr.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Last">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Last</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Last" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep the last of the values seen.</p>
<dl class="method">
<dt id="beancount.query.query_env.Last.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Last.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Last.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Last.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.Last.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Last.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Last.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Last.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Leaf">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Leaf</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the leaf subaccount.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Leaf.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Leaf.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Length">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Length</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Length" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the length of the argument. This works on sequences.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Length.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Length.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.LineNoColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">LineNoColumn</code><a class="headerlink" href="#beancount.query.query_env.LineNoColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The line number from the file the posting was parsed from.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.LineNoColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.LineNoColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.LineNoEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">LineNoEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.LineNoEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The line number from the file the directive was parsed from.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.LineNoEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.LineNoEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.LinksColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">LinksColumn</code><a class="headerlink" href="#beancount.query.query_env.LinksColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of links of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.LinksColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.LinksColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.LinksEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">LinksEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.LinksEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of links of the transaction.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.LinksEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.LinksEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.MatchAccount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">MatchAccount</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.MatchAccount" title="Permalink to this definition">¶</a></dt>
<dd><p>A predicate, true if the transaction has at least one posting matching
the regular expression argument.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.MatchAccount.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.MatchAccount.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Max">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Max</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Max" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the maximum of the values.</p>
<dl class="method">
<dt id="beancount.query.query_env.Max.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Max.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Max.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Max.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.Max.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Max.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Max.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Max.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.MaxWidth">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">MaxWidth</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.MaxWidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the argument to a substring. This can be used to ensure maximum width</p>
<dl class="attribute">
<dt id="beancount.query.query_env.MaxWidth.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.MaxWidth.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Meta">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Meta</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get some metadata key of the Posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Meta.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Meta.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Min">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Min</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Min" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the minimum of the values.</p>
<dl class="method">
<dt id="beancount.query.query_env.Min.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Min.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Min.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Min.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.Min.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Min.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Min.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Min.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Month">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Month</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Month" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the month from a date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Month.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Month.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.MonthColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">MonthColumn</code><a class="headerlink" href="#beancount.query.query_env.MonthColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The month of the date of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.MonthColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.MonthColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.MonthEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">MonthEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.MonthEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The month of the date of the directive.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.MonthEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.MonthEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NarrationColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NarrationColumn</code><a class="headerlink" href="#beancount.query.query_env.NarrationColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The narration of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.NarrationColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.NarrationColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NarrationEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NarrationEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.NarrationEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The narration of the transaction.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.NarrationEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.NarrationEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NegAmount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NegAmount</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.NegAmount" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_env.NegAmount.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.NegAmount.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NegDecimal">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NegDecimal</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.NegDecimal" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_env.NegDecimal.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.NegDecimal.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NegInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NegInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.NegInventory" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_env.NegInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.NegInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NegPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NegPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.NegPosition" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_env.NegPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.NegPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Number">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Number</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Number" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the number from an Amount.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Number.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Number.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.NumberColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">NumberColumn</code><a class="headerlink" href="#beancount.query.query_env.NumberColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of units of the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.NumberColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.NumberColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.OnlyInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">OnlyInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.OnlyInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get one currency’s amount from the inventory.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.OnlyInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.OnlyInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.OpenDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">OpenDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.OpenDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the date of the open directive of the account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.OpenDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.OpenDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.OpenMeta">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">OpenMeta</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.OpenMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the metadata dict of the open directive of the account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.OpenMeta.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.OpenMeta.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.OtherAccountsColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">OtherAccountsColumn</code><a class="headerlink" href="#beancount.query.query_env.OtherAccountsColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of other accounts in the transcation, excluding that of this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.OtherAccountsColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.OtherAccountsColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Parent">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Parent</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the parent name of the account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Parent.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Parent.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ParseDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ParseDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ParseDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a date with year, month, day arguments</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ParseDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ParseDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PayeeColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PayeeColumn</code><a class="headerlink" href="#beancount.query.query_env.PayeeColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The payee of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PayeeColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.PayeeColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PayeeEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PayeeEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.PayeeEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The payee of the transaction.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PayeeEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.PayeeEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PosSignAmount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PosSignAmount</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.PosSignAmount" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct sign of an Amount based on the usual balance of associated account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PosSignAmount.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.PosSignAmount.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PosSignDecimal">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PosSignDecimal</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.PosSignDecimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct sign of an Amount based on the usual balance of associated account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PosSignDecimal.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.PosSignDecimal.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PosSignInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PosSignInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.PosSignInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct sign of an Amount based on the usual balance of associated account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PosSignInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.PosSignInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PosSignPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PosSignPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.PosSignPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct sign of an Amount based on the usual balance of associated account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PosSignPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.PosSignPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PositionColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PositionColumn</code><a class="headerlink" href="#beancount.query.query_env.PositionColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The position for the posting. These can be summed into inventories.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PositionColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.PositionColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PostingFlagColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PostingFlagColumn</code><a class="headerlink" href="#beancount.query.query_env.PostingFlagColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The flag of the posting itself.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PostingFlagColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.PostingFlagColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Price">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Price</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Price" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a price for something at a particular date</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Price.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Price.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PriceColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PriceColumn</code><a class="headerlink" href="#beancount.query.query_env.PriceColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The price attached to the posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PriceColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.PriceColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.PriceWithDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">PriceWithDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.PriceWithDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a price for something at a particular date</p>
<dl class="attribute">
<dt id="beancount.query.query_env.PriceWithDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.PriceWithDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Quarter">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Quarter</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Quarter" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the quarter from a date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Quarter.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Quarter.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Root">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Root</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Root" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the root name(s) of the account.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Root.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Root.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.SafeDiv">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">SafeDiv</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SafeDiv" title="Permalink to this definition">¶</a></dt>
<dd><p>A division operation that swallows dbz exceptions and outputs 0 instead.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.SafeDiv.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.SafeDiv.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.SafeDivInt">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">SafeDivInt</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SafeDivInt" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="beancount.query.query_env.SafeDivInt.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.SafeDivInt.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Str">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Str</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Str" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the argument to a string.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Str.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Str.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Subst">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Subst</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Subst" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitute leftmost non-overlapping occurrences of pattern by replacement.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Subst.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Subst.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Sum">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Sum</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sum of the numerical argument.</p>
<dl class="method">
<dt id="beancount.query.query_env.Sum.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Sum.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Sum.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Sum.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.Sum.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Sum.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.Sum.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Sum.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.SumAmount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">SumAmount</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumAmount" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sum of the amount. The result is an Inventory.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.SumAmount.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.SumAmount.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.SumAmount.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumAmount.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.SumBase">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">SumBase</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumBase" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="beancount.query.query_env.SumBase.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><em class="sig-param">allocator</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumBase.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate handles to store data for a node’s aggregate storage.</p>
<p>This is called once before beginning aggregations. If you need any
kind of per-aggregate storage during the computation phase, get it
in this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>allocator</strong> – An instance of Allocator, on which you can call allocate() to
obtain a handle for a slot to store data on store objects later on.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.SumBase.initialize">
<code class="sig-name descname">initialize</code><span class="sig-paren">(</span><em class="sig-param">store</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumBase.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize this node’s aggregate data. If the node is not an aggregate,
simply initialize the subnodes. Override this method in the aggregator
if you need data for storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.SumBase.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.SumBase.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.SumInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">SumInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sum of the inventories. The result is an Inventory.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.SumInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.SumInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.SumInventory.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumInventory.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.SumPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">SumPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sum of the position. The result is an Inventory.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.SumPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.SumPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_env.SumPosition.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">store</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.SumPosition.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate this node. This is designed to recurse on its children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>store</strong> – An object indexable by handles appropriated during allocate().</p></li>
<li><p><strong>context</strong> – The object to which the evaluation need to apply (see __call__).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.TagsColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">TagsColumn</code><a class="headerlink" href="#beancount.query.query_env.TagsColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of tags of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.TagsColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.TagsColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.TagsEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">TagsEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.TagsEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of tags of the transaction.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.TagsEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.TagsEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.TargetsEnvironment">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">TargetsEnvironment</code><a class="headerlink" href="#beancount.query.query_env.TargetsEnvironment" title="Permalink to this definition">¶</a></dt>
<dd><p>An execution context that provides access to attributes on Postings.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.TargetsEnvironment.context_name">
<code class="sig-name descname">context_name</code><em class="property"> = 'targets/column'</em><a class="headerlink" href="#beancount.query.query_env.TargetsEnvironment.context_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.TargetsEnvironment.functions">
<code class="sig-name descname">functions</code><em class="property"> = {('neg', &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.NegDecimal'&gt;, ('neg', &lt;class 'beancount.core.amount.Amount'&gt;): &lt;class 'beancount.query.query_env.NegAmount'&gt;, ('neg', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.NegPosition'&gt;, ('neg', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.NegInventory'&gt;, ('abs', &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.AbsDecimal'&gt;, ('abs', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.AbsPosition'&gt;, ('abs', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.AbsInventory'&gt;, ('safediv', &lt;class 'decimal.Decimal'&gt;, &lt;class 'decimal.Decimal'&gt;): &lt;class 'beancount.query.query_env.SafeDiv'&gt;, ('safediv', &lt;class 'decimal.Decimal'&gt;, &lt;class 'int'&gt;): &lt;class 'beancount.query.query_env.SafeDivInt'&gt;, 'length': &lt;class 'beancount.query.query_env.Length'&gt;, 'str': &lt;class 'beancount.query.query_env.Str'&gt;, 'maxwidth': &lt;class 'beancount.query.query_env.MaxWidth'&gt;, 'root': &lt;class 'beancount.query.query_env.Root'&gt;, 'parent': &lt;class 'beancount.query.query_env.Parent'&gt;, 'leaf': &lt;class 'beancount.query.query_env.Leaf'&gt;, 'grep': &lt;class 'beancount.query.query_env.Grep'&gt;, 'grepn': &lt;class 'beancount.query.query_env.GrepN'&gt;, 'subst': &lt;class 'beancount.query.query_env.Subst'&gt;, 'open_date': &lt;class 'beancount.query.query_env.OpenDate'&gt;, 'close_date': &lt;class 'beancount.query.query_env.CloseDate'&gt;, 'meta': &lt;class 'beancount.query.query_env.Meta'&gt;, 'entry_meta': &lt;class 'beancount.query.query_env.EntryMeta'&gt;, 'any_meta': &lt;class 'beancount.query.query_env.AnyMeta'&gt;, 'open_meta': &lt;class 'beancount.query.query_env.OpenMeta'&gt;, 'currency_meta': &lt;class 'beancount.query.query_env.CurrencyMeta'&gt;, 'commodity_meta': &lt;class 'beancount.query.query_env.CurrencyMeta'&gt;, 'account_sortkey': &lt;class 'beancount.query.query_env.AccountSortKey'&gt;, ('units', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.UnitsPosition'&gt;, ('units', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.UnitsInventory'&gt;, ('cost', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.CostPosition'&gt;, ('cost', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.CostInventory'&gt;, 'year': &lt;class 'beancount.query.query_env.Year'&gt;, 'month': &lt;class 'beancount.query.query_env.Month'&gt;, 'ymonth': &lt;class 'beancount.query.query_env.YearMonth'&gt;, 'quarter': &lt;class 'beancount.query.query_env.Quarter'&gt;, 'day': &lt;class 'beancount.query.query_env.Day'&gt;, 'weekday': &lt;class 'beancount.query.query_env.Weekday'&gt;, 'today': &lt;class 'beancount.query.query_env.Today'&gt;, ('date', &lt;class 'int'&gt;, &lt;class 'int'&gt;, &lt;class 'int'&gt;): &lt;class 'beancount.query.query_env.Date'&gt;, ('date', &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ParseDate'&gt;, 'date_diff': &lt;class 'beancount.query.query_env.DateDiff'&gt;, 'date_add': &lt;class 'beancount.query.query_env.DateAdd'&gt;, ('convert', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertAmount'&gt;, ('convert', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertAmountWithDate'&gt;, ('convert', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertPosition'&gt;, ('convert', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertPositionWithDate'&gt;, ('convert', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.ConvertInventory'&gt;, ('convert', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ConvertInventoryWithDate'&gt;, ('value', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.ValuePosition'&gt;, ('value', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ValuePositionWithDate'&gt;, ('value', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.ValueInventory'&gt;, ('value', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.ValueInventoryWithDate'&gt;, ('getprice', &lt;class 'str'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.Price'&gt;, ('getprice', &lt;class 'str'&gt;, &lt;class 'str'&gt;, &lt;class 'datetime.date'&gt;): &lt;class 'beancount.query.query_env.PriceWithDate'&gt;, 'number': &lt;class 'beancount.query.query_env.Number'&gt;, 'currency': &lt;class 'beancount.query.query_env.Currency'&gt;, 'commodity': &lt;class 'beancount.query.query_env.Currency'&gt;, 'getitem': &lt;class 'beancount.query.query_env.GetItemStr'&gt;, 'findfirst': &lt;class 'beancount.query.query_env.FindFirst'&gt;, 'joinstr': &lt;class 'beancount.query.query_env.JoinStr'&gt;, ('possign', &lt;class 'decimal.Decimal'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignDecimal'&gt;, ('possign', &lt;class 'beancount.core.amount.Amount'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignAmount'&gt;, ('possign', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignPosition'&gt;, ('possign', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.PosSignInventory'&gt;, 'coalesce': &lt;class 'beancount.query.query_env.Coalesce'&gt;, 'only': &lt;class 'beancount.query.query_env.OnlyInventory'&gt;, ('filter_currency', &lt;class 'beancount.core.position.Position'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.FilterCurrencyPosition'&gt;, ('filter_currency', &lt;class 'beancount.core.inventory.Inventory'&gt;, &lt;class 'str'&gt;): &lt;class 'beancount.query.query_env.FilterCurrencyInventory'&gt;, ('sum', &lt;class 'beancount.core.amount.Amount'&gt;): &lt;class 'beancount.query.query_env.SumAmount'&gt;, ('sum', &lt;class 'beancount.core.position.Position'&gt;): &lt;class 'beancount.query.query_env.SumPosition'&gt;, ('sum', &lt;class 'beancount.core.inventory.Inventory'&gt;): &lt;class 'beancount.query.query_env.SumInventory'&gt;, 'sum': &lt;class 'beancount.query.query_env.Sum'&gt;, 'count': &lt;class 'beancount.query.query_env.Count'&gt;, 'first': &lt;class 'beancount.query.query_env.First'&gt;, 'last': &lt;class 'beancount.query.query_env.Last'&gt;, 'min': &lt;class 'beancount.query.query_env.Min'&gt;, 'max': &lt;class 'beancount.query.query_env.Max'&gt;}</em><a class="headerlink" href="#beancount.query.query_env.TargetsEnvironment.functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_env.TargetsEnvironment.wildcard_columns">
<code class="sig-name descname">wildcard_columns</code><em class="property"> = ['date', 'flag', 'payee', 'narration', 'position']</em><a class="headerlink" href="#beancount.query.query_env.TargetsEnvironment.wildcard_columns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Today">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Today</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Today" title="Permalink to this definition">¶</a></dt>
<dd><p>Today’s date</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Today.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Today.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.TypeColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">TypeColumn</code><a class="headerlink" href="#beancount.query.query_env.TypeColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.TypeColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.TypeColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.TypeEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">TypeEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.TypeEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The data type of the directive.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.TypeEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.TypeEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.UnitsInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">UnitsInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.UnitsInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of units of an inventory (stripping cost).</p>
<dl class="attribute">
<dt id="beancount.query.query_env.UnitsInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.UnitsInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.UnitsPosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">UnitsPosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.UnitsPosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of units of a position (stripping cost).</p>
<dl class="attribute">
<dt id="beancount.query.query_env.UnitsPosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.UnitsPosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ValueInventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ValueInventory</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ValueInventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an inventory to its market value at the current date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ValueInventory.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ValueInventory.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ValueInventoryWithDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ValueInventoryWithDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ValueInventoryWithDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Coerce an inventory to its market value at a particular date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ValueInventoryWithDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ValueInventoryWithDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ValuePosition">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ValuePosition</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ValuePosition" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a position to its cost currency at the market value.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ValuePosition.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ValuePosition.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.ValuePositionWithDate">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">ValuePositionWithDate</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.ValuePositionWithDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a position to its cost currency at the market value of a particular date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.ValuePositionWithDate.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.ValuePositionWithDate.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Weekday">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Weekday</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Weekday" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a 3-letter weekday from a date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Weekday.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Weekday.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.WeightColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">WeightColumn</code><a class="headerlink" href="#beancount.query.query_env.WeightColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The computed weight used for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.WeightColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.WeightColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.Year">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">Year</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.Year" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the year from a date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.Year.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.Year.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.YearColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">YearColumn</code><a class="headerlink" href="#beancount.query.query_env.YearColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The year of the date of the parent transaction for this posting.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.YearColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.YearColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.YearEntryColumn">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">YearEntryColumn</code><a class="headerlink" href="#beancount.query.query_env.YearEntryColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>The year of the date of the directive.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.YearEntryColumn.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_env.YearEntryColumn.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_env.YearMonth">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_env.</code><code class="sig-name descname">YearMonth</code><span class="sig-paren">(</span><em class="sig-param">operands</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_env.YearMonth" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the year and month from a date.</p>
<dl class="attribute">
<dt id="beancount.query.query_env.YearMonth.operands">
<code class="sig-name descname">operands</code><a class="headerlink" href="#beancount.query.query_env.YearMonth.operands" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-beancount.query.query_execute">
<span id="beancount-query-query-execute"></span><h2>beancount.query.query_execute<a class="headerlink" href="#module-beancount.query.query_execute" title="Permalink to this headline">¶</a></h2>
<p>Execution of interpreter on data rows.</p>
<dl class="class">
<dt id="beancount.query.query_execute.Allocator">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">Allocator</code><a class="headerlink" href="#beancount.query.query_execute.Allocator" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper class to count slot allocations and return unique handles to them.</p>
<dl class="method">
<dt id="beancount.query.query_execute.Allocator.allocate">
<code class="sig-name descname">allocate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.Allocator.allocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Allocate a new slot to store row aggregation information.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A unique handle used to index into an row-aggregation store (an integer).</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_execute.Allocator.create_store">
<code class="sig-name descname">create_store</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.Allocator.create_store" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new row-aggregation store suitable to contain all the node allocations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A store that can accomodate and be indexed by all the allocated slot handles.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_execute.RowContext">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">RowContext</code><a class="headerlink" href="#beancount.query.query_execute.RowContext" title="Permalink to this definition">¶</a></dt>
<dd><p>A dumb container for information used by a row expression.</p>
<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.account_types">
<code class="sig-name descname">account_types</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.account_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.balance">
<code class="sig-name descname">balance</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.balance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.commodity_map">
<code class="sig-name descname">commodity_map</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.commodity_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.entry">
<code class="sig-name descname">entry</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.entry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.open_close_map">
<code class="sig-name descname">open_close_map</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.open_close_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.options_map">
<code class="sig-name descname">options_map</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.options_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.posting">
<code class="sig-name descname">posting</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.posting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_execute.RowContext.price_map">
<code class="sig-name descname">price_map</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_execute.RowContext.price_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.create_row_context">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">create_row_context</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.create_row_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the context container which we will use to evaluate rows.</p>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.execute_print">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">execute_print</code><span class="sig-paren">(</span><em class="sig-param">c_print</em>, <em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.execute_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Print entries from a print statement specification.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_print</strong> – An instance of a compiled EvalPrint statemnet.</p></li>
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>options_map</strong> – A parser’s option_map.</p></li>
<li><p><strong>file</strong> – The output file to print to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.execute_query">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">execute_query</code><span class="sig-paren">(</span><em class="sig-param">query</em>, <em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.execute_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a compiled select statement, execute the query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> – An instance of a query_compile.Query</p></li>
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>options_map</strong> – A parser’s option_map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>result_types: A list of (name, data-type) item pairs.
result_rows: A list of ResultRow tuples of length and types described by</p>
<blockquote>
<div><p>’result_types’.</p>
</div></blockquote>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A pair of</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.filter_entries">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">filter_entries</code><span class="sig-paren">(</span><em class="sig-param">c_from</em>, <em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.filter_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the entries by the given compiled FROM clause.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>c_from</strong> – A compiled From clause instance.</p></li>
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>options_map</strong> – A parser’s option_map.</p></li>
<li><p><strong>context</strong> – A prototype of RowContext to use for evaluation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of filtered entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.flatten_results">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">flatten_results</code><span class="sig-paren">(</span><em class="sig-param">result_types</em>, <em class="sig-param">result_rows</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.flatten_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert inventories in result types to have a row for each.</p>
<p>This routine will expand all result lines with an inventory into a new line
for each position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_types</strong> – A list of (name, data-type) item pairs.</p></li>
<li><p><strong>result_rows</strong> – A list of ResultRow tuples of length and types described by
‘result_types’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A list of (name, data-type) item pairs. There should be no</dt><dd><p>Inventory types anymore.</p>
</dd>
<dt>result_rows: A list of ResultRow tuples of length and types described by</dt><dd><p>’result_types’. All inventories from the input should have been converted
to Position types.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>result_types</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.row_sortkey">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">row_sortkey</code><span class="sig-paren">(</span><em class="sig-param">order_indexes</em>, <em class="sig-param">values</em>, <em class="sig-param">c_exprs</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.row_sortkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a sortkey for the given values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>order_indexes</strong> – The indexes by which the rows should be sorted.</p></li>
<li><p><strong>values</strong> – The computed values in the row.</p></li>
<li><p><strong>c_exprs</strong> – The matching c_expr’s.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple, the sortkey.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_execute.uses_balance_column">
<code class="sig-prename descclassname">beancount.query.query_execute.</code><code class="sig-name descname">uses_balance_column</code><span class="sig-paren">(</span><em class="sig-param">c_expr</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_execute.uses_balance_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the expression accesses the special ‘balance’ column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c_expr</strong> – A compiled expression tree (an EvalNode node).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the expression contains a BalanceColumn node.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.query.query_parser">
<span id="beancount-query-query-parser"></span><h2>beancount.query.query_parser<a class="headerlink" href="#module-beancount.query.query_parser" title="Permalink to this headline">¶</a></h2>
<p>Parser for Beancount Query Language.</p>
<dl class="class">
<dt id="beancount.query.query_parser.Add">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Add</code><a class="headerlink" href="#beancount.query.query_parser.Add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.And">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">And</code><a class="headerlink" href="#beancount.query.query_parser.And" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Balances">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Balances</code><span class="sig-paren">(</span><em class="sig-param">summary_func</em>, <em class="sig-param">from_clause</em>, <em class="sig-param">where_clause</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Balances" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Contains">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Contains</code><a class="headerlink" href="#beancount.query.query_parser.Contains" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Div">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Div</code><a class="headerlink" href="#beancount.query.query_parser.Div" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Equal">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Equal</code><a class="headerlink" href="#beancount.query.query_parser.Equal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Errors">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Errors</code><a class="headerlink" href="#beancount.query.query_parser.Errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Explain">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Explain</code><span class="sig-paren">(</span><em class="sig-param">statement</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Explain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Greater">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Greater</code><a class="headerlink" href="#beancount.query.query_parser.Greater" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.GreaterEq">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">GreaterEq</code><a class="headerlink" href="#beancount.query.query_parser.GreaterEq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Journal">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Journal</code><span class="sig-paren">(</span><em class="sig-param">account</em>, <em class="sig-param">summary_func</em>, <em class="sig-param">from_clause</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Journal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Less">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Less</code><a class="headerlink" href="#beancount.query.query_parser.Less" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.LessEq">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">LessEq</code><a class="headerlink" href="#beancount.query.query_parser.LessEq" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Lexer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Lexer</code><a class="headerlink" href="#beancount.query.query_parser.Lexer" title="Permalink to this definition">¶</a></dt>
<dd><p>PLY lexer for the Beancount Query Language.</p>
<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.keywords">
<code class="sig-name descname">keywords</code><em class="property"> = {'AND', 'AS', 'ASC', 'AT', 'BALANCES', 'BY', 'CLEAR', 'CLOSE', 'DESC', 'DISTINCT', 'ERRORS', 'EXPLAIN', 'FALSE', 'FLATTEN', 'FROM', 'GROUP', 'HAVING', 'IN', 'JOURNAL', 'LIMIT', 'NOT', 'NULL', 'ON', 'OPEN', 'OR', 'ORDER', 'PIVOT', 'PRINT', 'RELOAD', 'RUN', 'SELECT', 'TRUE', 'WHERE'}</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.keywords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_ASTERISK">
<code class="sig-name descname">t_ASTERISK</code><em class="property"> = '\\*'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_ASTERISK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_COMMA">
<code class="sig-name descname">t_COMMA</code><em class="property"> = ','</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_COMMA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Lexer.t_DATE">
<code class="sig-name descname">t_DATE</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_DATE" title="Permalink to this definition">¶</a></dt>
<dd><p>(#(“[^”]*”<a href="#id3"><span class="problematic" id="id4">|\'[^\']*\')|</span></a>dddd-dd-dd)</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Lexer.t_DECIMAL">
<code class="sig-name descname">t_DECIMAL</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_DECIMAL" title="Permalink to this definition">¶</a></dt>
<dd><p>[-+]?([0-9]+.[0-9]*|[0-9]*.[0-9]+)</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_EQ">
<code class="sig-name descname">t_EQ</code><em class="property"> = '='</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_EQ" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_GT">
<code class="sig-name descname">t_GT</code><em class="property"> = '&gt;'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_GT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_GTE">
<code class="sig-name descname">t_GTE</code><em class="property"> = '&gt;='</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_GTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Lexer.t_ID">
<code class="sig-name descname">t_ID</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>[a-zA-Z][<a href="#id5"><span class="problematic" id="id6">a-zA-Z_</span></a>]*</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Lexer.t_INTEGER">
<code class="sig-name descname">t_INTEGER</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_INTEGER" title="Permalink to this definition">¶</a></dt>
<dd><p>[-+]?[0-9]+</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_LPAREN">
<code class="sig-name descname">t_LPAREN</code><em class="property"> = '\\('</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_LPAREN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_LT">
<code class="sig-name descname">t_LT</code><em class="property"> = '&lt;'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_LT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_LTE">
<code class="sig-name descname">t_LTE</code><em class="property"> = '&lt;='</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_LTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_MINUS">
<code class="sig-name descname">t_MINUS</code><em class="property"> = '-'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_MINUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_NE">
<code class="sig-name descname">t_NE</code><em class="property"> = '!='</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_NE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_PLUS">
<code class="sig-name descname">t_PLUS</code><em class="property"> = '\\+'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_PLUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_RPAREN">
<code class="sig-name descname">t_RPAREN</code><em class="property"> = '\\)'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_RPAREN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_SEMI">
<code class="sig-name descname">t_SEMI</code><em class="property"> = ';'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_SEMI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_SLASH">
<code class="sig-name descname">t_SLASH</code><em class="property"> = '/'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_SLASH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Lexer.t_STRING">
<code class="sig-name descname">t_STRING</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_STRING" title="Permalink to this definition">¶</a></dt>
<dd><p>(“[^”]*”<a href="#id1"><span class="problematic" id="id2">|</span></a>’[^’]*’)</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_TILDE">
<code class="sig-name descname">t_TILDE</code><em class="property"> = '~'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_TILDE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Lexer.t_error">
<code class="sig-name descname">t_error</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.t_ignore">
<code class="sig-name descname">t_ignore</code><em class="property"> = ' \t\n'</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.t_ignore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Lexer.tokens">
<code class="sig-name descname">tokens</code><em class="property"> = ['ID', 'INTEGER', 'DECIMAL', 'STRING', 'DATE', 'COMMA', 'SEMI', 'LPAREN', 'RPAREN', 'TILDE', 'EQ', 'NE', 'GT', 'GTE', 'LT', 'LTE', 'ASTERISK', 'SLASH', 'PLUS', 'MINUS', 'IN', 'ORDER', 'CLEAR', 'AS', 'PRINT', 'ON', 'FLATTEN', 'ASC', 'PIVOT', 'OR', 'RELOAD', 'NOT', 'JOURNAL', 'DISTINCT', 'WHERE', 'NULL', 'OPEN', 'EXPLAIN', 'LIMIT', 'CLOSE', 'DESC', 'SELECT', 'FALSE', 'FROM', 'ERRORS', 'BY', 'AT', 'RUN', 'BALANCES', 'AND', 'GROUP', 'TRUE', 'HAVING']</em><a class="headerlink" href="#beancount.query.query_parser.Lexer.tokens" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Match">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Match</code><a class="headerlink" href="#beancount.query.query_parser.Match" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Mul">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Mul</code><a class="headerlink" href="#beancount.query.query_parser.Mul" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Not">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Not</code><a class="headerlink" href="#beancount.query.query_parser.Not" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Or">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Or</code><a class="headerlink" href="#beancount.query.query_parser.Or" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="exception">
<dt id="beancount.query.query_parser.ParseError">
<em class="property">exception </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">ParseError</code><a class="headerlink" href="#beancount.query.query_parser.ParseError" title="Permalink to this definition">¶</a></dt>
<dd><p>A parser error.</p>
</dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Parser">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Parser</code><span class="sig-paren">(</span><em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>PLY parser for the Beancount Query Language’s full command syntax.</p>
<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_balances_statement">
<code class="sig-name descname">p_balances_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_balances_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>balances_statement : BALANCES summary_func from where</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_delimiter">
<code class="sig-name descname">p_delimiter</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_delimiter" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>delimiter<span class="classifier">SEMI</span></dt><dd><div class="line-block">
<div class="line">empty</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_errors_statement">
<code class="sig-name descname">p_errors_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_errors_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>errors_statement : ERRORS</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_explain_statement">
<code class="sig-name descname">p_explain_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_explain_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>top_statement : EXPLAIN statement delimiter</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_journal_statement">
<code class="sig-name descname">p_journal_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_journal_statement" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>journal_statement<span class="classifier">JOURNAL summary_func from</span></dt><dd><div class="line-block">
<div class="line">JOURNAL account summary_func from</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_print_statement">
<code class="sig-name descname">p_print_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_print_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>print_statement : PRINT from</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_regular_statement">
<code class="sig-name descname">p_regular_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_regular_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>top_statement : statement delimiter</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_reload_statement">
<code class="sig-name descname">p_reload_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_reload_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>reload_statement : RELOAD</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_run_statement">
<code class="sig-name descname">p_run_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_run_statement" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>run_statement<span class="classifier">RUN ID</span></dt><dd><div class="line-block">
<div class="line">RUN STRING</div>
<div class="line">RUN ASTERISK</div>
<div class="line">RUN empty</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_statement">
<code class="sig-name descname">p_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_statement" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>statement<span class="classifier">select_statement</span></dt><dd><div class="line-block">
<div class="line">balances_statement</div>
<div class="line">journal_statement</div>
<div class="line">print_statement</div>
<div class="line">run_statement</div>
<div class="line">errors_statement</div>
<div class="line">reload_statement</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.Parser.p_summary_func">
<code class="sig-name descname">p_summary_func</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Parser.p_summary_func" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>summary_func<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">AT ID</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.Parser.start">
<code class="sig-name descname">start</code><em class="property"> = 'top_statement'</em><a class="headerlink" href="#beancount.query.query_parser.Parser.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Print">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Print</code><span class="sig-paren">(</span><em class="sig-param">from_clause</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Print" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Reload">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Reload</code><a class="headerlink" href="#beancount.query.query_parser.Reload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.RunCustom">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">RunCustom</code><span class="sig-paren">(</span><em class="sig-param">query_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.RunCustom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Select">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Select</code><span class="sig-paren">(</span><em class="sig-param">targets</em>, <em class="sig-param">from_clause</em>, <em class="sig-param">where_clause</em>, <em class="sig-param">group_by</em>, <em class="sig-param">order_by</em>, <em class="sig-param">pivot_by</em>, <em class="sig-param">limit</em>, <em class="sig-param">distinct</em>, <em class="sig-param">flatten</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.Select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.SelectParser">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">SelectParser</code><span class="sig-paren">(</span><em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser" title="Permalink to this definition">¶</a></dt>
<dd><p>PLY parser for the Beancount Query Language’s SELECT statement.</p>
<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.handle_comma_separated_list">
<code class="sig-name descname">handle_comma_separated_list</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.handle_comma_separated_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle a list of 0, 1 or more comma-separated values.
:param p: A gramar object.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_account">
<code class="sig-name descname">p_account</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_account" title="Permalink to this definition">¶</a></dt>
<dd><p>account : STRING</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_boolean">
<code class="sig-name descname">p_boolean</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_boolean" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>boolean<span class="classifier">TRUE</span></dt><dd><div class="line-block">
<div class="line">FALSE</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_column">
<code class="sig-name descname">p_column</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_column" title="Permalink to this definition">¶</a></dt>
<dd><p>column : ID</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_column_list">
<code class="sig-name descname">p_column_list</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_column_list" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>column_list<span class="classifier">column</span></dt><dd><div class="line-block">
<div class="line">column_list COMMA column</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_constant">
<code class="sig-name descname">p_constant</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_constant" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>constant<span class="classifier">NULL</span></dt><dd><div class="line-block">
<div class="line">boolean</div>
<div class="line">INTEGER</div>
<div class="line">DECIMAL</div>
<div class="line">STRING</div>
<div class="line">DATE</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_distinct">
<code class="sig-name descname">p_distinct</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_distinct" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>distinct<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">DISTINCT</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_empty">
<code class="sig-name descname">p_empty</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>empty :</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_error">
<code class="sig-name descname">p_error</code><span class="sig-paren">(</span><em class="sig-param">token</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expr_index">
<code class="sig-name descname">p_expr_index</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expr_index" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>expr_index<span class="classifier">expression</span></dt><dd><div class="line-block">
<div class="line">INTEGER</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expr_index_list">
<code class="sig-name descname">p_expr_index_list</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expr_index_list" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>expr_index_list<span class="classifier">expr_index</span></dt><dd><div class="line-block">
<div class="line">expr_index_list COMMA expr_index</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_add">
<code class="sig-name descname">p_expression_add</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_add" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression PLUS expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_and">
<code class="sig-name descname">p_expression_and</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_and" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression AND expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_column">
<code class="sig-name descname">p_expression_column</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_column" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : column</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_constant">
<code class="sig-name descname">p_expression_constant</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_constant" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : constant</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_contains">
<code class="sig-name descname">p_expression_contains</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_contains" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression IN expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_div">
<code class="sig-name descname">p_expression_div</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_div" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression SLASH expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_eq">
<code class="sig-name descname">p_expression_eq</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_eq" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression EQ expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_function">
<code class="sig-name descname">p_expression_function</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_function" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : ID LPAREN expression_list_opt RPAREN</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_gt">
<code class="sig-name descname">p_expression_gt</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_gt" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression GT expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_gte">
<code class="sig-name descname">p_expression_gte</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_gte" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression GTE expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_list">
<code class="sig-name descname">p_expression_list</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_list" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>expression_list<span class="classifier">expression</span></dt><dd><div class="line-block">
<div class="line">expression_list COMMA expression</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_list_opt">
<code class="sig-name descname">p_expression_list_opt</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_list_opt" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>expression_list_opt<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">expression</div>
<div class="line">expression_list COMMA expression</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_lt">
<code class="sig-name descname">p_expression_lt</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_lt" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression LT expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_lte">
<code class="sig-name descname">p_expression_lte</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_lte" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression LTE expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_match">
<code class="sig-name descname">p_expression_match</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_match" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression TILDE expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_mul">
<code class="sig-name descname">p_expression_mul</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_mul" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression ASTERISK expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_ne">
<code class="sig-name descname">p_expression_ne</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_ne" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression NE expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_not">
<code class="sig-name descname">p_expression_not</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_not" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : NOT expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_or">
<code class="sig-name descname">p_expression_or</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_or" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression OR expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_paren">
<code class="sig-name descname">p_expression_paren</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_paren" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : LPAREN expression RPAREN</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_expression_sub">
<code class="sig-name descname">p_expression_sub</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_expression_sub" title="Permalink to this definition">¶</a></dt>
<dd><p>expression : expression MINUS expression</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_flatten">
<code class="sig-name descname">p_flatten</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_flatten" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>flatten<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">FLATTEN</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_from">
<code class="sig-name descname">p_from</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_from" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>from<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">FROM opt_expression opt_open opt_close opt_clear</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_from_subselect">
<code class="sig-name descname">p_from_subselect</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_from_subselect" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>from_subselect<span class="classifier">from</span></dt><dd><div class="line-block">
<div class="line">FROM LPAREN select_statement RPAREN</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_group_by">
<code class="sig-name descname">p_group_by</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_group_by" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>group_by<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">GROUP BY expr_index_list having</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_having">
<code class="sig-name descname">p_having</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_having" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>having<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">HAVING expression</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_limit">
<code class="sig-name descname">p_limit</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_limit" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>limit<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">LIMIT INTEGER</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_opt_clear">
<code class="sig-name descname">p_opt_clear</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_opt_clear" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>opt_clear<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">CLEAR</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_opt_close">
<code class="sig-name descname">p_opt_close</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_opt_close" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>opt_close<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">CLOSE</div>
<div class="line">CLOSE ON DATE</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_opt_expression">
<code class="sig-name descname">p_opt_expression</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_opt_expression" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>opt_expression<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">expression</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_opt_open">
<code class="sig-name descname">p_opt_open</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_opt_open" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>opt_open<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">OPEN ON DATE</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_order_by">
<code class="sig-name descname">p_order_by</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_order_by" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>order_by<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">ORDER BY expr_index_list ordering</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_ordering">
<code class="sig-name descname">p_ordering</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_ordering" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>ordering<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">ASC</div>
<div class="line">DESC</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_pivot_by">
<code class="sig-name descname">p_pivot_by</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_pivot_by" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>pivot_by<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">PIVOT BY column_list</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_select_statement">
<code class="sig-name descname">p_select_statement</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_select_statement" title="Permalink to this definition">¶</a></dt>
<dd><p>select_statement : SELECT distinct target_spec from_subselect where                            group_by order_by pivot_by limit flatten</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_target">
<code class="sig-name descname">p_target</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_target" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>target<span class="classifier">expression AS ID</span></dt><dd><div class="line-block">
<div class="line">expression</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_target_list">
<code class="sig-name descname">p_target_list</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_target_list" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>target_list<span class="classifier">target</span></dt><dd><div class="line-block">
<div class="line">target_list COMMA target</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_target_spec">
<code class="sig-name descname">p_target_spec</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_target_spec" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>target_spec<span class="classifier">ASTERISK</span></dt><dd><div class="line-block">
<div class="line">target_list</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.p_where">
<code class="sig-name descname">p_where</code><span class="sig-paren">(</span><em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.p_where" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>where<span class="classifier">empty</span></dt><dd><div class="line-block">
<div class="line">WHERE expression</div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">line</em>, <em class="sig-param">debug=False</em>, <em class="sig-param">default_close_date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.SelectParser.precedence">
<code class="sig-name descname">precedence</code><em class="property"> = [('left', 'OR'), ('left', 'AND'), ('left', 'NOT'), ('left', 'PLUS', 'MINUS'), ('left', 'ASTERISK', 'SLASH'), ('left', 'EQ', 'NE', 'GT', 'GTE', 'LT', 'LTE', 'TILDE', 'IN')]</em><a class="headerlink" href="#beancount.query.query_parser.SelectParser.precedence" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.query_parser.SelectParser.start">
<code class="sig-name descname">start</code><em class="property"> = 'select_statement'</em><a class="headerlink" href="#beancount.query.query_parser.SelectParser.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_parser.SelectParser.tokenize">
<code class="sig-name descname">tokenize</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.SelectParser.tokenize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_parser.Sub">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">Sub</code><a class="headerlink" href="#beancount.query.query_parser.Sub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.query.query_parser.get_expression_name">
<code class="sig-prename descclassname">beancount.query.query_parser.</code><code class="sig-name descname">get_expression_name</code><span class="sig-paren">(</span><em class="sig-param">expr</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_parser.get_expression_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Come up with a reasonable identifier for an expression.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>expr</strong> – An expression node.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.query.query_render">
<span id="beancount-query-query-render"></span><h2>beancount.query.query_render<a class="headerlink" href="#module-beancount.query.query_render" title="Permalink to this headline">¶</a></h2>
<p>Rendering of rows.</p>
<dl class="class">
<dt id="beancount.query.query_render.AmountRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">AmountRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.AmountRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for amounts. The currencies align with each other.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.AmountRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.AmountRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="beancount.core.html#beancount.core.amount.Amount" title="beancount.core.amount.Amount"><code class="xref py py-class docutils literal notranslate"><span class="pre">beancount.core.amount.Amount</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.AmountRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">amount_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.AmountRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.AmountRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.AmountRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.AmountRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">amount_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.AmountRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.AmountRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.AmountRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.BoolRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">BoolRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.BoolRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for left-aligned strings.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.BoolRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.BoolRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.bool</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.BoolRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.BoolRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.BoolRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.BoolRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.BoolRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.BoolRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.BoolRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.BoolRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.ColumnRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">ColumnRenderer</code><span class="sig-paren">(</span><em class="sig-param">unused_dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ColumnRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for classes that render and compute formatting and width for all
values that appear within a column. All the values rendered are assumed to
be of the same type, or None (empty). The class receives all the values that
will be rendered to accumulate the dimensions it will need to format them
later on. It is then responsible to render those values in a way that will
align nicely in a column, in the rendered output, whereby all the values
render to the same width.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.ColumnRenderer.dtype">
<code class="sig-name descname">dtype</code><em class="property"> = None</em><a class="headerlink" href="#beancount.query.query_render.ColumnRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ColumnRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ColumnRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ColumnRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ColumnRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ColumnRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ColumnRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ColumnRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ColumnRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.DateTimeRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">DateTimeRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DateTimeRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for decimal numbers.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.DateTimeRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.DateTimeRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">datetime.date</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DateTimeRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">dtime</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DateTimeRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DateTimeRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DateTimeRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DateTimeRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DateTimeRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.DecimalRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">DecimalRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DecimalRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for decimal numbers.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.DecimalRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.DecimalRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">decimal.Decimal</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DecimalRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DecimalRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DecimalRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DecimalRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DecimalRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DecimalRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.DecimalRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.DecimalRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.IntegerRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">IntegerRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.IntegerRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for integers.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.IntegerRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.IntegerRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.int</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.IntegerRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.IntegerRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.IntegerRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.IntegerRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.IntegerRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.IntegerRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.IntegerRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.IntegerRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.InventoryRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">InventoryRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.InventoryRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for Inventoru instances. Inventories renders as a list of position
strings. Both the unit numbers and the cost numbers are aligned, if any.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.InventoryRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.InventoryRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="beancount.core.html#beancount.core.inventory.Inventory" title="beancount.core.inventory.Inventory"><code class="xref py py-class docutils literal notranslate"><span class="pre">beancount.core.inventory.Inventory</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.InventoryRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">inv</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.InventoryRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.InventoryRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">inv</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.InventoryRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.ObjectRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">ObjectRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ObjectRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for a generic object type.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.ObjectRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.ObjectRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.object</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ObjectRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ObjectRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ObjectRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ObjectRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ObjectRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ObjectRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.ObjectRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.ObjectRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.PositionRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">PositionRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.PositionRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for positions. Inventories renders as a list of position
strings. Both the unit numbers and the cost numbers are aligned, if any.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.PositionRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.PositionRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="beancount.core.html#beancount.core.position.Position" title="beancount.core.position.Position"><code class="xref py py-class docutils literal notranslate"><span class="pre">beancount.core.position.Position</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.PositionRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">pos</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.PositionRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.PositionRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.PositionRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.PositionRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">pos</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.PositionRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.PositionRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.PositionRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.StringRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">StringRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for left-aligned strings.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.StringRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.StringRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.str</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.query_render.StringSetRenderer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">StringSetRenderer</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringSetRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>A renderer for sets of strings.</p>
<dl class="attribute">
<dt id="beancount.query.query_render.StringSetRenderer.dtype">
<code class="sig-name descname">dtype</code><a class="headerlink" href="#beancount.query.query_render.StringSetRenderer.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">builtins.set</span></code></p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringSetRenderer.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">string_set</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringSetRenderer.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – Any object of the type ‘dtype’.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or a list of strings, the rendered and aligned string(s)
representations of for the value. A value may render on multiple
lines, which is why a list may be returned here.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringSetRenderer.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringSetRenderer.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare to render all values of a column.
This is called after having seen all the values in calls to update().</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringSetRenderer.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">string_set</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringSetRenderer.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the rendered with the given value.
:param value: Any object of the type ‘dtype’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An integer, the number of lines this will get rendered to.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.query_render.StringSetRenderer.width">
<code class="sig-name descname">width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.StringSetRenderer.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the computed width of this column.
:returns: An integer, the number of characters wide required for this field.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.query.query_render.get_renderers">
<code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">get_renderers</code><span class="sig-paren">(</span><em class="sig-param">result_types</em>, <em class="sig-param">result_rows</em>, <em class="sig-param">dcontext</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.get_renderers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create renderers for each column and prepare them with the given data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_types</strong> – A list of items describing the names and data types of the items in
each column.</p></li>
<li><p><strong>result_rows</strong> – A list of ResultRow instances.</p></li>
<li><p><strong>dcontext</strong> – A DisplayContext object prepared for rendering numbers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of subclass instances of ColumnRenderer.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_render.render_csv">
<code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">render_csv</code><span class="sig-paren">(</span><em class="sig-param">result_types</em>, <em class="sig-param">result_rows</em>, <em class="sig-param">dcontext</em>, <em class="sig-param">file</em>, <em class="sig-param">expand=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.render_csv" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the result of executing a query in text format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_types</strong> – A list of items describing the names and data types of the items in
each column.</p></li>
<li><p><strong>result_rows</strong> – A list of ResultRow instances.</p></li>
<li><p><strong>dcontext</strong> – A DisplayContext object prepared for rendering numbers.</p></li>
<li><p><strong>file</strong> – A file object to render the results to.</p></li>
<li><p><strong>expand</strong> – A boolean, if true, expand columns that render to lists on multiple rows.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_render.render_rows">
<code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">render_rows</code><span class="sig-paren">(</span><em class="sig-param">result_types</em>, <em class="sig-param">result_rows</em>, <em class="sig-param">dcontext</em>, <em class="sig-param">expand=False</em>, <em class="sig-param">spaced=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.render_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the result of executing a query in text format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_types</strong> – A list of items describing the names and data types of the items in
each column.</p></li>
<li><p><strong>result_rows</strong> – A list of ResultRow instances.</p></li>
<li><p><strong>dcontext</strong> – A DisplayContext object prepared for rendering numbers.</p></li>
<li><p><strong>expand</strong> – A boolean, if true, expand columns that render to lists on multiple rows.</p></li>
<li><p><strong>spaced</strong> – If true, leave an empty line between each of the rows. This is useful if the
results have a lot of rows that render over multiple lines.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.query_render.render_text">
<code class="sig-prename descclassname">beancount.query.query_render.</code><code class="sig-name descname">render_text</code><span class="sig-paren">(</span><em class="sig-param">result_types</em>, <em class="sig-param">result_rows</em>, <em class="sig-param">dcontext</em>, <em class="sig-param">file</em>, <em class="sig-param">expand=False</em>, <em class="sig-param">boxed=False</em>, <em class="sig-param">spaced=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.query_render.render_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the result of executing a query in text format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>result_types</strong> – A list of items describing the names and data types of the items in
each column.</p></li>
<li><p><strong>result_rows</strong> – A list of ResultRow instances.</p></li>
<li><p><strong>dcontext</strong> – A DisplayContext object prepared for rendering numbers.</p></li>
<li><p><strong>file</strong> – A file object to render the results to.</p></li>
<li><p><strong>expand</strong> – A boolean, if true, expand columns that render to lists on multiple rows.</p></li>
<li><p><strong>boxed</strong> – A boolean, true if we should render the results in a fancy-looking ASCII box.</p></li>
<li><p><strong>spaced</strong> – If true, leave an empty line between each of the rows. This is useful if the
results have a lot of rows that render over multiple lines.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.query.shell">
<span id="beancount-query-shell"></span><h2>beancount.query.shell<a class="headerlink" href="#module-beancount.query.shell" title="Permalink to this headline">¶</a></h2>
<p>An interactive command-line shell interpreter for the Beancount Query Language.</p>
<dl class="class">
<dt id="beancount.query.shell.BQLShell">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">BQLShell</code><span class="sig-paren">(</span><em class="sig-param">is_interactive</em>, <em class="sig-param">loadfun</em>, <em class="sig-param">outfile</em>, <em class="sig-param">default_format='text'</em>, <em class="sig-param">do_numberify=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell" title="Permalink to this definition">¶</a></dt>
<dd><p>An interactive shell interpreter for the Beancount query language.</p>
<dl class="method">
<dt id="beancount.query.shell.BQLShell.help_attributes">
<code class="sig-name descname">help_attributes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.help_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.help_from">
<code class="sig-name descname">help_from</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.help_from" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.help_targets">
<code class="sig-name descname">help_targets</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.help_targets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.help_where">
<code class="sig-name descname">help_where</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.help_where" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Balances">
<code class="sig-name descname">on_Balances</code><span class="sig-paren">(</span><em class="sig-param">balance</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Select balances of some subset of postings. This command is a
convenience and converts into an equivalent Select statement, designed
to extract the most sensible list of columns for the register of a list
of entries as a table.</p>
<p>The general form of a JOURNAL statement loosely follows SQL syntax:</p>
<blockquote>
<div><p>BALANCE [FROM_CLAUSE]</p>
</div></blockquote>
<p>See the SELECT query help for more details on the FROM clause.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Errors">
<code class="sig-name descname">on_Errors</code><span class="sig-paren">(</span><em class="sig-param">errors_statement</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the errors that occurred during parsing.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Explain">
<code class="sig-name descname">on_Explain</code><span class="sig-paren">(</span><em class="sig-param">explain</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Explain" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and print a compiled statement for debugging.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Journal">
<code class="sig-name descname">on_Journal</code><span class="sig-paren">(</span><em class="sig-param">journal</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a journal of some subset of postings. This command is a
convenience and converts into an equivalent Select statement, designed
to extract the most sensible list of columns for the register of a list
of entries as a table.</p>
<p>The general form of a JOURNAL statement loosely follows SQL syntax:</p>
<blockquote>
<div><p>JOURNAL &lt;account-regexp&gt; [FROM_CLAUSE]</p>
</div></blockquote>
<p>See the SELECT query help for more details on the FROM clause.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Print">
<code class="sig-name descname">on_Print</code><span class="sig-paren">(</span><em class="sig-param">print_stmt</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Print" title="Permalink to this definition">¶</a></dt>
<dd><p>Print entries in Beancount format.</p>
<p>The general form of a PRINT statement includes an SQL-like FROM
selector:</p>
<blockquote>
<div><p>PRINT [FROM &lt;from_expr&gt; …]</p>
</div></blockquote>
<p>Where:</p>
<blockquote>
<div><dl class="simple">
<dt>from_expr: A logical expression that matches on the attributes of</dt><dd><p>the directives. See SELECT command for details (this FROM expression
supports all the same expressions including its OPEN, CLOSE and
CLEAR operations).</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Reload">
<code class="sig-name descname">on_Reload</code><span class="sig-paren">(</span><em class="sig-param">unused_statement=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload the input file without restarting the shell.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_RunCustom">
<code class="sig-name descname">on_RunCustom</code><span class="sig-paren">(</span><em class="sig-param">run_stmt</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_RunCustom" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a custom query instead of a SQL command.</p>
<blockquote>
<div><p>RUN &lt;custom-query-name&gt;</p>
</div></blockquote>
<p>Where:</p>
<blockquote>
<div><dl class="simple">
<dt>custom-query-name: Should be the name of a custom query to be defined</dt><dd><p>in the Beancount input file.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.BQLShell.on_Select">
<code class="sig-name descname">on_Select</code><span class="sig-paren">(</span><em class="sig-param">statement</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.BQLShell.on_Select" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract data from a query on the postings.</p>
<p>The general form of a SELECT statement loosely follows SQL syntax, with
some mild and idiomatic extensions:</p>
<blockquote>
<div><p>SELECT [DISTINCT] [&lt;targets&gt;|*]
[FROM &lt;from_expr&gt; [OPEN ON &lt;date&gt;] [CLOSE [ON &lt;date&gt;]] [CLEAR]]
[WHERE &lt;where_expr&gt;]
[GROUP BY &lt;groups&gt;]
[ORDER BY &lt;groups&gt; [ASC|DESC]]
[LIMIT num]</p>
</div></blockquote>
<p>Where:</p>
<blockquote>
<div><dl class="simple">
<dt>targets: A list of desired output attributes from the postings, and</dt><dd><p>expressions on them. Some of the attributes of the parent transaction
directive are made available in this context as well. Simple functions
(that return a single value per row) and aggregation functions (that
return a single value per group) are available. For the complete
list of supported columns and functions, see help on “targets”.
You can also provide a wildcard here, which will select a reasonable
default set of columns for rendering a journal.</p>
</dd>
<dt>from_expr: A logical expression that matches on the attributes of</dt><dd><p>the directives (not postings). This allows you to select a subset of
transactions, so the accounting equation is respected for balance
reports. For the complete list of supported columns and functions,
see help on “from”.</p>
</dd>
<dt>where_expr: A logical expression that matches on the attributes of</dt><dd><p>postings. The available columns are similar to those in the targets
clause, without the aggregation functions.</p>
</dd>
<dt>OPEN clause: replace all the transactions before the given date by</dt><dd><p>summarizing entries and transfer Income and Expenses balances to
Equity.</p>
</dd>
</dl>
<p>CLOSE clause: Remove all the transactions after the given date and</p>
<p>CLEAR: Transfer final Income and Expenses balances to Equity.</p>
</div></blockquote>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.shell.BQLShell.prompt">
<code class="sig-name descname">prompt</code><em class="property"> = 'beancount&gt; '</em><a class="headerlink" href="#beancount.query.shell.BQLShell.prompt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.query.shell.DispatchingShell">
<em class="property">class </em><code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">DispatchingShell</code><span class="sig-paren">(</span><em class="sig-param">is_interactive</em>, <em class="sig-param">parser</em>, <em class="sig-param">outfile</em>, <em class="sig-param">default_format</em>, <em class="sig-param">do_numberify</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell" title="Permalink to this definition">¶</a></dt>
<dd><p>A usable convenient shell for interpreting commands, with history.</p>
<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.add_help">
<code class="sig-name descname">add_help</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.add_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach help functions for each of the parsed token handlers.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.cmdloop">
<code class="sig-name descname">cmdloop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.cmdloop" title="Permalink to this definition">¶</a></dt>
<dd><p>Override cmdloop to handle keyboard interrupts.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.default">
<code class="sig-name descname">default</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Default handling of lines which aren’t recognized as native shell commands.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – The string to be parsed.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.dispatch">
<code class="sig-name descname">dispatch</code><span class="sig-paren">(</span><em class="sig-param">statement</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.dispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch the given statement to a suitable method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>statement</strong> – An instance provided by the parser.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whatever the invoked method happens to return.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_EOF">
<code class="sig-name descname">do_EOF</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_EOF" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit the parser.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_clear">
<code class="sig-name descname">do_clear</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the history.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_exit">
<code class="sig-name descname">do_exit</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit the parser.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_help">
<code class="sig-name descname">do_help</code><span class="sig-paren">(</span><em class="sig-param">command</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip superfluous semicolon.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_history">
<code class="sig-name descname">do_history</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the command-line history statement.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_lex">
<code class="sig-name descname">do_lex</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_lex" title="Permalink to this definition">¶</a></dt>
<dd><p>Just run the lexer on the following command and print the output.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_parse">
<code class="sig-name descname">do_parse</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Just run the parser on the following command and print the output.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_quit">
<code class="sig-name descname">do_quit</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit the parser.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_set">
<code class="sig-name descname">do_set</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Get/set shell settings variables.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.do_tokenize">
<code class="sig-name descname">do_tokenize</code><span class="sig-paren">(</span><em class="sig-param">line</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.do_tokenize" title="Permalink to this definition">¶</a></dt>
<dd><p>Just run the lexer on the following command and print the output.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.shell.DispatchingShell.doc_header">
<code class="sig-name descname">doc_header</code><em class="property"> = 'Shell utility commands (type help &lt;topic&gt;):'</em><a class="headerlink" href="#beancount.query.shell.DispatchingShell.doc_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.emptyline">
<code class="sig-name descname">emptyline</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.emptyline" title="Permalink to this definition">¶</a></dt>
<dd><p>Do nothing on an empty line.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.exit">
<code class="sig-name descname">exit</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit the parser.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.get_pager">
<code class="sig-name descname">get_pager</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.get_pager" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and return a context manager to write to, a pager subprocess if required.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A pair of a file object to write to, and a pipe object to wait on (or</p>
</dd>
</dl>
<p>None if not necessary to wait).</p>
</dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.initialize_vars">
<code class="sig-name descname">initialize_vars</code><span class="sig-paren">(</span><em class="sig-param">default_format</em>, <em class="sig-param">do_numberify</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.initialize_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the setting variables of the interactive shell.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.query.shell.DispatchingShell.max_entries">
<code class="sig-name descname">max_entries</code><em class="property"> = 64</em><a class="headerlink" href="#beancount.query.shell.DispatchingShell.max_entries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.query.shell.DispatchingShell.misc_header">
<code class="sig-name descname">misc_header</code><em class="property"> = 'Beancount query commands:'</em><a class="headerlink" href="#beancount.query.shell.DispatchingShell.misc_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.query.shell.DispatchingShell.run_parser">
<code class="sig-name descname">run_parser</code><span class="sig-paren">(</span><em class="sig-param">line</em>, <em class="sig-param">default_close_date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.DispatchingShell.run_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle statements via our parser instance and dispatch to appropriate methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>line</strong> – The string to be parsed.</p></li>
<li><p><strong>default_close_date</strong> – A datetimed.date instance, the default close date.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.convert_bool">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">convert_bool</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.convert_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string to a boolean.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string representing a boolean.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The corresponding boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.create_custom_query_map">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">create_custom_query_map</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.create_custom_query_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a mapping of the custom queries from the list of entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of entries.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A map of query-name strings to Query directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.generate_env_attribute_list">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">generate_env_attribute_list</code><span class="sig-paren">(</span><em class="sig-param">env</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.generate_env_attribute_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a dictionary of rendered attribute lists for help.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>env</strong> – An instance of an environment.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict with keys ‘columns’, ‘functions’ and ‘aggregates’ to rendered
and formatted strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.generate_env_attributes">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">generate_env_attributes</code><span class="sig-paren">(</span><em class="sig-param">wrapper</em>, <em class="sig-param">field_dict</em>, <em class="sig-param">filter_pred=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.generate_env_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a string of all the help functions of the attributes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wrapper</strong> – A TextWrapper instance to format the paragraphs.</p></li>
<li><p><strong>field_dict</strong> – A dict of the field-names to the node instances, fetch from an
environment.</p></li>
<li><p><strong>filter_pred</strong> – A predicate to filter the desired columns. This is applied to
the evaluator node instances.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A formatted multiline string, ready for insertion in a help text.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.get_history">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">get_history</code><span class="sig-paren">(</span><em class="sig-param">max_entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.get_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the history in the readline buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>max_entries</strong> – An integer, the maximum number of entries to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of string, the previous history of commands.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.load_history">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">load_history</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.load_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the shell’s past history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – A string, the name of the file containing the shell history.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.main">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.query.shell.print_statistics">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">print_statistics</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">outfile</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.print_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Print summary statistics to stdout.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>options_map</strong> – An options map. as produced by the parser.</p></li>
<li><p><strong>outfile</strong> – A file object to write to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.save_history">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">save_history</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.save_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the shell history. This should be invoked on exit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – A string, the name of the file to save the history to.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.query.shell.summary_statistics">
<code class="sig-prename descclassname">beancount.query.shell.</code><code class="sig-name descname">summary_statistics</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.query.shell.summary_statistics" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate basic summary statistics to output a brief welcome message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of three integers, the total number of directives parsed, the total number
of transactions and the total number of postings there in.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Fava</h1>
    
  </a>
</p>



<p class="blurb">Web interface for <a href="http://furius.ca/beancount/">Beancount</a></p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fava.html">fava</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.core.html">fava.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.html">fava.ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.portfolio_list.html">fava.ext.portfolio_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.help.html">fava.help</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.util.html">fava.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.html">beancount</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.core.html">beancount.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.html">beancount.ingest</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.html">beancount.ingest.importers</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.mixins.html">beancount.ingest.importers.mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ops.html">beancount.ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.parser.html">beancount.parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.plugins.html">beancount.plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.html">beancount.prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.sources.html">beancount.prices.sources</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">beancount.query</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.numberify">beancount.query.numberify</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.query">beancount.query.query</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.query_compile">beancount.query.query_compile</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.query_env">beancount.query.query_env</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.query_execute">beancount.query.query_execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.query_parser">beancount.query.query_parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.query_render">beancount.query.query_render</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.query.shell">beancount.query.shell</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beancount.reports.html">beancount.reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.scripts.html">beancount.scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.tools.html">beancount.tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.utils.html">beancount.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.web.html">beancount.web</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava">fava @ GitHub</a></li>
    
    <li class="toctree-l1"><a href="https://gitter.im/beancount/fava">Chat</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava/issues">Issue Tracker</a></li>
    
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Dominik Aumayr.
      
      |
      <a href="../_sources/api/beancount.query.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>