
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>beancount.ops &#8212; Fava  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="beancount.parser" href="beancount.parser.html" />
    <link rel="prev" title="beancount.ingest.importers.mixins" href="beancount.ingest.importers.mixins.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-beancount.ops">
<span id="beancount-ops"></span><h1>beancount.ops<a class="headerlink" href="#module-beancount.ops" title="Permalink to this headline">¶</a></h1>
<p>Operations on the entries defined in the core modules.</p>
<p>This package contains various functions which operate on lists of entries.</p>
<div class="section" id="module-beancount.ops.balance">
<span id="beancount-ops-balance"></span><h2>beancount.ops.balance<a class="headerlink" href="#module-beancount.ops.balance" title="Permalink to this headline">¶</a></h2>
<p>Automatic padding of gaps between entries.</p>
<dl class="class">
<dt id="beancount.ops.balance.BalanceError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ops.balance.</code><code class="sig-name descname">BalanceError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.balance.BalanceError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.ops.balance.check">
<code class="sig-prename descclassname">beancount.ops.balance.</code><code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.balance.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the balance assertion directives.</p>
<p>For each Balance directive, check that their expected balance corresponds to
the actual balance computed at that time and replace failing ones by new
ones with a flag that indicates failure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>options_map</strong> – A dict of options, parsed from the input file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of a list of directives and a list of balance check errors.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.balance.get_balance_tolerance">
<code class="sig-prename descclassname">beancount.ops.balance.</code><code class="sig-name descname">get_balance_tolerance</code><span class="sig-paren">(</span><em class="sig-param">balance_entry</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.balance.get_balance_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the tolerance amount for a single entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>balance_entry</strong> – An instance of data.Balance</p></li>
<li><p><strong>options_map</strong> – An options dict, as per the parser.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Decimal, the amount of tolerance implied by the directive.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.basicops">
<span id="beancount-ops-basicops"></span><h2>beancount.ops.basicops<a class="headerlink" href="#module-beancount.ops.basicops" title="Permalink to this headline">¶</a></h2>
<p>Basic filteirng and aggregration operations on lists of entries.</p>
<p>This module contains some common basic operations on entries that are complex
enough not to belong in core/data.py.</p>
<dl class="function">
<dt id="beancount.ops.basicops.filter_link">
<code class="sig-prename descclassname">beancount.ops.basicops.</code><code class="sig-name descname">filter_link</code><span class="sig-paren">(</span><em class="sig-param">link</em>, <em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.basicops.filter_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield all the entries which have the given link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>link</strong> – A string, the link we are interested in.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Every entry in ‘entries’ that links to ‘link.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.basicops.filter_tag">
<code class="sig-prename descclassname">beancount.ops.basicops.</code><code class="sig-name descname">filter_tag</code><span class="sig-paren">(</span><em class="sig-param">tag</em>, <em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.basicops.filter_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield all the entries which have the given tag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tag</strong> – A string, the tag we are interested in.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Every entry in ‘entries’ that tags to ‘tag.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.basicops.get_common_accounts">
<code class="sig-prename descclassname">beancount.ops.basicops.</code><code class="sig-name descname">get_common_accounts</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.basicops.get_common_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the intersection of the accounts on the given entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of Transaction entries to process.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of strings, the names of the common accounts from these
entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.basicops.group_entries_by_link">
<code class="sig-prename descclassname">beancount.ops.basicops.</code><code class="sig-name descname">group_entries_by_link</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.basicops.group_entries_by_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Group the list of entries by link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives/transactions to process.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of link-name to list of entries.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.compress">
<span id="beancount-ops-compress"></span><h2>beancount.ops.compress<a class="headerlink" href="#module-beancount.ops.compress" title="Permalink to this headline">¶</a></h2>
<p>Compress multiple entries into a single one.</p>
<p>This can be used during import to compress the effective output, for accounts
with a large number of similar entries. For example, I had a trading account
which would pay out interest every single day. I have no desire to import the
full detail of these daily interests, and compressing these interest-only
entries to monthly ones made sense. This is the code that was used to carry this
out.</p>
<dl class="function">
<dt id="beancount.ops.compress.compress">
<code class="sig-prename descclassname">beancount.ops.compress.</code><code class="sig-name descname">compress</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">predicate</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.compress.compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress multiple transactions into single transactions.</p>
<p>Replace consecutive sequences of Transaction entries that fulfill the given
predicate by a single entry at the date of the last matching entry.
‘predicate’ is the function that determines if an entry should be
compressed.</p>
<p>This can be used to simply a list of transactions that are similar and occur
frequently. As an example, in a retail FOREX trading account, differential
interest of very small amounts is paid every day; it is not relevant to look
at the full detail of this interest unless there are other transactions. You
can use this to compress it into single entries between other types of
transactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>predicate</strong> – A callbable which accepts an entry and return true if the entry
is intended to be compressed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of directives, with compressible transactions replaced by a summary
equivalent.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.compress.merge">
<code class="sig-prename descclassname">beancount.ops.compress.</code><code class="sig-name descname">merge</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">prototype_txn</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.compress.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge the postings of a list of Transactions into a single one.</p>
<p>Merge postings the given entries into a single entry with the Transaction
attributes of the prototype. Return the new entry. The combined list of
postings are merged if everything about the postings is the same except the
number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>prototype_txn</strong> – A Transaction which is used to create the compressed
Transaction instance. Its list of postings is ignored.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new Transaction instance which contains all the postings from the input
entries merged together.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.documents">
<span id="beancount-ops-documents"></span><h2>beancount.ops.documents<a class="headerlink" href="#module-beancount.ops.documents" title="Permalink to this headline">¶</a></h2>
<p>Everything that relates to creating the Document directives.</p>
<dl class="class">
<dt id="beancount.ops.documents.DocumentError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ops.documents.</code><code class="sig-name descname">DocumentError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.documents.DocumentError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.ops.documents.find_documents">
<code class="sig-prename descclassname">beancount.ops.documents.</code><code class="sig-name descname">find_documents</code><span class="sig-paren">(</span><em class="sig-param">directory</em>, <em class="sig-param">input_filename</em>, <em class="sig-param">accounts_only=None</em>, <em class="sig-param">strict=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.documents.find_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>Find dated document files under the given directory.</p>
<p>If a restricting set of accounts is provided in ‘accounts_only’, only return
entries that correspond to one of the given accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – A string, the name of the root of the directory hierarchy to be searched.</p></li>
<li><p><strong>input_filename</strong> – The name of the file to be used for the Document directives. This is
also used to resolve relative directory names.</p></li>
<li><p><strong>accounts_only</strong> – A set of valid accounts strings to search for.</p></li>
<li><p><strong>strict</strong> – A boolean, set to true if you want to generate errors on documents
found in accounts not provided in accounts_only. This is only meaningful
if accounts_only is specified.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new Document objects that were created from the files found, and a list
of new errors generated.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.documents.process_documents">
<code class="sig-prename descclassname">beancount.ops.documents.</code><code class="sig-name descname">process_documents</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.documents.process_documents" title="Permalink to this definition">¶</a></dt>
<dd><p>Check files for document directives and create documents directives automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of all directives parsed from the file.</p></li>
<li><p><strong>options_map</strong> – An options dict, as is output by the parser.
We’re using its ‘filename’ option to figure out relative path to
search for documents.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of list of all entries (including new ones), and errors
generated during the process of creating document directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.documents.verify_document_files_exist">
<code class="sig-prename descclassname">beancount.ops.documents.</code><code class="sig-name descname">verify_document_files_exist</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.documents.verify_document_files_exist" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the document entries point to existing files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – a list of directives whose documents need to be validated.</p></li>
<li><p><strong>unused_options_map</strong> – A parser options dict. We’re not using it.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The same list of entries, and a list of new errors, if any were encountered.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.holdings">
<span id="beancount-ops-holdings"></span><h2>beancount.ops.holdings<a class="headerlink" href="#module-beancount.ops.holdings" title="Permalink to this headline">¶</a></h2>
<p>Compute final holdings for a list of entries.</p>
<dl class="class">
<dt id="beancount.ops.holdings.Holding">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">Holding</code><span class="sig-paren">(</span><em class="sig-param">account</em>, <em class="sig-param">number</em>, <em class="sig-param">currency</em>, <em class="sig-param">cost_number</em>, <em class="sig-param">cost_currency</em>, <em class="sig-param">book_value</em>, <em class="sig-param">market_value</em>, <em class="sig-param">price_number</em>, <em class="sig-param">price_date</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.Holding" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.aggregate_holdings_by">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">aggregate_holdings_by</code><span class="sig-paren">(</span><em class="sig-param">holdings</em>, <em class="sig-param">keyfun</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.aggregate_holdings_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate holdings by some key.</p>
<p>Note that the cost-currency must always be included in the group-key (sums
over multiple currency units do not make sense), so it is appended to the
sort-key automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>keyfun</strong> – A callable, which returns the key to aggregate by. This key need
not include the cost-currency.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of aggregated holdings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.aggregate_holdings_list">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">aggregate_holdings_list</code><span class="sig-paren">(</span><em class="sig-param">holdings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.aggregate_holdings_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Aggregate a list of holdings.</p>
<p>If there are varying ‘account’, ‘currency’ or ‘cost_currency’ attributes,
their values are replaced by ‘*’. Otherwise they are preserved. Note that
all the cost-currency values must be equal in order for aggregations to
succeed (without this constraint a sum of units in different currencies has
no meaning).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>holdings</strong> – A list of Holding instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A single Holding instance, or None, if there are no holdings in the input
list.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If multiple cost currencies encountered.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.convert_to_currency">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">convert_to_currency</code><span class="sig-paren">(</span><em class="sig-param">price_map</em>, <em class="sig-param">target_currency</em>, <em class="sig-param">holdings_list</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.convert_to_currency" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the given list of holdings’s fields to a common currency.</p>
<p>If the rate is not available to convert, leave the fields empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>price_map</strong> – A price-map, as built by prices.build_price_map().</p></li>
<li><p><strong>target_currency</strong> – The target common currency to convert amounts to.</p></li>
<li><p><strong>holdings_list</strong> – A list of holdings.Holding instances.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A modified list of holdings, with the ‘extra’ field set to the value in
‘currency’, or None, if it was not possible to convert.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.get_commodities_at_date">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">get_commodities_at_date</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.get_commodities_at_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of commodities present at a particular date.</p>
<p>This routine fetches the holdings present at a particular date and returns a
list of the commodities held in those holdings. This should define the list
of price date points required to assess the market value of this portfolio.</p>
<p>Notes:</p>
<ul class="simple">
<li><p>The ticker symbol will be fetched from the corresponding Commodity
directive. If there is no ticker symbol defined for a directive or no
corresponding Commodity directive, the currency is still included, but
‘None’ is specified for the symbol. The code that uses this routine should
be free to use the currency name to make an attempt to fetch the currency
using its name, or to ignore it.</p></li>
<li><p>The ‘cost-currency’ is that which is found on the holdings instance and
can be ignored. The ‘quote-currency’ is that which is declared on the
Commodity directive from its ‘quote’ metadata field.</p></li>
</ul>
<p>This is used in a routine that fetches prices from a data source on the
internet (either from Ledgerhub, but you can reuse this in your own script
if you build one).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, the date at which to get the list of
relevant holdings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>A list of (currency, cost-currency, quote-currency, ticker) tuples, where</dt><dd><p>currency: The Beancount base currency to fetch a price for.
cost-currency: The cost-currency of the holdings found at the given date.
quote-currency: The currency formally declared as quote currency in the</p>
<blockquote>
<div><p>metadata of Commodity directives.</p>
</div></blockquote>
<dl class="simple">
<dt>ticker: The ticker symbol to use for fetching the price (extracted from</dt><dd><p>the metadata of Commodity directives).</p>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.get_final_holdings">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">get_final_holdings</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">included_account_types=None</em>, <em class="sig-param">price_map=None</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.get_final_holdings" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary of the latest holdings by account.</p>
<p>This basically just flattens the balance sheet’s final positions, including
that of equity accounts. If a ‘price_map’ is provided, insert price
information in the flattened holdings at the latest date, or at the given
date, if one is provided.</p>
<p>Only the accounts in ‘included_account_types’ will be included, and this is
always called for Assets and Liabilities only. If left unspecified, holdings
from all account types will be included, including Equity, Income and
Expenses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>included_account_types</strong> – A sequence of strings, the account types to
include in the output. A reasonable example would be
(‘Assets’, ‘Liabilities’). If not specified, include all account types.</p></li>
<li><p><strong>price_map</strong> – A dict of prices, as built by prices.build_price_map().</p></li>
<li><p><strong>date</strong> – A datetime.date instance, the date at which to price the
holdings. If left unspecified, we use the latest price information.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A list of dicts, with the following fields</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.holding_to_position">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">holding_to_position</code><span class="sig-paren">(</span><em class="sig-param">holding</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.holding_to_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the holding to a position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>holding</strong> – An instance of Holding.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Position.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.holding_to_posting">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">holding_to_posting</code><span class="sig-paren">(</span><em class="sig-param">holding</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.holding_to_posting" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the holding to an instance of Posting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>holding</strong> – An instance of Holding.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Position.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.reduce_relative">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">reduce_relative</code><span class="sig-paren">(</span><em class="sig-param">holdings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.reduce_relative" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the market and book values of the given list of holdings to relative data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>holdings</strong> – A list of Holding instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of holdings instances with the absolute value fields replaced by
fractions of total portfolio. The new list of holdings is sorted by
currency, and the relative fractions are also relative to that currency.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.holdings.scale_holding">
<code class="sig-prename descclassname">beancount.ops.holdings.</code><code class="sig-name descname">scale_holding</code><span class="sig-paren">(</span><em class="sig-param">holding</em>, <em class="sig-param">scale_factor</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.holdings.scale_holding" title="Permalink to this definition">¶</a></dt>
<dd><p>Scale the values of a holding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>holding</strong> – An instance of Holding.</p></li>
<li><p><strong>scale_factor</strong> – A float or Decimal number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A scaled copy of the holding.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.lifetimes">
<span id="beancount-ops-lifetimes"></span><h2>beancount.ops.lifetimes<a class="headerlink" href="#module-beancount.ops.lifetimes" title="Permalink to this headline">¶</a></h2>
<p>Given a Beancount ledger, compute time intervals where we hold each commodity.</p>
<p>This script computes, for each commodity, which time intervals it is required at.
This can then be used to identify a list of dates at which we need to fetch prices
in order to properly fill the price database.</p>
<dl class="function">
<dt id="beancount.ops.lifetimes.compress_intervals_days">
<code class="sig-prename descclassname">beancount.ops.lifetimes.</code><code class="sig-name descname">compress_intervals_days</code><span class="sig-paren">(</span><em class="sig-param">intervals</em>, <em class="sig-param">num_days</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.lifetimes.compress_intervals_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress a list of date pairs to ignore short stretches of unused days.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>intervals</strong> – A list of pairs of datetime.date instances.</p></li>
<li><p><strong>num_days</strong> – An integer, the number of unused days to require for intervals
to be distinct, to allow a gap.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new dict of lifetimes map where some intervals may have been joined.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.lifetimes.compress_lifetimes_days">
<code class="sig-prename descclassname">beancount.ops.lifetimes.</code><code class="sig-name descname">compress_lifetimes_days</code><span class="sig-paren">(</span><em class="sig-param">lifetimes_map</em>, <em class="sig-param">num_days</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.lifetimes.compress_lifetimes_days" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress a lifetimes map to ignore short stretches of unused days.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lifetimes_map</strong> – A dict of currency intervals as returned by get_commodity_lifetimes.</p></li>
<li><p><strong>num_days</strong> – An integer, the number of unused days to ignore.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new dict of lifetimes map where some intervals may have been joined.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.lifetimes.get_commodity_lifetimes">
<code class="sig-prename descclassname">beancount.ops.lifetimes.</code><code class="sig-name descname">get_commodity_lifetimes</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.lifetimes.get_commodity_lifetimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of directives, figure out the life of each commodity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of (currency, cost-currency) commodity strings to lists of (start,
end) datetime.date pairs. The dates are inclusive of the day the commodity
was seen; the end/last dates are one day _after_ the last date seen.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.lifetimes.required_weekly_prices">
<code class="sig-prename descclassname">beancount.ops.lifetimes.</code><code class="sig-name descname">required_weekly_prices</code><span class="sig-paren">(</span><em class="sig-param">lifetimes_map</em>, <em class="sig-param">date_last</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.lifetimes.required_weekly_prices" title="Permalink to this definition">¶</a></dt>
<dd><p>Enumerate all the commodities and fridays where the price is required.</p>
<p>Given a map of lifetimes for a set of commodities, enumerate all the Fridays
for each commodity where it is active. This can be used to connect to a
historical price fetcher routine to fill in missing price entries from an
existing ledger.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lifetimes_map</strong> – A dict of currency to active intervals as returned by
get_commodity_lifetimes().</p></li>
<li><p><strong>date_last</strong> – A datetime.date instance, the last date which we’re interested in.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Tuples of (date, currency, cost-currency).</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.pad">
<span id="beancount-ops-pad"></span><h2>beancount.ops.pad<a class="headerlink" href="#module-beancount.ops.pad" title="Permalink to this headline">¶</a></h2>
<p>Automatic padding of gaps between entries.</p>
<dl class="class">
<dt id="beancount.ops.pad.PadError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ops.pad.</code><code class="sig-name descname">PadError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.pad.PadError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.ops.pad.pad">
<code class="sig-prename descclassname">beancount.ops.pad.</code><code class="sig-name descname">pad</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.pad.pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert transaction entries for to fulfill a subsequent balance check.</p>
<p>Synthesize and insert Transaction entries right after Pad entries in order
to fulfill checks in the padded accounts. Returns a new list of entries.
Note that this doesn’t pad across parent-child relationships, it is a very
simple kind of pad. (I have found this to be sufficient in practice, and
simpler to implement and understand.)</p>
<p>Furthermore, this pads for a single currency only, that is, balance checks
are specified only for one currency at a time, and pads will only be
inserted for those currencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>options_map</strong> – A parser options dict.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new list of directives, with Pad entries inserte, and a list of new
errors produced.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.summarize">
<span id="beancount-ops-summarize"></span><h2>beancount.ops.summarize<a class="headerlink" href="#module-beancount.ops.summarize" title="Permalink to this headline">¶</a></h2>
<p>Summarization of entries.</p>
<p>This code is used to summarize a sequence of entries (e.g. during a time period)
into a few “opening balance” entries. This is when computing a balance sheet for
a specific time period: we don’t want to see the entries from before some period
of time, so we fold them into a single transaction per account that has the sum
total amount of that account.</p>
<dl class="function">
<dt id="beancount.ops.summarize.balance_by_account">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">balance_by_account</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.balance_by_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Sum up the balance per account for all entries strictly before ‘date’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>date</strong> – An optional datetime.date instance. If provided, stop accumulating
on and after this date. This is useful for summarization before a
specific date.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of a dict of account string to instance Inventory (the balance of
this account before the given date), and the index in the list of entries
where the date was encountered. If all entries are located before the
cutoff date, an index one beyond the last entry is returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.cap">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">cap</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">account_types</em>, <em class="sig-param">conversion_currency</em>, <em class="sig-param">account_earnings</em>, <em class="sig-param">account_conversions</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.cap" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer net income to equity and insert a final conversion entry.</p>
<p>This is used to move and nullify balances from the income and expense
accounts to an equity account in order to draw up a balance sheet with a
balance of precisely zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
<li><p><strong>conversion_currency</strong> – A string, the transfer currency to use for zero prices
on the conversion entry.</p></li>
<li><p><strong>account_earnings</strong> – A string, the name of the equity account to transfer
final balances of the income and expense accounts to.</p></li>
<li><p><strong>account_conversions</strong> – A string, the name of the equity account to use as
the source for currency conversions.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A modified list of entries, with the income and expense accounts
transferred.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.cap_opt">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">cap_opt</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.cap_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Close by getting all the parameters from an options map.</p>
<p>See cap() for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – See cap().</p></li>
<li><p><strong>options_map</strong> – A parser’s option_map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Same as close().</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.clamp">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">clamp</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">begin_date</em>, <em class="sig-param">end_date</em>, <em class="sig-param">account_types</em>, <em class="sig-param">conversion_currency</em>, <em class="sig-param">account_earnings</em>, <em class="sig-param">account_opening</em>, <em class="sig-param">account_conversions</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.clamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter entries to include only those during a specified time period.</p>
<p>Firstly, this method will transfer all balances for the income and expense
accounts occurring before the given period begin date to the
‘account_earnings’ account (earnings before the period, or “retained
earnings”) and summarize all of the transactions before that date against
the ‘account_opening’ account (usually “opening balances”). The resulting
income and expense accounts should have no transactions (since their
balances have been transferred out and summarization of zero balances should
not add any transactions).</p>
<p>Secondly, all the entries after the period end date will be truncated and a
conversion entry will be added for the resulting transactions that reflect
changes occurring between the beginning and end of the exercise period. The
resulting balance of all account should be empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directive tuples.</p></li>
<li><p><strong>begin_date</strong> – A datetime.date instance, the beginning of the period.</p></li>
<li><p><strong>end_date</strong> – A datetime.date instance, one day beyond the end of the period.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
<li><p><strong>conversion_currency</strong> – A string, the transfer currency to use for zero prices
on the conversion entry.</p></li>
<li><p><strong>account_earnings</strong> – A string, the name of the account to transfer
previous earnings from the income statement accounts to the balance
sheet.</p></li>
<li><p><strong>account_opening</strong> – A string, the name of the account in equity
to transfer previous balances from, in order to initialize account
balances at the beginning of the period. This is typically called an
opening balances account.</p></li>
<li><p><strong>account_conversions</strong> – A string, tne name of the equity account to
book currency conversions against.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new list of entries is returned, and the index that points to the first
original transaction after the beginning date of the period. This index
can be used to generate the opening balances report, which is a balance
sheet fed with only the summarized entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.clamp_opt">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">clamp_opt</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">begin_date</em>, <em class="sig-param">end_date</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.clamp_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Clamp by getting all the parameters from an options map.</p>
<p>See clamp() for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – See clamp().</p></li>
<li><p><strong>begin_date</strong> – See clamp().</p></li>
<li><p><strong>end_date</strong> – See clamp().</p></li>
<li><p><strong>options_map</strong> – A parser’s option_map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Same as clamp().</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.clear">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">clear</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">account_types</em>, <em class="sig-param">account_earnings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Transfer income and expenses balances at the given date to the equity accounts.</p>
<p>This method insert entries to zero out balances on income and expenses
accounts by transfering them to an equity account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directive tuples.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, one day beyond the end of the period. This
date can be optionally left to None in order to close at the end of the
list of entries.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
<li><p><strong>account_earnings</strong> – A string, the name of the account to transfer
previous earnings from the income statement accounts to the balance
sheet.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new list of entries is returned, and the index that points to one before
the last original transaction before the transfers.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.clear_opt">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">clear_opt</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.clear_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to clear() using an options map.</p>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.close">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">close</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">conversion_currency</em>, <em class="sig-param">account_conversions</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncate entries that occur after a particular date and ensure balance.</p>
<p>This method essentially removes entries after a date. It truncates the
future. To do so, it will</p>
<ol class="arabic simple">
<li><p>Remove all entries which occur after ‘date’, if given.</p></li>
<li><p>Insert conversion transactions at the end of the list of entries to
ensure that the total balance of all postings sums up to empty.</p></li>
</ol>
<p>The result is a list of entries with a total balance of zero, with possibly
non-zero balances for the income/expense accounts. To produce a final
balance sheet, use transfer() to move the net income to the equity accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directive tuples.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, one day beyond the end of the period. This
date can be optionally left to None in order to close at the end of the
list of entries.</p></li>
<li><p><strong>conversion_currency</strong> – A string, the transfer currency to use for zero prices
on the conversion entry.</p></li>
<li><p><strong>account_conversions</strong> – A string, tne name of the equity account to
book currency conversions against.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new list of entries is returned, and the index that points to one beyond
the last original transaction that was provided. Further entries may have
been inserted to normalize conversions and ensure the total balance sums
to zero.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.close_opt">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">close_opt</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.close_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to close() using an options map.</p>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.conversions">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">conversions</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">conversion_account</em>, <em class="sig-param">conversion_currency</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.conversions" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert a conversion entry at date ‘date’ at the given account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of entries.</p></li>
<li><p><strong>conversion_account</strong> – A string, the account to book against.</p></li>
<li><p><strong>conversion_currency</strong> – A string, the transfer currency to use for zero prices
on the conversion entry.</p></li>
<li><p><strong>date</strong> – The date before which to insert the conversion entry. The new
entry will be inserted as the last entry of the date just previous
to this date.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A modified list of entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.create_entries_from_balances">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">create_entries_from_balances</code><span class="sig-paren">(</span><em class="sig-param">balances</em>, <em class="sig-param">date</em>, <em class="sig-param">source_account</em>, <em class="sig-param">direction</em>, <em class="sig-param">meta</em>, <em class="sig-param">flag</em>, <em class="sig-param">narration_template</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.create_entries_from_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>“Create a list of entries from a dict of balances.</p>
<p>This method creates a list of new entries to transfer the amounts in the
‘balances’ dict to/from another account specified in ‘source_account’.</p>
<p>The balancing posting is created with the equivalent at cost. In other
words, if you attempt to balance 10 HOOL {500 USD}, this will synthesize a
posting with this position on one leg, and with 5000 USD on the
‘source_account’ leg.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>balances</strong> – A dict of account name strings to Inventory instances.</p></li>
<li><p><strong>date</strong> – A datetime.date object, the date at which to create the transaction.</p></li>
<li><p><strong>source_account</strong> – A string, the name of the account to pull the balances
from. This is the magician’s hat to pull the rabbit from.</p></li>
<li><p><strong>direction</strong> – If ‘direction’ is True, the new entries transfer TO the
balances account from the source account; otherwise the new entries
transfer FROM the balances into the source account.</p></li>
<li><p><strong>meta</strong> – A dict to use as metadata for the transactions.</p></li>
<li><p><strong>flag</strong> – A string, the flag to use for the transactinos.</p></li>
<li><p><strong>narration_template</strong> – A format string for creating the narration. It is
formatted with ‘account’ and ‘date’ replacement variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of newly synthesizes Transaction entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.get_open_entries">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">get_open_entries</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.get_open_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather the list of active Open entries at date.</p>
<p>This returns the list of Open entries that have not been closed at the given
date, in the same order they were observed in the document.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>date</strong> – The date at which to look for an open entry. If not specified, will
return the entries still open at the latest date.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of Open directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.open">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">account_types</em>, <em class="sig-param">conversion_currency</em>, <em class="sig-param">account_earnings</em>, <em class="sig-param">account_opening</em>, <em class="sig-param">account_conversions</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize entries before a date and transfer income/expenses to equity.</p>
<p>This method essentially prepares a list of directives to contain only
transactions that occur after a particular date. It truncates the past. To
do so, it will</p>
<ol class="arabic simple">
<li><p>Insert conversion transactions at the given open date, then</p></li>
<li><p>Insert transactions at that date to move accumulated balances from before
that date from the income and expenses accounts to an equity account, and
finally</p></li>
<li><p>It removes all the transactions previous to the date and replaces them by
opening balances entries to bring the balances to the same amount.</p></li>
</ol>
<p>The result is a list of entries for which the income and expense accounts
are beginning with a balance of zero, and all other accounts begin with a
transaction that brings their balance to the expected amount. All the past
has been summarized at that point.</p>
<p>An index is returned to the first transaction past the balance opening
transactions, so you can keep just those in order to render a balance sheet
for only the opening balances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directive tuples.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, the date at which to do this.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
<li><p><strong>conversion_currency</strong> – A string, the transfer currency to use for zero prices
on the conversion entry.</p></li>
<li><p><strong>account_earnings</strong> – A string, the name of the account to transfer
previous earnings from the income statement accounts to the balance
sheet.</p></li>
<li><p><strong>account_opening</strong> – A string, the name of the account in equity
to transfer previous balances from, in order to initialize account
balances at the beginning of the period. This is typically called an
opening balances account.</p></li>
<li><p><strong>account_conversions</strong> – A string, tne name of the equity account to
book currency conversions against.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new list of entries is returned, and the index that points to the first
original transaction after the beginning date of the period. This index
can be used to generate the opening balances report, which is a balance
sheet fed with only the summarized entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.open_opt">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">open_opt</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.open_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to open() using an options map.</p>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.summarize">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">summarize</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">account_opening</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.summarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize all entries before a date by replacing then with summarization entries.</p>
<p>This function replaces the transactions up to (and not including) the given
date with a opening balance transactions, one for each account. It returns
new entries, all of the transactions before the given date having been
replaced by a few summarization entries, one for each account.</p>
<p>Notes:
- Open entries are preserved for active accounts.
- The last relevant price entry for each (base, quote) pair is preserved.
- All other entries before the cutoff date are culled.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, the cutoff date before which to summararize.</p></li>
<li><p><strong>account_opening</strong> – A string, the name of the source account to book summarization
entries against.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The function returns a list of new entries and the integer index at which
the entries on or after the cutoff date begin.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.transfer_balances">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">transfer_balances</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em>, <em class="sig-param">account_pred</em>, <em class="sig-param">transfer_account</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.transfer_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Synthesize transactions to transfer balances from some accounts at a given date.</p>
<p>For all accounts that match the ‘account_pred’ predicate, create new entries
to transfer the balance at the given date from the account to the transfer
account. This is used to transfer balances from income and expenses from a
previous period to a “retained earnings” account. This is accomplished by
creating new entries.</p>
<p>Note that inserting transfers breaks any following balance checks that are
in the transferred accounts. For this reason, all balance assertion entries
following the cutoff date for those accounts are removed from the list in
output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, the date at which to make the transfer.</p></li>
<li><p><strong>account_pred</strong> – A predicate function that, given an account string, returns
true if the account is meant to be transferred.</p></li>
<li><p><strong>transfer_account</strong> – A string, the name of the source account to be used on
the transfer entries to receive balances at the given date.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new list of entries, with the new transfer entries added in.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.summarize.truncate">
<code class="sig-prename descclassname">beancount.ops.summarize.</code><code class="sig-name descname">truncate</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.summarize.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out all the entries at and after date. Returns a new list of entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A sorted list of directives.</p></li>
<li><p><strong>date</strong> – A datetime.date instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A truncated list of directives.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ops.validation">
<span id="beancount-ops-validation"></span><h2>beancount.ops.validation<a class="headerlink" href="#module-beancount.ops.validation" title="Permalink to this headline">¶</a></h2>
<p>Validation checks.</p>
<p>These checks are intended to be run after all the plugins have transformed the
list of entries, just before serving them or generating reports from them. The
idea is to ensure a reasonable set of invariants and generate errors if those
invariants are violated. They are not sanity checks–user data is subject to
constraints which are hopefully detected here and which will result in errors
trickled up to the user.</p>
<dl class="class">
<dt id="beancount.ops.validation.ValidationError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">ValidationError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.ValidationError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em>, <em class="sig-param">log_timings=None</em>, <em class="sig-param">extra_validations=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform all the standard checks on parsed contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
<li><p><strong>log_timings</strong> – An optional function to use for logging the time of individual
operations.</p></li>
<li><p><strong>extra_validations</strong> – A list of extra validation functions to run after loading
this list of entries.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_active_accounts">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_active_accounts</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_active_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all references to accounts occurs on active accounts.</p>
<p>We basically check that references to accounts from all directives other
than Open and Close occur at dates the open-close interval of that account.
This should be good for all of the directive types where we can extract an
account name.</p>
<p>Note that this is more strict a check than comparing the dates: we actually
check that no references to account are made on the same day before the open
directive appears for that account. This is a nice property to have, and is
supported by our custom sorting routine that will sort open entries before
transaction entries, given the same date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_check_transaction_balances">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_check_transaction_balances</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_check_transaction_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Check again that all transaction postings balance, as users may have
transformed transactions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_currency_constraints">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_currency_constraints</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_currency_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the currency constraints from account open declarations.</p>
<p>Open directives admit an optional list of currencies that specify the only
types of commodities that the running inventory for this account may
contain. This function checks that all postings are only made in those
commodities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_data_types">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_data_types</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_data_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all the data types of the attributes of entries are as expected.</p>
<p>Users are provided with a means to filter the list of entries. They’re able to
write code that manipulates those tuple objects without any type constraints.
With discipline, this mostly works, but I know better: check, just to make sure.
This routine checks all the data types and assumptions on entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_documents_paths">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_documents_paths</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_documents_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that all filenames in resolved Document entries are absolute filenames.</p>
<p>The processing of document entries is assumed to result in absolute paths.
Relative paths are resolved at the parsing stage and at point we want to
make sure we don’t have to do any further processing on them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_duplicate_balances">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_duplicate_balances</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_duplicate_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that balance entries occur only once per day.</p>
<p>Because we do not support time, and the declaration order of entries is
meant to be kept irrelevant, two balance entries with different amounts
should not occur in the file. We do allow two identical balance assertions,
however, because this may occur during import.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_duplicate_commodities">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_duplicate_commodities</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_duplicate_commodities" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that commodty entries are unique for each commodity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ops.validation.validate_open_close">
<code class="sig-prename descclassname">beancount.ops.validation.</code><code class="sig-name descname">validate_open_close</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">unused_options_map</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ops.validation.validate_open_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Check constraints on open and close directives themselves.</p>
<p>This method checks two kinds of constraints:</p>
<ol class="arabic simple">
<li><p>An open or a close directive may only show up once for each account. If a
duplicate is detected, an error is generated.</p></li>
<li><p>Close directives may only appears if an open directive has been seen
previous (chronologically).</p></li>
<li><p>The date of close directives must be strictly greater than their</p></li>
</ol>
<blockquote>
<div><p>corresponding open directive.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>unused_options_map</strong> – An options map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new errors, if any were found.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Fava</h1>
    
  </a>
</p>



<p class="blurb">Web interface for <a href="http://furius.ca/beancount/">Beancount</a></p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fava.html">fava</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.core.html">fava.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.html">fava.ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.portfolio_list.html">fava.ext.portfolio_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.help.html">fava.help</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.util.html">fava.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.html">beancount</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.core.html">beancount.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.html">beancount.ingest</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.html">beancount.ingest.importers</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.mixins.html">beancount.ingest.importers.mixins</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">beancount.ops</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.balance">beancount.ops.balance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.basicops">beancount.ops.basicops</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.compress">beancount.ops.compress</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.documents">beancount.ops.documents</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.holdings">beancount.ops.holdings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.lifetimes">beancount.ops.lifetimes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.pad">beancount.ops.pad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.summarize">beancount.ops.summarize</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ops.validation">beancount.ops.validation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beancount.parser.html">beancount.parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.plugins.html">beancount.plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.html">beancount.prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.sources.html">beancount.prices.sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.query.html">beancount.query</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.reports.html">beancount.reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.scripts.html">beancount.scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.tools.html">beancount.tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.utils.html">beancount.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.web.html">beancount.web</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava">fava @ GitHub</a></li>
    
    <li class="toctree-l1"><a href="https://gitter.im/beancount/fava">Chat</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava/issues">Issue Tracker</a></li>
    
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Dominik Aumayr.
      
      |
      <a href="../_sources/api/beancount.ops.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>