
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>beancount.ingest.importers &#8212; Fava  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="beancount.ingest.importers.mixins" href="beancount.ingest.importers.mixins.html" />
    <link rel="prev" title="beancount.ingest" href="beancount.ingest.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-beancount.ingest.importers">
<span id="beancount-ingest-importers"></span><h1>beancount.ingest.importers<a class="headerlink" href="#module-beancount.ingest.importers" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-beancount.ingest.importers.config">
<span id="beancount-ingest-importers-config"></span><h2>beancount.ingest.importers.config<a class="headerlink" href="#module-beancount.ingest.importers.config" title="Permalink to this headline">¶</a></h2>
<p>Mixin to add support for configuring importers with multiple accounts.</p>
<p>This importer implements some simple common functionality to create importers
which accept a long number of account names or regular expressions on the set of
account names. This is inspired by functionality in the importers in the
previous iteration of the ingest code, which used to be its own project.</p>
<dl class="class">
<dt id="beancount.ingest.importers.config.ConfigImporterMixin">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ingest.importers.config.</code><code class="sig-name descname">ConfigImporterMixin</code><span class="sig-paren">(</span><em class="sig-param">config</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.config.ConfigImporterMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>A mixin class which supports configuration of account names.</p>
<p>Mix this into the implementation of a importer.ImporterProtocol.</p>
<dl class="attribute">
<dt id="beancount.ingest.importers.config.ConfigImporterMixin.REQUIRED_CONFIG">
<code class="sig-name descname">REQUIRED_CONFIG</code><em class="property"> = {'FILE': 'Account for filing imported files to'}</em><a class="headerlink" href="#beancount.ingest.importers.config.ConfigImporterMixin.REQUIRED_CONFIG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.config.ConfigImporterMixin.file_account">
<code class="sig-name descname">file_account</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.config.ConfigImporterMixin.file_account" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-beancount.ingest.importers.csv">
<span id="beancount-ingest-importers-csv"></span><h2>beancount.ingest.importers.csv<a class="headerlink" href="#module-beancount.ingest.importers.csv" title="Permalink to this headline">¶</a></h2>
<p>CSV importer.</p>
<dl class="class">
<dt id="beancount.ingest.importers.csv.Col">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ingest.importers.csv.</code><code class="sig-name descname">Col</code><a class="headerlink" href="#beancount.ingest.importers.csv.Col" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of interpretable columns.</p>
<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.ACCOUNT">
<code class="sig-name descname">ACCOUNT</code><em class="property"> = '[ACCOUNT]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.ACCOUNT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.AMOUNT">
<code class="sig-name descname">AMOUNT</code><em class="property"> = '[AMOUNT]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.AMOUNT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.AMOUNT_CREDIT">
<code class="sig-name descname">AMOUNT_CREDIT</code><em class="property"> = '[CREDIT]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.AMOUNT_CREDIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.AMOUNT_DEBIT">
<code class="sig-name descname">AMOUNT_DEBIT</code><em class="property"> = '[DEBIT]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.AMOUNT_DEBIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.BALANCE">
<code class="sig-name descname">BALANCE</code><em class="property"> = '[BALANCE]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.BALANCE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.DATE">
<code class="sig-name descname">DATE</code><em class="property"> = '[DATE]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.DATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.DRCR">
<code class="sig-name descname">DRCR</code><em class="property"> = '[DRCR]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.DRCR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.LAST4">
<code class="sig-name descname">LAST4</code><em class="property"> = '[LAST4]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.LAST4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.NARRATION">
<code class="sig-name descname">NARRATION</code><em class="property"> = '[NARRATION1]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.NARRATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.NARRATION1">
<code class="sig-name descname">NARRATION1</code><em class="property"> = '[NARRATION1]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.NARRATION1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.NARRATION2">
<code class="sig-name descname">NARRATION2</code><em class="property"> = '[NARRATION2]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.NARRATION2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.NARRATION3">
<code class="sig-name descname">NARRATION3</code><em class="property"> = '[NARRATION3]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.NARRATION3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.PAYEE">
<code class="sig-name descname">PAYEE</code><em class="property"> = '[PAYEE]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.PAYEE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.TAG">
<code class="sig-name descname">TAG</code><em class="property"> = '[TAG]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.TAG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.TXN_DATE">
<code class="sig-name descname">TXN_DATE</code><em class="property"> = '[TXN_DATE]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.TXN_DATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.csv.Col.TXN_TIME">
<code class="sig-name descname">TXN_TIME</code><em class="property"> = '[TXN_TIME]'</em><a class="headerlink" href="#beancount.ingest.importers.csv.Col.TXN_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.ingest.importers.csv.Importer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ingest.importers.csv.</code><code class="sig-name descname">Importer</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">account</em>, <em class="sig-param">currency</em>, <em class="sig-param">regexps=None</em>, <em class="sig-param">skip_lines=0</em>, <em class="sig-param">last4_map=None</em>, <em class="sig-param">categorizer=None</em>, <em class="sig-param">institution=None</em>, <em class="sig-param">debug=False</em>, <em class="sig-param">csv_dialect='excel'</em>, <em class="sig-param">dateutil_kwds=None</em>, <em class="sig-param">narration_sep='; '</em>, <em class="sig-param">**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.csv.Importer" title="Permalink to this definition">¶</a></dt>
<dd><p>Importer for CSV files.</p>
<dl class="method">
<dt id="beancount.ingest.importers.csv.Importer.extract">
<code class="sig-name descname">extract</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">existing_entries=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.csv.Importer.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract transactions from a file.</p>
<p>If the importer would like to flag a returned transaction as a known
duplicate, it may opt to set the special flag “__duplicate__” to True,
and the transaction should be treated as a duplicate by the extraction
code. This is a way to let the importer use particular information about
previously imported transactions in order to flag them as duplicates.
For example, if an importer has a way to get a persistent unique id for
each of the imported transactions. (See this discussion for context:
<a class="reference external" href="https://groups.google.com/d/msg/beancount/0iV-ipBJb8g/-uk4wsH2AgAJ">https://groups.google.com/d/msg/beancount/0iV-ipBJb8g/-uk4wsH2AgAJ</a>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> – A cache.FileMemo instance.</p></li>
<li><p><strong>existing_entries</strong> – An optional list of existing directives loaded from
the ledger which is intended to contain the extracted entries. This
is only provided if the user provides them via a flag in the
extractor program.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new, imported directives (usually mostly Transactions)
extracted from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.csv.Importer.file_date">
<code class="sig-name descname">file_date</code><span class="sig-paren">(</span><em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.csv.Importer.file_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the maximum date from the file.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.csv.get_amounts">
<code class="sig-prename descclassname">beancount.ingest.importers.csv.</code><code class="sig-name descname">get_amounts</code><span class="sig-paren">(</span><em class="sig-param">iconfig</em>, <em class="sig-param">row</em>, <em class="sig-param">allow_zero_amounts=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.csv.get_amounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the amount columns of a row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>iconfig</strong> – A dict of Col to row index.</p></li>
<li><p><strong>row</strong> – A row array containing the values of the given row.</p></li>
<li><p><strong>allow_zero_amounts</strong> – Is a transaction with amount D(‘0.00’) okay? If not,
return (None, None).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of (debit-amount, credit-amount), both of which are either an
instance of Decimal or None, or not available.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.csv.normalize_config">
<code class="sig-prename descclassname">beancount.ingest.importers.csv.</code><code class="sig-name descname">normalize_config</code><span class="sig-paren">(</span><em class="sig-param">config</em>, <em class="sig-param">head</em>, <em class="sig-param">dialect='excel'</em>, <em class="sig-param">skip_lines=0</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.csv.normalize_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Using the header line, convert the configuration field name lookups to int indexes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>config</strong> – A dict of Col types to string or indexes.</p></li>
<li><p><strong>head</strong> – A string, some decent number of bytes of the head of the file.</p></li>
<li><p><strong>dialect</strong> – A dialect definition to parse the header</p></li>
<li><p><strong>skip_lines</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Skip first x (garbage) lines of file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>A pair of</dt><dd><p>A dict of Col types to integer indexes of the fields, and
a boolean, true if the file has a header.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If there is no header and the configuration does not consist
    entirely of integer indexes.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.ingest.importers.fileonly">
<span id="beancount-ingest-importers-fileonly"></span><h2>beancount.ingest.importers.fileonly<a class="headerlink" href="#module-beancount.ingest.importers.fileonly" title="Permalink to this headline">¶</a></h2>
<p>A simplistic importer that can be used just to file away some download.</p>
<p>Sometimes you just want to save and accumulate data</p>
<dl class="class">
<dt id="beancount.ingest.importers.fileonly.Importer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ingest.importers.fileonly.</code><code class="sig-name descname">Importer</code><span class="sig-paren">(</span><em class="sig-param">**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.fileonly.Importer" title="Permalink to this definition">¶</a></dt>
<dd><p>An importer that supports only matching (identification) and filing.</p>
</dd></dl>

</div>
<div class="section" id="module-beancount.ingest.importers.ofx">
<span id="beancount-ingest-importers-ofx"></span><h2>beancount.ingest.importers.ofx<a class="headerlink" href="#module-beancount.ingest.importers.ofx" title="Permalink to this headline">¶</a></h2>
<p>OFX file format importer for bank and credit card statements.</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Open_Financial_Exchange">https://en.wikipedia.org/wiki/Open_Financial_Exchange</a></p>
<p>This importer will parse a single account in the OFX file. Instantiate it
multiple times with different accounts if it has many accounts. It makes more
sense to do it this way so that you can define your importer configuration
account by account.</p>
<p>Note that this importer is provided as an example and with no guarantees. It’s
not really super great. On the other hand, I’ve been using it for more than five
years over multiple accounts, so it has been useful to me (it works, by some
measure of “works”). If you need a more powerful or compliant OFX importer
please consider either writing one or contributing changes. Also, this importer
does its own very basic parsing; a better one would probably use (and depend on)
the ofxparse module (see <a class="reference external" href="https://sites.google.com/site/ofxparse/">https://sites.google.com/site/ofxparse/</a>).</p>
<dl class="class">
<dt id="beancount.ingest.importers.ofx.BalanceType">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">BalanceType</code><a class="headerlink" href="#beancount.ingest.importers.ofx.BalanceType" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of Balance directive to be inserted.</p>
<dl class="attribute">
<dt id="beancount.ingest.importers.ofx.BalanceType.DECLARED">
<code class="sig-name descname">DECLARED</code><em class="property"> = 1</em><a class="headerlink" href="#beancount.ingest.importers.ofx.BalanceType.DECLARED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.ofx.BalanceType.LAST">
<code class="sig-name descname">LAST</code><em class="property"> = 2</em><a class="headerlink" href="#beancount.ingest.importers.ofx.BalanceType.LAST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.ingest.importers.ofx.BalanceType.NONE">
<code class="sig-name descname">NONE</code><em class="property"> = 0</em><a class="headerlink" href="#beancount.ingest.importers.ofx.BalanceType.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.ingest.importers.ofx.Importer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">Importer</code><span class="sig-paren">(</span><em class="sig-param">acctid_regexp</em>, <em class="sig-param">account</em>, <em class="sig-param">basename=None</em>, <em class="sig-param">balance_type=&lt;BalanceType.DECLARED: 1&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer" title="Permalink to this definition">¶</a></dt>
<dd><p>An importer for Open Financial Exchange files.</p>
<dl class="method">
<dt id="beancount.ingest.importers.ofx.Importer.extract">
<code class="sig-name descname">extract</code><span class="sig-paren">(</span><em class="sig-param">file</em>, <em class="sig-param">existing_entries=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a list of partially complete transactions from the file.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.ofx.Importer.file_account">
<code class="sig-name descname">file_account</code><span class="sig-paren">(</span><em class="sig-param">_</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer.file_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the account against which we post transactions.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.ofx.Importer.file_date">
<code class="sig-name descname">file_date</code><span class="sig-paren">(</span><em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer.file_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the optional renamed account filename.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.ofx.Importer.file_name">
<code class="sig-name descname">file_name</code><span class="sig-paren">(</span><em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer.file_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the optional renamed account filename.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.ofx.Importer.identify">
<code class="sig-name descname">identify</code><span class="sig-paren">(</span><em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer.identify" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if this importer matches the given file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> – A cache.FileMemo instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if this importer can handle this file.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.ingest.importers.ofx.Importer.name">
<code class="sig-name descname">name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.Importer.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Include the filing account in the name.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.build_transaction">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">build_transaction</code><span class="sig-paren">(</span><em class="sig-param">stmttrn</em>, <em class="sig-param">flag</em>, <em class="sig-param">account</em>, <em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.build_transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a single transaction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stmttrn</strong> – A &lt;STMTTRN&gt; bs4.element.Tag.</p></li>
<li><p><strong>flag</strong> – A single-character string.</p></li>
<li><p><strong>account</strong> – An account string, the account to insert.</p></li>
<li><p><strong>currency</strong> – A currency string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Transaction instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.extract">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">extract</code><span class="sig-paren">(</span><em class="sig-param">soup</em>, <em class="sig-param">filename</em>, <em class="sig-param">acctid_regexp</em>, <em class="sig-param">account</em>, <em class="sig-param">flag</em>, <em class="sig-param">balance_type</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.extract" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract transactions from an OFX file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>soup</strong> – A BeautifulSoup root node.</p></li>
<li><p><strong>acctid_regexp</strong> – A regular expression string matching the account we’re interested in.</p></li>
<li><p><strong>account</strong> – An account string onto which to post the amounts found in the file.</p></li>
<li><p><strong>flag</strong> – A single-character string.</p></li>
<li><p><strong>balance_type</strong> – An enum of type BalanceType.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sorted list of entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.find_acctids">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">find_acctids</code><span class="sig-paren">(</span><em class="sig-param">contents</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.find_acctids" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the list of &lt;ACCTID&gt; tags.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>contents</strong> – A string, the contents of the OFX file.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of strings, the contents of the &lt;ACCTID&gt; tags.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.find_child">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">find_child</code><span class="sig-paren">(</span><em class="sig-param">node</em>, <em class="sig-param">name</em>, <em class="sig-param">conversion=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.find_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a child under the given node and return its value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> – A &lt;STMTTRN&gt; bs4.element.Tag.</p></li>
<li><p><strong>name</strong> – A string, the name of the child node.</p></li>
<li><p><strong>conversion</strong> – A callable object used to convert the value to a new data type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.find_currency">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">find_currency</code><span class="sig-paren">(</span><em class="sig-param">soup</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.find_currency" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the first currency in the XML tree.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>soup</strong> – A BeautifulSoup root node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the first currency found in the file. Returns None if no currency
is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.find_max_date">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">find_max_date</code><span class="sig-paren">(</span><em class="sig-param">contents</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.find_max_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the report date from the file.</p>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.find_statement_transactions">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">find_statement_transactions</code><span class="sig-paren">(</span><em class="sig-param">soup</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.find_statement_transactions" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the statement transaction sections in the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>soup</strong> – A BeautifulSoup root node.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><dl class="simple">
<dt>A trip of</dt><dd><p>An account id string,
A currency string,
A list of transaction nodes (&lt;STMTTRN&gt; BeautifulSoup tags), and
A (date, balanace amount) for the &lt;LEDGERBAL&gt;.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.ingest.importers.ofx.parse_ofx_time">
<code class="sig-prename descclassname">beancount.ingest.importers.ofx.</code><code class="sig-name descname">parse_ofx_time</code><span class="sig-paren">(</span><em class="sig-param">date_str</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.ingest.importers.ofx.parse_ofx_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an OFX time string and return a datetime object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>date_str</strong> – A string, the date to be parsed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A datetime.datetime instance.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Fava</h1>
    
  </a>
</p>



<p class="blurb">Web interface for <a href="http://furius.ca/beancount/">Beancount</a></p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fava.html">fava</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.core.html">fava.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.html">fava.ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.portfolio_list.html">fava.ext.portfolio_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.help.html">fava.help</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.util.html">fava.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.html">beancount</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.core.html">beancount.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.html">beancount.ingest</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">beancount.ingest.importers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ingest.importers.config">beancount.ingest.importers.config</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ingest.importers.csv">beancount.ingest.importers.csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ingest.importers.fileonly">beancount.ingest.importers.fileonly</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.ingest.importers.ofx">beancount.ingest.importers.ofx</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.mixins.html">beancount.ingest.importers.mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ops.html">beancount.ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.parser.html">beancount.parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.plugins.html">beancount.plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.html">beancount.prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.sources.html">beancount.prices.sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.query.html">beancount.query</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.reports.html">beancount.reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.scripts.html">beancount.scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.tools.html">beancount.tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.utils.html">beancount.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.web.html">beancount.web</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava">fava @ GitHub</a></li>
    
    <li class="toctree-l1"><a href="https://gitter.im/beancount/fava">Chat</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava/issues">Issue Tracker</a></li>
    
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Dominik Aumayr.
      
      |
      <a href="../_sources/api/beancount.ingest.importers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>