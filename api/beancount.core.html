
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>beancount.core &#8212; Fava  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="beancount.ingest" href="beancount.ingest.html" />
    <link rel="prev" title="beancount" href="beancount.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-beancount.core">
<span id="beancount-core"></span><h1>beancount.core<a class="headerlink" href="#module-beancount.core" title="Permalink to this headline">¶</a></h1>
<p>Core basic objects and data structures to represent a list of entries.</p>
<div class="section" id="module-beancount.core.account">
<span id="beancount-core-account"></span><h2>beancount.core.account<a class="headerlink" href="#module-beancount.core.account" title="Permalink to this headline">¶</a></h2>
<p>Functions that operate on account strings.</p>
<p>These account objects are rather simple and dumb; they do not contain the list
of their associated postings. This is achieved by building a realization; see
realization.py for details.</p>
<dl class="class">
<dt id="beancount.core.account.AccountTransformer">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">AccountTransformer</code><span class="sig-paren">(</span><em class="sig-param">rsep=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.AccountTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Account name transformer.</p>
<p>This is used to support Win… huh, filesystems and platforms which do not
support colon characters.</p>
<dl class="attribute">
<dt id="beancount.core.account.AccountTransformer.rsep">
<code class="sig-name descname">rsep</code><a class="headerlink" href="#beancount.core.account.AccountTransformer.rsep" title="Permalink to this definition">¶</a></dt>
<dd><p>A character string, the new separator to use in link names.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.core.account.AccountTransformer.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param">transformed_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.AccountTransformer.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the transform account name to an account name.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.core.account.AccountTransformer.render">
<code class="sig-name descname">render</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.AccountTransformer.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the account name to a transformed account name.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.account.commonprefix">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">commonprefix</code><span class="sig-paren">(</span><em class="sig-param">accounts</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.commonprefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the common prefix of a list of account names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>accounts</strong> – A sequence of account name strings.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the common parent account. If none, returns an empty string.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.has_component">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">has_component</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">component</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.has_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if one of the account contains a given component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_name</strong> – A string, an account name.</p></li>
<li><p><strong>component</strong> – A string, a component of an account name. For instance,
‘Food’ in ‘Expenses:Food:Restaurant’. All components are considered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the component is in the account. Note that a component
name must be whole, that is ‘NY’ is not in Expenses:Taxes:StateNY’.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.is_valid">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">is_valid</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.is_valid" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the given string is a valid account name.
This does not check for the root account types, just the general syntax.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string, to be checked for account name pattern.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the string has the form of an account’s name.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.join">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">join</code><span class="sig-paren">(</span><em class="sig-param">*components</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.join" title="Permalink to this definition">¶</a></dt>
<dd><p>Join the names with the account separator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*components</strong> – Strings, the components of an account name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, joined in a single account name.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.leaf">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">leaf</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the leaf of this account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – A string, the name of the account whose leaf name to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the name of the leaf of the account.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.parent">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">parent</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the parent account of the given account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – A string, the name of the account whose parent to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the name of the parent account of this account.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.parent_matcher">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">parent_matcher</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.parent_matcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a predicate that returns whether an account is under the given one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – The name of the parent account we want to check for.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A callable, which, when called, will return true if the given account is a
child of ‘account_name’.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.parents">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">parents</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.parents" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator of the names of the parents of this account, including this account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – The name of the account we want to start iterating from.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A generator of account name strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.root">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">root</code><span class="sig-paren">(</span><em class="sig-param">num_components</em>, <em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.root" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first few components of an account’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_components</strong> – An integer, the number of components to return.</p></li>
<li><p><strong>account_name</strong> – A string, an account name.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the account root up to ‘num_components’ components.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.sans_root">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">sans_root</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.sans_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the name of the account without the root.</p>
<p>For example, an input of ‘Assets:BofA:Checking’ will produce ‘BofA:Checking’.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – A string, the name of the account whose leaf name to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the name of the non-root portion of this account name.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.split">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split an account’s name into its components.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – A string, an account name.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of strings, the components of the account name (without the separators).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account.walk">
<code class="sig-prename descclassname">beancount.core.account.</code><code class="sig-name descname">walk</code><span class="sig-paren">(</span><em class="sig-param">root_directory</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>A version of os.walk() which yields directories that are valid account names.</p>
<p>This only yields directories that are accounts… it skips the other ones.
For convenience, it also yields you the account’s name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root_directory</strong> – A string, the name of the root of the hierarchy to be walked.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Tuples of (root, account-name, dirs, files), similar to os.walk().</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.account_types">
<span id="beancount-core-account-types"></span><h2>beancount.core.account_types<a class="headerlink" href="#module-beancount.core.account_types" title="Permalink to this headline">¶</a></h2>
<p>Definition for global account types.</p>
<p>This is where we keep the global account types value and definition.</p>
<p>Note that it’s unfortunate that we’re using globals and side-effect here, but
this is the best solution in the short-term, the account types are used
in too many places to pass around that state everywhere. Maybe we change
this later on.</p>
<dl class="class">
<dt id="beancount.core.account_types.AccountTypes">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">AccountTypes</code><span class="sig-paren">(</span><em class="sig-param">assets</em>, <em class="sig-param">liabilities</em>, <em class="sig-param">equity</em>, <em class="sig-param">income</em>, <em class="sig-param">expenses</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.AccountTypes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.get_account_sign">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">get_account_sign</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">account_types=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.get_account_sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the sign of the normal balance of a particular account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_name</strong> – A string, the name of the account whose sign is to return.</p></li>
<li><p><strong>account_types</strong> – An optional instance of the current account_types.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>+1 or -1, depending on the account’s type.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.get_account_sort_key">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">get_account_sort_key</code><span class="sig-paren">(</span><em class="sig-param">account_types</em>, <em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.get_account_sort_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple that can be used to order/sort account names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_types</strong> – An instance of AccountTypes, a tuple of account type names.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A function object to use as the optional ‘key’ argument to the sort
function. It accepts a single argument, the account name to sort and
produces a sortable key.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.get_account_type">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">get_account_type</code><span class="sig-paren">(</span><em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.get_account_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of this account’s name.</p>
<p>Warning: No check is made on the validity of the account type. This merely
returns the root account of the corresponding account name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – A string, the name of the account whose type is to return.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the type of the account in ‘account_name’.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.is_account_type">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">is_account_type</code><span class="sig-paren">(</span><em class="sig-param">account_type</em>, <em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.is_account_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the type of this account’s name.</p>
<p>Warning: No check is made on the validity of the account type. This merely
returns the root account of the corresponding account name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_type</strong> – A string, the prefix type of the account.</p></li>
<li><p><strong>account_name</strong> – A string, the name of the account whose type is to return.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the account is of the given type.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.is_balance_sheet_account">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">is_balance_sheet_account</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">account_types</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.is_balance_sheet_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the given account is a balance sheet account.
Assets, liabilities and equity accounts are balance sheet accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_name</strong> – A string, an account name.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the account is a balance sheet account.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.is_equity_account">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">is_equity_account</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">account_types</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.is_equity_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the given account is an equity account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_name</strong> – A string, an account name.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the account is an equity account.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.is_income_statement_account">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">is_income_statement_account</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">account_types</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.is_income_statement_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the given account is an income statement account.
Income and expense accounts are income statement accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_name</strong> – A string, an account name.</p></li>
<li><p><strong>account_types</strong> – An instance of AccountTypes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the account is an income statement account.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.account_types.is_root_account">
<code class="sig-prename descclassname">beancount.core.account_types.</code><code class="sig-name descname">is_root_account</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">account_types=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.account_types.is_root_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the account name is a root account.
This function does not verify whether the account root is a valid
one, just that it is a root account or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_name</strong> – A string, the name of the account to check for.</p></li>
<li><p><strong>account_types</strong> – An optional instance of the current account_types;
if provided, we check against these values. If not provided, we
merely check that name pattern is that of an account component with
no separator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the account is root account.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.amount">
<span id="beancount-core-amount"></span><h2>beancount.core.amount<a class="headerlink" href="#module-beancount.core.amount" title="Permalink to this headline">¶</a></h2>
<p>Amount class.</p>
<p>This simple class is used to associate a number of units of a currency with its
currency:</p>
<blockquote>
<div><p>(number, currency).</p>
</div></blockquote>
<dl class="function">
<dt id="beancount.core.amount.A">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">A</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.A" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an amount from a string.</p>
<p>This is a miniature parser used for building tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string of &lt;number&gt; &lt;currency&gt;.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Amount.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="beancount.core.amount.Amount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">Amount</code><a class="headerlink" href="#beancount.core.amount.Amount" title="Permalink to this definition">¶</a></dt>
<dd><p>An ‘Amount’ represents a number of a particular unit of something.</p>
<p>It’s essentially a typed number, with corresponding manipulation operations
defined on it.</p>
<dl class="method">
<dt id="beancount.core.amount.Amount.from_string">
<em class="property">static </em><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.Amount.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an amount from a string.</p>
<p>This is a miniature parser used for building tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string of &lt;number&gt; &lt;currency&gt;.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Amount.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.amount.Amount.to_string">
<code class="sig-name descname">to_string</code><span class="sig-paren">(</span><em class="sig-param">dformat=&lt;beancount.core.display_context.DisplayFormatter object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.Amount.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an Amount instance to a printable string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dformat</strong> – An instance of DisplayFormatter.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A formatted string of the quantized amount and symbol.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.amount.Amount.valid_types_currency">
<code class="sig-name descname">valid_types_currency</code><em class="property"> = (&lt;class 'str'&gt;, &lt;class 'type'&gt;, &lt;class 'NoneType'&gt;)</em><a class="headerlink" href="#beancount.core.amount.Amount.valid_types_currency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.amount.Amount.valid_types_number">
<code class="sig-name descname">valid_types_number</code><em class="property"> = (&lt;class 'decimal.Decimal'&gt;, &lt;class 'type'&gt;, &lt;class 'NoneType'&gt;)</em><a class="headerlink" href="#beancount.core.amount.Amount.valid_types_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.abs">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">abs</code><span class="sig-paren">(</span><em class="sig-param">amount</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute value of the given amount.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>amount</strong> – An instance of Amount.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Amount.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.add">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">add</code><span class="sig-paren">(</span><em class="sig-param">amount1</em>, <em class="sig-param">amount2</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given amounts with the same currency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount1</strong> – An instance of Amount.</p></li>
<li><p><strong>amount2</strong> – An instance of Amount.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Amount, with the sum the two amount’s numbers, in the same
currency.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.div">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">div</code><span class="sig-paren">(</span><em class="sig-param">amount</em>, <em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.div" title="Permalink to this definition">¶</a></dt>
<dd><p>Divide the given amount by a number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> – An instance of Amount.</p></li>
<li><p><strong>number</strong> – A decimal number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount, with the same currency, but with amount units divided by ‘number’.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.from_string">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an amount from a string.</p>
<p>This is a miniature parser used for building tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string of &lt;number&gt; &lt;currency&gt;.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Amount.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.mul">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">mul</code><span class="sig-paren">(</span><em class="sig-param">amount</em>, <em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.mul" title="Permalink to this definition">¶</a></dt>
<dd><p>Multiply the given amount by a number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> – An instance of Amount.</p></li>
<li><p><strong>number</strong> – A decimal number.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount, with the same currency, but with ‘number’ times units.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.sortkey">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">sortkey</code><span class="sig-paren">(</span><em class="sig-param">amount</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.sortkey" title="Permalink to this definition">¶</a></dt>
<dd><p>A comparison function that sorts by currency first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>amount</strong> – An instance of Amount.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sort key, composed of the currency first and then the number.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.amount.sub">
<code class="sig-prename descclassname">beancount.core.amount.</code><code class="sig-name descname">sub</code><span class="sig-paren">(</span><em class="sig-param">amount1</em>, <em class="sig-param">amount2</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.amount.sub" title="Permalink to this definition">¶</a></dt>
<dd><p>Subtract the given amounts with the same currency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount1</strong> – An instance of Amount.</p></li>
<li><p><strong>amount2</strong> – An instance of Amount.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Amount, with the difference between the two amount’s
numbers, in the same currency.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.compare">
<span id="beancount-core-compare"></span><h2>beancount.core.compare<a class="headerlink" href="#module-beancount.core.compare" title="Permalink to this headline">¶</a></h2>
<p>Comparison helpers for data objects.</p>
<dl class="class">
<dt id="beancount.core.compare.CompareError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">CompareError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.CompareError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.core.compare.compare_entries">
<code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">compare_entries</code><span class="sig-paren">(</span><em class="sig-param">entries1</em>, <em class="sig-param">entries2</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.compare_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare two lists of entries. This is used for testing.</p>
<p>The entries are compared with disregard for their file location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries1</strong> – A list of directives of any type.</p></li>
<li><p><strong>entries2</strong> – Another list of directives of any type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>success: A boolean, true if all the values are equal.
missing1: A list of directives from ‘entries1’ not found in</p>
<blockquote>
<div><p>’entries2’.</p>
</div></blockquote>
<dl class="simple">
<dt>missing2: A list of directives from ‘entries2’ not found in</dt><dd><p>’entries1’.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>A tuple of (success, not_found1, not_found2), where the fields are</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ValueError</strong> – If a duplicate entry is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.compare.excludes_entries">
<code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">excludes_entries</code><span class="sig-paren">(</span><em class="sig-param">subset_entries</em>, <em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.excludes_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that a list of entries does not appear in another list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset_entries</strong> – The set of entries to look for in ‘entries’.</p></li>
<li><p><strong>entries</strong> – The larger list of entries that should not include ‘subset_entries’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean and a list of entries that are not supposed to appear.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If a duplicate entry is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.compare.hash_entries">
<code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">hash_entries</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.hash_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute unique hashes of each of the entries and return a map of them.</p>
<p>This is used for comparisons between sets of entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of hash-value to entry (for all entries) and a list of errors.
Errors are created when duplicate entries are found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.compare.hash_entry">
<code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">hash_entry</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.hash_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the stable hash of a single entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – A directive instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A stable hexadecimal hash of this entry.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.compare.includes_entries">
<code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">includes_entries</code><span class="sig-paren">(</span><em class="sig-param">subset_entries</em>, <em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.includes_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a list of entries is included in another list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subset_entries</strong> – The set of entries to look for in ‘entries’.</p></li>
<li><p><strong>entries</strong> – The larger list of entries that could include ‘subset_entries’.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean and a list of missing entries.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If a duplicate entry is found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.compare.stable_hash_namedtuple">
<code class="sig-prename descclassname">beancount.core.compare.</code><code class="sig-name descname">stable_hash_namedtuple</code><span class="sig-paren">(</span><em class="sig-param">objtuple</em>, <em class="sig-param">ignore=frozenset({})</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.compare.stable_hash_namedtuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Hash the given namedtuple and its child fields.</p>
<p>This iterates over all the members of objtuple, skipping the attributes from
the ‘ignore’ set, and computes a unique hash string code. If the elements
are lists or sets, sorts them for stability.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>objtuple</strong> – A tuple object or other.</p></li>
<li><p><strong>ignore</strong> – A set of strings, attribute names to be skipped in
computing a stable hash. For instance, circular references to objects
or irrelevant data.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.convert">
<span id="beancount-core-convert"></span><h2>beancount.core.convert<a class="headerlink" href="#module-beancount.core.convert" title="Permalink to this headline">¶</a></h2>
<p>Conversions from Position (or Posting) to units, cost, weight, market value.</p>
<blockquote>
<div><p>Units: Just the primary amount of the position.
Cost: The cost basis of the position, if available.
Weight: The cost basis or price of the position.
Market Value: The units converted to a value via a price map.</p>
</div></blockquote>
<p>To convert an inventory’s contents, simply use these functions in conjunction
with Inventory.reduce(), like</p>
<blockquote>
<div><p>cost_inv = inv.reduce(convert.get_cost)</p>
</div></blockquote>
<p>This module equivalently converts Position and Posting instances. Note that
we’re specifically avoiding to create an import dependency on
beancount.core.data in order to keep this module isolatable, but it works on
postings due to duck-typing.</p>
<p>Function named get_*() are used to compute values from postings to their price currency.
Functions named convert_*() are used to convert postings and amounts to any currency.</p>
<dl class="function">
<dt id="beancount.core.convert.convert_amount">
<code class="sig-prename descclassname">beancount.core.convert.</code><code class="sig-name descname">convert_amount</code><span class="sig-paren">(</span><em class="sig-param">amt</em>, <em class="sig-param">target_currency</em>, <em class="sig-param">price_map</em>, <em class="sig-param">date=None</em>, <em class="sig-param">via=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.convert.convert_amount" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the market value of an Amount in a particular currency.</p>
<p>In addition, if a conversion rate isn’t available, you can provide a list of
currencies to attempt to synthesize a rate for via implied rates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amt</strong> – An instance of Amount.</p></li>
<li><p><strong>target_currency</strong> – The target currency to convert to.</p></li>
<li><p><strong>price_map</strong> – A dict of prices, as built by prices.build_price_map().</p></li>
<li><p><strong>date</strong> – A datetime.date instance to evaluate the value at, or None.</p></li>
<li><p><strong>via</strong> – A list of currencies to attempt to synthesize an implied rate if the
direct conversion fails.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount, either with a successful value currency conversion, or if we
could not convert the value, the amount itself, unmodified.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.convert.convert_position">
<code class="sig-prename descclassname">beancount.core.convert.</code><code class="sig-name descname">convert_position</code><span class="sig-paren">(</span><em class="sig-param">pos</em>, <em class="sig-param">target_currency</em>, <em class="sig-param">price_map</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.convert.convert_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the market value of a Position or Posting in a particular currency.</p>
<p>In addition, if the rate from the position’s currency to target_currency
isn’t available, an attempt is made to convert from its cost currency, if
one is available.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – An instance of Position or Posting, equivalently.</p></li>
<li><p><strong>target_currency</strong> – The target currency to convert to.</p></li>
<li><p><strong>price_map</strong> – A dict of prices, as built by prices.build_price_map().</p></li>
<li><p><strong>date</strong> – A datetime.date instance to evaluate the value at, or None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount, either with a successful value currency conversion, or if we
could not convert the value, just the units, unmodified. (See get_value()
above for details.)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.convert.get_cost">
<code class="sig-prename descclassname">beancount.core.convert.</code><code class="sig-name descname">get_cost</code><span class="sig-paren">(</span><em class="sig-param">pos</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.convert.get_cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the total cost of a Position or Posting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pos</strong> – An instance of Position or Posting, equivalently.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.convert.get_units">
<code class="sig-prename descclassname">beancount.core.convert.</code><code class="sig-name descname">get_units</code><span class="sig-paren">(</span><em class="sig-param">pos</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.convert.get_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the units of a Position or Posting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pos</strong> – An instance of Position or Posting, equivalently.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.convert.get_value">
<code class="sig-prename descclassname">beancount.core.convert.</code><code class="sig-name descname">get_value</code><span class="sig-paren">(</span><em class="sig-param">pos</em>, <em class="sig-param">price_map</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.convert.get_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the market value of a Position or Posting.</p>
<p>Note that if the position is not held at cost, this does not convert
anything, even if a price is available in the ‘price_map’. We don’t specify
a target currency here. If you’re attempting to make such a conversion, see
convert_*() functions below.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – An instance of Position or Posting, equivalently.</p></li>
<li><p><strong>price_map</strong> – A dict of prices, as built by prices.build_price_map().</p></li>
<li><p><strong>date</strong> – A datetime.date instance to evaluate the value at, or None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount, either with a successful value currency conversion, or if we
could not convert the value, just the units, unmodified. This is designed
so that you could reduce an inventory with this and not lose any
information silently in case of failure to convert (possibly due to an
empty price map). Compare the returned currency to that of the input
position if you need to check for success.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.convert.get_weight">
<code class="sig-prename descclassname">beancount.core.convert.</code><code class="sig-name descname">get_weight</code><span class="sig-paren">(</span><em class="sig-param">pos</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.convert.get_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weight of a Position or Posting.</p>
<p>This is the amount that will need to be balanced from a posting of a
transaction.</p>
<p>This is a <em>key</em> element of the semantics of transactions in this software. A
balance amount is the amount used to check the balance of a transaction.
Here are all relevant examples, with the amounts used to balance the
postings:</p>
<blockquote>
<div><p>Assets:Account  5234.50 USD                             -&gt;  5234.50 USD
Assets:Account  3877.41 EUR &#64; 1.35 USD                  -&gt;  5234.50 USD
Assets:Account       10 HOOL {523.45 USD}               -&gt;  5234.50 USD
Assets:Account       10 HOOL {523.45 USD} &#64; 545.60 CAD  -&gt;  5234.50 USD</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pos</strong> – An instance of Position or Posting, equivalently.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Amount.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.data">
<span id="beancount-core-data"></span><h2>beancount.core.data<a class="headerlink" href="#module-beancount.core.data" title="Permalink to this headline">¶</a></h2>
<p>Basic data structures used to represent the Ledger entries.</p>
<dl class="class">
<dt id="beancount.core.data.Balance">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Balance</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">account</em>, <em class="sig-param">amount</em>, <em class="sig-param">tolerance</em>, <em class="sig-param">diff_amount</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Balance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Booking">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Booking</code><a class="headerlink" href="#beancount.core.data.Booking" title="Permalink to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="attribute">
<dt id="beancount.core.data.Booking.AVERAGE">
<code class="sig-name descname">AVERAGE</code><em class="property"> = 'AVERAGE'</em><a class="headerlink" href="#beancount.core.data.Booking.AVERAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.data.Booking.FIFO">
<code class="sig-name descname">FIFO</code><em class="property"> = 'FIFO'</em><a class="headerlink" href="#beancount.core.data.Booking.FIFO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.data.Booking.LIFO">
<code class="sig-name descname">LIFO</code><em class="property"> = 'LIFO'</em><a class="headerlink" href="#beancount.core.data.Booking.LIFO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.data.Booking.NONE">
<code class="sig-name descname">NONE</code><em class="property"> = 'NONE'</em><a class="headerlink" href="#beancount.core.data.Booking.NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.data.Booking.STRICT">
<code class="sig-name descname">STRICT</code><em class="property"> = 'STRICT'</em><a class="headerlink" href="#beancount.core.data.Booking.STRICT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.core.data.Close">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Close</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">account</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Commodity">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Commodity</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Commodity" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Custom">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Custom</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">type</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Custom" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Document">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Document</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">account</em>, <em class="sig-param">filename</em>, <em class="sig-param">tags</em>, <em class="sig-param">links</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Event">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Event</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">type</em>, <em class="sig-param">description</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Note">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Note</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">account</em>, <em class="sig-param">comment</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Note" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Open">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Open</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">account</em>, <em class="sig-param">currencies</em>, <em class="sig-param">booking</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Pad">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Pad</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">account</em>, <em class="sig-param">source_account</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Pad" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Posting">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Posting</code><span class="sig-paren">(</span><em class="sig-param">account</em>, <em class="sig-param">units</em>, <em class="sig-param">cost</em>, <em class="sig-param">price</em>, <em class="sig-param">flag</em>, <em class="sig-param">meta</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Posting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Price">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Price</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">currency</em>, <em class="sig-param">amount</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Price" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Query">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Query</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">name</em>, <em class="sig-param">query_string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Query" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.Transaction">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">Transaction</code><span class="sig-paren">(</span><em class="sig-param">meta</em>, <em class="sig-param">date</em>, <em class="sig-param">flag</em>, <em class="sig-param">payee</em>, <em class="sig-param">narration</em>, <em class="sig-param">tags</em>, <em class="sig-param">links</em>, <em class="sig-param">postings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.Transaction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.data.TxnPosting">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">TxnPosting</code><span class="sig-paren">(</span><em class="sig-param">txn</em>, <em class="sig-param">posting</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.TxnPosting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.core.data.create_simple_posting">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">create_simple_posting</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">account</em>, <em class="sig-param">number</em>, <em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.create_simple_posting" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a simple posting on the entry, with just a number and currency (no cost).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – The entry instance to add the posting to.</p></li>
<li><p><strong>account</strong> – A string, the account to use on the posting.</p></li>
<li><p><strong>number</strong> – A Decimal number or string to use in the posting’s Amount.</p></li>
<li><p><strong>currency</strong> – A string, the currency for the Amount.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Posting, and as a side-effect the entry has had its list of
postings modified with the new Posting instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.create_simple_posting_with_cost">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">create_simple_posting_with_cost</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">account</em>, <em class="sig-param">number</em>, <em class="sig-param">currency</em>, <em class="sig-param">cost_number</em>, <em class="sig-param">cost_currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.create_simple_posting_with_cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a simple posting on the entry, with just a number and currency (no cost).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – The entry instance to add the posting to.</p></li>
<li><p><strong>account</strong> – A string, the account to use on the posting.</p></li>
<li><p><strong>number</strong> – A Decimal number or string to use in the posting’s Amount.</p></li>
<li><p><strong>currency</strong> – A string, the currency for the Amount.</p></li>
<li><p><strong>cost_number</strong> – A Decimal number or string to use for the posting’s cost Amount.</p></li>
<li><p><strong>cost_currency</strong> – a string, the currency for the cost Amount.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Posting, and as a side-effect the entry has had its list of
postings modified with the new Posting instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.entry_sortkey">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">entry_sortkey</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.entry_sortkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort-key for entries. We sort by date, except that checks
should be placed in front of every list of entries of that same day,
in order to balance linearly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An entry instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of (date, integer, integer), that forms the sort key for the
entry.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.filter_txns">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">filter_txns</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.filter_txns" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator that yields only the Transaction instances.</p>
<p>This is such an incredibly common operation that it deserves a terse
filtering mechanism.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>A sorted list of only the Transaction directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.find_closest">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">find_closest</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">filename</em>, <em class="sig-param">lineno</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.find_closest" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the closest entry from entries to (filename, lineno).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>filename</strong> – A string, the name of the ledger file to look for. Be careful
to provide the very same filename, and note that the parser stores the
absolute path of the filename here.</p></li>
<li><p><strong>lineno</strong> – An integer, the line number closest after the directive we’re
looking for. This may be the exact/first line of the directive.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The closest entry found in the given file for the given filename, or
None, if none could be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.get_entry">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">get_entry</code><span class="sig-paren">(</span><em class="sig-param">posting_or_entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.get_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entry associated with the posting or entry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – A TxnPosting or entry instance</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A datetime instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.has_entry_account_component">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">has_entry_account_component</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">component</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.has_entry_account_component" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if one of the entry’s postings has an account component.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – A Transaction entry.</p></li>
<li><p><strong>component</strong> – A string, a component of an account name. For instance,
‘Food’ in ‘Expenses:Food:Restaurant’. All components are considered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if the component is in the account. Note that a component
name must be whole, that is ‘NY’ is not in Expenses:Taxes:StateNY’.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.iter_entry_dates">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">iter_entry_dates</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date_begin</em>, <em class="sig-param">date_end</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.iter_entry_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the entries in a date window.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A date-sorted list of dated directives.</p></li>
<li><p><strong>date_begin</strong> – A datetime.date instance, the first date to include.</p></li>
<li><p><strong>date_end</strong> – A datetime.date instance, one day beyond the last date.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Instances of the dated directives, between the dates, and in the order in
which they appear.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.new_directive">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">new_directive</code><span class="sig-paren">(</span><em class="sig-param">clsname</em>, <em class="sig-param">fields</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.new_directive" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a directive class. Do not include default fields.
This should probably be carried out through inheritance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – A string, the capitalized name of the directive.</p></li>
<li><p><strong>fields</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>]) – A string or the list of strings, names for the fields
to add to the base tuple.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NamedTuple'&gt;</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A type object for the new directive type.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.new_metadata">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">new_metadata</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">lineno</em>, <em class="sig-param">kvlist=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.new_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new metadata container from the filename and line number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – A string, the filename for the creator of this directive.</p></li>
<li><p><strong>lineno</strong> – An integer, the line number where the directive has been created.</p></li>
<li><p><strong>kvlist</strong> – An optional container of key-values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A metadata dict.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.posting_has_conversion">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">posting_has_conversion</code><span class="sig-paren">(</span><em class="sig-param">posting</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.posting_has_conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if this position involves a conversion.</p>
<p>A conversion is when there is a price attached to the amount but no cost.
This is used on transactions to convert between units.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>posting</strong> – an instance of Posting</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if this posting has a price conversion.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.posting_sortkey">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">posting_sortkey</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.posting_sortkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort-key for entries or postings. We sort by date, except that checks
should be placed in front of every list of entries of that same day,
in order to balance linearly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – A Posting or entry instance</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A tuple of (date, integer, integer), that forms the sort key for the
posting or entry.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.remove_account_postings">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">remove_account_postings</code><span class="sig-paren">(</span><em class="sig-param">account</em>, <em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.remove_account_postings" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all postings with the given account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account</strong> – A string, the account name whose postings we want to remove.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of entries without the rounding postings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.sanity_check_types">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">sanity_check_types</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">allow_none_for_tags_and_links=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.sanity_check_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the entry and its postings has all correct data types.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – An instance of one of the entries to be checked.</p></li>
<li><p><strong>allow_none_for_tags_and_links</strong> – A boolean, whether to allow plugins to
generate Transaction objects with None as value for the ‘tags’ or ‘links’
attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If there is anything that is unexpected, raises an exception.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.sorted">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">sorted</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.sorted" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience to sort a list of entries, using entry_sortkey().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A sorted list of directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.data.transaction_has_conversion">
<code class="sig-prename descclassname">beancount.core.data.</code><code class="sig-name descname">transaction_has_conversion</code><span class="sig-paren">(</span><em class="sig-param">transaction</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.data.transaction_has_conversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a Transaction entry, return true if at least one of
the postings has a price conversion (without an associated
cost). These are the source of non-zero conversion balances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>transaction</strong> – an instance of a Transaction entry.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true if this transaction contains at least one posting with a
price conversion.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.display_context">
<span id="beancount-core-display-context"></span><h2>beancount.core.display_context<a class="headerlink" href="#module-beancount.core.display_context" title="Permalink to this headline">¶</a></h2>
<p>A settings class to offer control over the number of digits rendered.</p>
<p>This module contains routines that can accumulate information on the width and
precision of numbers to be rendered and derive the precision required to render
all of them consistently and under certain common alignment requirements. This
is required in order to output neatly lined up columns of numbers in various
styles.</p>
<p>A common case is that the precision can be observed for numbers present in the
input file. This display precision can be used as the “precision by default” if
we write a routine for which it is inconvenient to feed all the numbers to build
such an accumulator.</p>
<p>Here are all the aspects supported by this module:</p>
<blockquote>
<div><p>PRECISION: Numbers for a particular currency are always rendered to the same
precision, and they can be rendered to one of two precisions; either</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>the most common number of fractional digits, or</p></li>
<li><p>the maximum number of digits seen (this is useful for rendering prices).</p></li>
</ol>
</div></blockquote>
<p>ALIGNMENT: Several alignment methods are supported.</p>
<blockquote>
<div><p>“natural”: Render the strings as small as possible with no padding, but to
their currency’s precision. Like this:</p>
<blockquote>
<div><p>‘1.2345’
‘764’
‘-7,409.01’
‘0.00000125’</p>
</div></blockquote>
<dl>
<dt>“dot-aligned”: The periods will align vertically, the left and right sides</dt><dd><p>are padded so that the column of numbers has the same width:</p>
<p>‘     1.2345    ‘
‘   764         ‘
‘-7,409.01      ‘
‘     0.00000125’</p>
</dd>
<dt>“right”: The strings are all flushed right, the left side is padded so that</dt><dd><p>the column of numbers has the same width:</p>
<p>‘     1.2345’
‘        764’
‘  -7,409.01’
‘ 0.00000125’</p>
</dd>
</dl>
</div></blockquote>
<p>SIGN: If a negative sign is present in the input numbers, the rendered numbers
reserve a space for it. If not, then we save the space.</p>
<p>COMMAS: If the user requests to render commas, commas are rendered in the
output.</p>
<p>RESERVED: A number of extra integral digits reserved on the left in order to
allow rendering novel numbers that haven’t yet been seen. For example,
balances may contains much larger numbers than the numbers seen in input
files, and these need to be accommodated when aligning to the right.</p>
</div></blockquote>
<dl class="class">
<dt id="beancount.core.display_context.Align">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.display_context.</code><code class="sig-name descname">Align</code><a class="headerlink" href="#beancount.core.display_context.Align" title="Permalink to this definition">¶</a></dt>
<dd><p>Alignment style for numbers.</p>
<dl class="attribute">
<dt id="beancount.core.display_context.Align.DOT">
<code class="sig-name descname">DOT</code><em class="property"> = 2</em><a class="headerlink" href="#beancount.core.display_context.Align.DOT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.Align.NATURAL">
<code class="sig-name descname">NATURAL</code><em class="property"> = 1</em><a class="headerlink" href="#beancount.core.display_context.Align.NATURAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.Align.RIGHT">
<code class="sig-name descname">RIGHT</code><em class="property"> = 3</em><a class="headerlink" href="#beancount.core.display_context.Align.RIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.core.display_context.DisplayContext">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.display_context.</code><code class="sig-name descname">DisplayContext</code><a class="headerlink" href="#beancount.core.display_context.DisplayContext" title="Permalink to this definition">¶</a></dt>
<dd><p>A builder object used to construct a DisplayContext from a series of numbers.</p>
<dl class="attribute">
<dt id="beancount.core.display_context.DisplayContext.ccontexts">
<code class="sig-name descname">ccontexts</code><a class="headerlink" href="#beancount.core.display_context.DisplayContext.ccontexts" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict of currency string to CurrencyContext instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.DisplayContext.commas">
<code class="sig-name descname">commas</code><a class="headerlink" href="#beancount.core.display_context.DisplayContext.commas" title="Permalink to this definition">¶</a></dt>
<dd><p>A bool, true if we should render commas. This just gets propagated
onwards as the default value of to build with.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.DisplayContext.DEFAULT_UNINITIALIZED_PRECISION">
<code class="sig-name descname">DEFAULT_UNINITIALIZED_PRECISION</code><em class="property"> = 8</em><a class="headerlink" href="#beancount.core.display_context.DisplayContext.DEFAULT_UNINITIALIZED_PRECISION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.core.display_context.DisplayContext.build">
<code class="sig-name descname">build</code><span class="sig-paren">(</span><em class="sig-param">alignment=&lt;Align.NATURAL: 1&gt;</em>, <em class="sig-param">precision=&lt;Precision.MOST_COMMON: 1&gt;</em>, <em class="sig-param">commas=None</em>, <em class="sig-param">reserved=0</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayContext.build" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a formatter for the given display context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>alignment</strong> – The desired alignment.</p></li>
<li><p><strong>precision</strong> – The desired precision.</p></li>
<li><p><strong>commas</strong> – Whether to render commas or not. If ‘None’, the default value carried
by the context will be used.</p></li>
<li><p><strong>reserved</strong> – An integer, the number of extra digits to be allocated in
the maximum width calculations.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.display_context.DisplayContext.quantize">
<code class="sig-name descname">quantize</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">currency</em>, <em class="sig-param">precision=&lt;Precision.MOST_COMMON: 1&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayContext.quantize" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantize the given number to the given precision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – A Decimal instance, the number to be quantized.</p></li>
<li><p><strong>currency</strong> – A currency string.</p></li>
<li><p><strong>precision</strong> – Which precision to use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Decimal instance, the quantized number.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.display_context.DisplayContext.set_commas">
<code class="sig-name descname">set_commas</code><span class="sig-paren">(</span><em class="sig-param">commas</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayContext.set_commas" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the default value for rendering commas.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.core.display_context.DisplayContext.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">currency='__default__'</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayContext.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the builder with the given number for the given currency.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – An instance of Decimal to consider for this currency.</p></li>
<li><p><strong>currency</strong> – An optional string, the currency this numbers applies to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.core.display_context.DisplayFormatter">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.display_context.</code><code class="sig-name descname">DisplayFormatter</code><span class="sig-paren">(</span><em class="sig-param">dcontext</em>, <em class="sig-param">precision</em>, <em class="sig-param">fmtstrings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>A class used to contain various settings that control how we output numbers.
In particular, the precision used for each currency, and whether or not
commas should be printed. This object is intended to be passed around to all
functions that format numbers to strings.</p>
<dl class="attribute">
<dt id="beancount.core.display_context.DisplayFormatter.dcontext">
<code class="sig-name descname">dcontext</code><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter.dcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>A DisplayContext instance.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.DisplayFormatter.precision">
<code class="sig-name descname">precision</code><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter.precision" title="Permalink to this definition">¶</a></dt>
<dd><p>An enum of Precision from which it was built.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.DisplayFormatter.fmtstrings">
<code class="sig-name descname">fmtstrings</code><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter.fmtstrings" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict of currency to pre-baked format strings for it.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.DisplayFormatter.fmtfuncs">
<code class="sig-name descname">fmtfuncs</code><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter.fmtfuncs" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict of currency to pre-baked formatting functions for it.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.core.display_context.DisplayFormatter.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">currency='__default__'</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.core.display_context.DisplayFormatter.quantize">
<code class="sig-name descname">quantize</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">currency='__default__'</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.display_context.DisplayFormatter.quantize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.core.display_context.Precision">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.display_context.</code><code class="sig-name descname">Precision</code><a class="headerlink" href="#beancount.core.display_context.Precision" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of precision required.</p>
<dl class="attribute">
<dt id="beancount.core.display_context.Precision.MAXIMUM">
<code class="sig-name descname">MAXIMUM</code><em class="property"> = 2</em><a class="headerlink" href="#beancount.core.display_context.Precision.MAXIMUM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.display_context.Precision.MOST_COMMON">
<code class="sig-name descname">MOST_COMMON</code><em class="property"> = 1</em><a class="headerlink" href="#beancount.core.display_context.Precision.MOST_COMMON" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-beancount.core.distribution">
<span id="beancount-core-distribution"></span><h2>beancount.core.distribution<a class="headerlink" href="#module-beancount.core.distribution" title="Permalink to this headline">¶</a></h2>
<p>A simple accumulator for data about a mathematical distribution.</p>
<dl class="class">
<dt id="beancount.core.distribution.Distribution">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.distribution.</code><code class="sig-name descname">Distribution</code><a class="headerlink" href="#beancount.core.distribution.Distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>A class that computes a histogram of integer values. This is used to compute
a length that will cover at least some decent fraction of the samples.</p>
<dl class="method">
<dt id="beancount.core.distribution.Distribution.empty">
<code class="sig-name descname">empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.distribution.Distribution.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the distribution is empty.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.distribution.Distribution.max">
<code class="sig-name descname">max</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.distribution.Distribution.max" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum value seen in the distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An element of the value type, or None, if the distribution was empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.distribution.Distribution.min">
<code class="sig-name descname">min</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.distribution.Distribution.min" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum value seen in the distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An element of the value type, or None, if the distribution was empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.distribution.Distribution.mode">
<code class="sig-name descname">mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.distribution.Distribution.mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the mode of the distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An element of the value type, or None, if the distribution was empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.distribution.Distribution.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.distribution.Distribution.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a sample to the distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – A value of the function.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-beancount.core.flags">
<span id="beancount-core-flags"></span><h2>beancount.core.flags<a class="headerlink" href="#module-beancount.core.flags" title="Permalink to this headline">¶</a></h2>
<p>Flag constants.</p>
</div>
<div class="section" id="module-beancount.core.getters">
<span id="beancount-core-getters"></span><h2>beancount.core.getters<a class="headerlink" href="#module-beancount.core.getters" title="Permalink to this headline">¶</a></h2>
<p>Getter functions that operate on lists of entries to return various lists of
things that they reference, accounts, tags, links, currencies, etc.</p>
<dl class="class">
<dt id="beancount.core.getters.GetAccounts">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">GetAccounts</code><a class="headerlink" href="#beancount.core.getters.GetAccounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Accounts gatherer.</p>
<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Balance">
<code class="sig-name descname">Balance</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with a single account attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The single account of this directive.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Close">
<code class="sig-name descname">Close</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Close" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with a single account attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The single account of this directive.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Commodity">
<code class="sig-name descname">Commodity</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Commodity" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with no accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An empty list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Custom">
<code class="sig-name descname">Custom</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Custom" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with no accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An empty list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Document">
<code class="sig-name descname">Document</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Document" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with a single account attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The single account of this directive.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Event">
<code class="sig-name descname">Event</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with no accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An empty list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Note">
<code class="sig-name descname">Note</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Note" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with a single account attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The single account of this directive.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Open">
<code class="sig-name descname">Open</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Open" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with a single account attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The single account of this directive.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Pad">
<code class="sig-name descname">Pad</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Pad" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a Pad directive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of Pad.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The two accounts of the Pad directive.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Price">
<code class="sig-name descname">Price</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Price" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with no accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An empty list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Query">
<code class="sig-name descname">Query</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Query" title="Permalink to this definition">¶</a></dt>
<dd><p>Process directives with no accounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of a directive.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An empty list</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.Transaction">
<code class="sig-name descname">Transaction</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.Transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a Transaction directive.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – An instance of Transaction.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>The accounts of the legs of the transaction.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.get_accounts_use_map">
<code class="sig-name descname">get_accounts_use_map</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.get_accounts_use_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather the list of accounts from the list of entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of dictionaries of account name to date, one for first date
used and one for last date used. The keys should be identical.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.getters.GetAccounts.get_entry_accounts">
<code class="sig-name descname">get_entry_accounts</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.GetAccounts.get_entry_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all the accounts references by a single directive.</p>
<p>Note: This should get replaced by a method on each directive eventually,
that would be the clean way to do this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entry</strong> – A directive instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of account name strings.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_account_components">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_account_components</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_account_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all the account components available in the given directives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of strings, the unique account components, including the root
account names.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_account_open_close">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_account_open_close</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_account_open_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the open/close entries for each of the accounts.</p>
<p>If an open or close entry happens to be duplicated, accept the earliest
entry (chronologically).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A map of account name strings to pairs of (open-directive, close-directive)
tuples.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_accounts">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_accounts</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all the accounts references by a list of directives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of account strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_accounts_use_map">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_accounts_use_map</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_accounts_use_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all the accounts references by a list of directives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of dictionaries of account name to date, one for first date
used and one for last date used. The keys should be identical.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_active_years">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_active_years</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_active_years" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield all the years that have at least one entry in them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Unique dates see in the list of directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_all_links">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_all_links</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_all_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all the links seen in the given entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of links strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_all_payees">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_all_payees</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_all_payees" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all the unique payees seen in the given entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of payee strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_all_tags">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_all_tags</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_all_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all the tags seen in the given entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directive instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of tag strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_commodity_map">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_commodity_map</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">create_missing=True</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_commodity_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Create map of commodity names to Commodity entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directive instances.</p></li>
<li><p><strong>create_missing</strong> – A boolean, true if you want to automatically generate
missing commodity directives if not present in the output map.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A map of commodity name strings to Commodity directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_dict_accounts">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_dict_accounts</code><span class="sig-paren">(</span><em class="sig-param">account_names</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_dict_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a nested dict of all the unique leaf names.
account names are labelled with LABEL=True</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_names</strong> – An iterable of account names (strings)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A nested OrderedDict of account leafs</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_entry_accounts">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_entry_accounts</code><span class="sig-paren">(</span><em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_entry_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gather all the accounts references by a single directive.</p>
<p>Note: This should get replaced by a method on each directive eventually,
that would be the clean way to do this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A directive instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A set of account strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_leveln_parent_accounts">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_leveln_parent_accounts</code><span class="sig-paren">(</span><em class="sig-param">account_names</em>, <em class="sig-param">level</em>, <em class="sig-param">nrepeats=0</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_leveln_parent_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all the unique leaf names at level N in an account hierarchy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>account_names</strong> – A list of account names (strings)</p></li>
<li><p><strong>level</strong> – The level to cross-cut. 0 is for root accounts.</p></li>
<li><p><strong>nrepeats</strong> – A minimum number of times a leaf is required to be present in the
the list of unique account names in order to be returned by this function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of leaf node names.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_min_max_dates">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_min_max_dates</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">types=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_min_max_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimum and maximum dates in the list of entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directive instances.</p></li>
<li><p><strong>types</strong> – An optional tuple of types to restrict the entries to.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of datetime.date dates, the minimum and maximum dates seen in the
directives.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.getters.get_values_meta">
<code class="sig-prename descclassname">beancount.core.getters.</code><code class="sig-name descname">get_values_meta</code><span class="sig-paren">(</span><em class="sig-param">name_to_entries_map</em>, <em class="sig-param">*meta_keys</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.getters.get_values_meta" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a map of the metadata from a map of entries values.</p>
<p>Given a dict of some key to a directive instance (or None), return a mapping
of the key to the metadata extracted from each directive, or a default
value. This can be used to gather a particular piece of metadata from an
accounts map or a commodities map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name_to_entries_map</strong> – A dict of something to an entry or None.</p></li>
<li><p><strong>meta_keys</strong> – A list of strings, the keys to fetch from the metadata.</p></li>
<li><p><strong>default</strong> – The default value to use if the metadata is not available or if
the value/entry is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A mapping of the keys of name_to_entries_map to the values of the ‘meta_keys’
metadata. If there are multiple ‘meta_keys’, each value is a tuple of them.
On the other hand, if there is only a single one, the value itself is returned.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.interpolate">
<span id="beancount-core-interpolate"></span><h2>beancount.core.interpolate<a class="headerlink" href="#module-beancount.core.interpolate" title="Permalink to this headline">¶</a></h2>
<p>Code used to automatically complete postings without positions.</p>
<dl class="class">
<dt id="beancount.core.interpolate.BalanceError">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">BalanceError</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">message</em>, <em class="sig-param">entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.BalanceError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.compute_entries_balance">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">compute_entries_balance</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">prefix=None</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.compute_entries_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the balance of all postings of a list of entries.</p>
<p>Sum up all the positions in all the postings of all the transactions in the
list of entries and return an inventory of it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>prefix</strong> – If specified, a prefix string to restrict by account name. Only
postings with an account that starts with this prefix will be summed up.</p></li>
<li><p><strong>date</strong> – A datetime.date instance at which to stop adding up the balance.
The date is exclusive.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.compute_entry_context">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">compute_entry_context</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">context_entry</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.compute_entry_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the balances of all accounts referenced by entry up to entry.</p>
<p>This provides the inventory of the accounts to which the entry is to be
applied, before and after.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>context_entry</strong> – The entry for which we want to obtain the before and after
context.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Two dicts of account-name to Inventory instance, one which represents the
context before the entry is applied, and one that represents the context
after it has been applied.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.compute_residual">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">compute_residual</code><span class="sig-paren">(</span><em class="sig-param">postings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.compute_residual" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the residual of a set of complete postings, and the per-currency precision.</p>
<p>This is used to cross-check a balanced transaction.</p>
<p>The precision is the maximum fraction that is being used for each currency
(a dict). We use the currency of the weight amount in order to infer the
quantization precision for each currency. Integer amounts aren’t
contributing to the determination of precision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>postings</strong> – A list of Posting instances.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Inventory, with the residual of the given list of postings.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.fill_residual_posting">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">fill_residual_posting</code><span class="sig-paren">(</span><em class="sig-param">entry</em>, <em class="sig-param">account_rounding</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.fill_residual_posting" title="Permalink to this definition">¶</a></dt>
<dd><p>If necessary, insert a posting to absorb the residual.
This makes the transaction balance exactly.</p>
<p>Note: This was developed in order to tweak transactions before exporting
them to Ledger. A better method would be to enable the feature that
automatically inserts these rounding postings on all transactions, and so
maybe this method can be deprecated if we do so.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> – An instance of a Transaction.</p></li>
<li><p><strong>account_rounding</strong> – A string, the name of the rounding account that
absorbs residuals / rounding errors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A possibly new, modified entry with a new posting. If a residual
was not needed - the transaction already balanced perfectly - no new
leg is inserted.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.get_residual_postings">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">get_residual_postings</code><span class="sig-paren">(</span><em class="sig-param">residual</em>, <em class="sig-param">account_rounding</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.get_residual_postings" title="Permalink to this definition">¶</a></dt>
<dd><p>Create postings to book the given residuals.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>residual</strong> – An Inventory, the residual positions.</p></li>
<li><p><strong>account_rounding</strong> – A string, the name of the rounding account that
absorbs residuals / rounding errors.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of new postings to be inserted to reduce the given residual.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.has_nontrivial_balance">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">has_nontrivial_balance</code><span class="sig-paren">(</span><em class="sig-param">posting</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.has_nontrivial_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if a Posting has a balance amount that would have to be calculated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>posting</strong> – A Posting instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.infer_tolerances">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">infer_tolerances</code><span class="sig-paren">(</span><em class="sig-param">postings</em>, <em class="sig-param">options_map</em>, <em class="sig-param">use_cost=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.infer_tolerances" title="Permalink to this definition">¶</a></dt>
<dd><p>Infer tolerances from a list of postings.</p>
<p>The tolerance is the maximum fraction that is being used for each currency
(a dict). We use the currency of the weight amount in order to infer the
quantization precision for each currency. Integer amounts aren’t
contributing to the determination of precision.</p>
<p>The ‘use_cost’ option allows one to experiment with letting postings at cost
and at price influence the maximum value of the tolerance. It’s tricky to
use and alters the definition of the tolerance in a non-trivial way, if you
use it. The tolerance is expanded by the sum of the cost times a fraction ‘M’
of the smallest digits in the number of units for all postings held at cost.</p>
<p>For example, in this transaction:</p>
<blockquote>
<div><dl class="simple">
<dt>2006-01-17 * “Plan Contribution”</dt><dd><p>Assets:Investments:VWELX 18.572 VWELX {30.96 USD}
Assets:Investments:VWELX 18.572 VWELX {30.96 USD}
Assets:Investments:Cash -1150.00 USD</p>
</dd>
</dl>
</div></blockquote>
<p>The tolerance for units of USD will calculated as the MAXIMUM of:</p>
<blockquote>
<div><p>0.01 * M = 0.005 (from the 1150.00 USD leg)</p>
<dl>
<dt>The sum of</dt><dd><p>0.001 * M x 30.96 = 0.01548 +
0.001 * M x 30.96 = 0.01548</p>
<blockquote>
<div><p>= 0.03096</p>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
<p>So the tolerance for USD in this case is max(0.005, 0.03096) = 0.03096. Prices
contribute similarly to the maximum tolerance allowed.</p>
<p>Note that ‘M’ above is the inferred_tolerance_multiplier and its default
value is 0.5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>postings</strong> – A list of Posting instances.</p></li>
<li><p><strong>options_map</strong> – A dict of options.</p></li>
<li><p><strong>use_cost</strong> – A boolean, true if we should be using a combination of the smallest
digit of the number times the cost or price in order to infer the tolerance.
If the value is left unspecified (as ‘None’), the default value can be
overridden by setting an option.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of currency to the tolerated difference amount to be used for it,
e.g. 0.005.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.is_tolerance_user_specified">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">is_tolerance_user_specified</code><span class="sig-paren">(</span><em class="sig-param">tolerance</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.is_tolerance_user_specified" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the given tolerance number was user-specified.</p>
<p>This would allow the user to provide a tolerance like # 0.1234 but not
0.123456. This is used to detect whether a tolerance value # is input by the
user and not inferred automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tolerance</strong> – An instance of Decimal.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.interpolate.quantize_with_tolerance">
<code class="sig-prename descclassname">beancount.core.interpolate.</code><code class="sig-name descname">quantize_with_tolerance</code><span class="sig-paren">(</span><em class="sig-param">tolerances</em>, <em class="sig-param">currency</em>, <em class="sig-param">number</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.interpolate.quantize_with_tolerance" title="Permalink to this definition">¶</a></dt>
<dd><p>Quantize the units using the tolerance dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerances</strong> – A dict of currency to tolerance Decimalvalues.</p></li>
<li><p><strong>number</strong> – A number to quantize.</p></li>
<li><p><strong>currency</strong> – A string currency.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Decimal, the number possibly quantized.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.inventory">
<span id="beancount-core-inventory"></span><h2>beancount.core.inventory<a class="headerlink" href="#module-beancount.core.inventory" title="Permalink to this headline">¶</a></h2>
<p>A container for an inventory of positions.</p>
<p>This module provides a container class that can hold positions. An inventory is
a mapping of positions, where each position is keyed by</p>
<blockquote>
<div><p>(currency: str, cost: Cost) -&gt; position: Position</p>
</div></blockquote>
<p>where</p>
<blockquote>
<div><dl class="simple">
<dt>‘currency’: The commodity under consideration, USD, CAD, or stock units such</dt><dd><p>as HOOL, MSFT, AAPL, etc.;</p>
</dd>
<dt>‘cost’: None or a Cost instance existing of cost currency, number, date, and</dt><dd><p>label;</p>
</dd>
<dt>‘position’: A Position object, whose ‘units’ attribute is guaranteed to have</dt><dd><p>the same currency as ‘currency’ and whose ‘cost’ attribute is equal to the
‘cost’ key. It basically stores the number of units.</p>
</dd>
</dl>
</div></blockquote>
<p>This is meant to accommodate both booked and non-booked amounts. The clever
trick that we pull to do this is that for positions which aren’t booked, we
simply leave the ‘cost’ as None. This is the case for most of the transactions.</p>
<dl class="class">
<dt id="beancount.core.inventory.Booking">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.inventory.</code><code class="sig-name descname">Booking</code><a class="headerlink" href="#beancount.core.inventory.Booking" title="Permalink to this definition">¶</a></dt>
<dd><p>Result of booking a new lot to an existing inventory.</p>
<dl class="attribute">
<dt id="beancount.core.inventory.Booking.AUGMENTED">
<code class="sig-name descname">AUGMENTED</code><em class="property"> = 3</em><a class="headerlink" href="#beancount.core.inventory.Booking.AUGMENTED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.inventory.Booking.CREATED">
<code class="sig-name descname">CREATED</code><em class="property"> = 1</em><a class="headerlink" href="#beancount.core.inventory.Booking.CREATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.inventory.Booking.IGNORED">
<code class="sig-name descname">IGNORED</code><em class="property"> = 4</em><a class="headerlink" href="#beancount.core.inventory.Booking.IGNORED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="beancount.core.inventory.Booking.REDUCED">
<code class="sig-name descname">REDUCED</code><em class="property"> = 2</em><a class="headerlink" href="#beancount.core.inventory.Booking.REDUCED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="beancount.core.inventory.Inventory">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.inventory.</code><code class="sig-name descname">Inventory</code><span class="sig-paren">(</span><em class="sig-param">positions=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>An Inventory is a set of positions.</p>
<dl class="attribute">
<dt id="beancount.core.inventory.Inventory.positions">
<code class="sig-name descname">positions</code><a class="headerlink" href="#beancount.core.inventory.Inventory.positions" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of Position instances, held in this Inventory object.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.add_amount">
<code class="sig-name descname">add_amount</code><span class="sig-paren">(</span><em class="sig-param">units</em>, <em class="sig-param">cost=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.add_amount" title="Permalink to this definition">¶</a></dt>
<dd><p>Add to this inventory using amount and cost. This adds with strict lot
matching, that is, no partial matches are done on the arguments to the
keys of the inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>units</strong> – An Amount instance to add.</p></li>
<li><p><strong>cost</strong> – An instance of Cost or None, as a key to the inventory.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of (position, booking) where ‘position’ is the position that
that was modified BEFORE it was modified, and where ‘booking’ is a
Booking enum that hints at how the lot was booked to this inventory.
Position may be None if there is no corresponding Position object,
e.g. the position was deleted.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.add_inventory">
<code class="sig-name descname">add_inventory</code><span class="sig-paren">(</span><em class="sig-param">other</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.add_inventory" title="Permalink to this definition">¶</a></dt>
<dd><p>Add all the positions of another Inventory instance to this one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other</strong> – An instance of Inventory to add to this one.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>This inventory, modified.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.add_position">
<code class="sig-name descname">add_position</code><span class="sig-paren">(</span><em class="sig-param">position</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.add_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Add using a position (with strict lot matching).
Return True if this position was booked against and reduced another.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>position</strong> – The Posting or Position to add to this inventory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of (position, booking) where ‘position’ is the position that
that was modified, and where ‘booking’ is a Booking enum that hints at
how the lot was booked to this inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.average">
<code class="sig-name descname">average</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.average" title="Permalink to this definition">¶</a></dt>
<dd><p>Average all lots of the same currency together.</p>
<p>Use the minimum date from each aggregated set of lots.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An instance of Inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.cost_currencies">
<code class="sig-name descname">cost_currencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.cost_currencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of unit currencies held in this inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A set of currency strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.currencies">
<code class="sig-name descname">currencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.currencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list of unit currencies held in this inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of currency strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.currency_pairs">
<code class="sig-name descname">currency_pairs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.currency_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the commodities held in this inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A set of currency strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.from_string">
<em class="property">static </em><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Inventory from a string. This is useful for writing tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A comma-separated string of &lt;number&gt; &lt;currency&gt; with an
optional {&lt;number&gt; &lt;currency&gt;} for the cost.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Inventory with the given balances.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.get_currency_units">
<code class="sig-name descname">get_currency_units</code><span class="sig-paren">(</span><em class="sig-param">currency</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.get_currency_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the total amount across all the position in the given currency.
This may sum multiple lots in the same currency denomination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>currency</strong> – A string, the currency to filter the positions with.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Amount, with the given currency.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.get_only_position">
<code class="sig-name descname">get_only_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.get_only_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first position and assert there are no more.
If the inventory is empty, return None.</p>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.get_positions">
<code class="sig-name descname">get_positions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.get_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the positions in this inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A shallow copy of the list of positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.is_empty">
<code class="sig-name descname">is_empty</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.is_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the inventory is empty, that is, has no positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.is_mixed">
<code class="sig-name descname">is_mixed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.is_mixed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the inventory contains a mix of positive and negative lots for
at least one instrument.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.is_reduced_by">
<code class="sig-name descname">is_reduced_by</code><span class="sig-paren">(</span><em class="sig-param">ramount</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.is_reduced_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the amount could reduce this inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ramount</strong> – An instance of Amount.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.is_small">
<code class="sig-name descname">is_small</code><span class="sig-paren">(</span><em class="sig-param">tolerances</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.is_small" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if all the positions in the inventory are small.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tolerances</strong> – A Decimal, the small number of units under which a position
is considered small, or a dict of currency to such epsilon precision.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.reduce">
<code class="sig-name descname">reduce</code><span class="sig-paren">(</span><em class="sig-param">reducer</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduce an inventory using one of the conversion functions.</p>
<p>See functions in beancount.core.conversions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An instance of Inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.segregate_units">
<code class="sig-name descname">segregate_units</code><span class="sig-paren">(</span><em class="sig-param">currencies</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.segregate_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Split up the list of positions to the given currencies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>currencies</strong> – A list of currency strings, the currencies to isolate.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of currency to Inventory instances.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.inventory.Inventory.to_string">
<code class="sig-name descname">to_string</code><span class="sig-paren">(</span><em class="sig-param">dformat=&lt;beancount.core.display_context.DisplayFormatter object&gt;</em>, <em class="sig-param">parens=True</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.Inventory.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an Inventory instance to a printable string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dformat</strong> – An instance of DisplayFormatter.</p></li>
<li><p><strong>parents</strong> – A boolean, true if we should surround the results by parentheses.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A formatted string of the quantized amount and symbol.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.inventory.check_invariants">
<code class="sig-prename descclassname">beancount.core.inventory.</code><code class="sig-name descname">check_invariants</code><span class="sig-paren">(</span><em class="sig-param">inv</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.check_invariants" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the invariants of the Inventory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>inventory</strong> – An instance of Inventory.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the invariants are respected.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.inventory.from_string">
<code class="sig-prename descclassname">beancount.core.inventory.</code><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.inventory.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an Inventory from a string. This is useful for writing tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A comma-separated string of &lt;number&gt; &lt;currency&gt; with an
optional {&lt;number&gt; &lt;currency&gt;} for the cost.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Inventory with the given balances.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.number">
<span id="beancount-core-number"></span><h2>beancount.core.number<a class="headerlink" href="#module-beancount.core.number" title="Permalink to this headline">¶</a></h2>
<p>The module contains the basic Decimal type import.</p>
<p>About Decimal usage:</p>
<ul class="simple">
<li><p>Do not import Decimal from the ‘decimal’ or ‘cdecimal’ modules; always import
your Decimal class from beancount.core.amount.</p></li>
<li><p>Prefer to use D() to create new instances of Decimal objects, which
handles more syntax, e.g., handles None, and numbers with commas.</p></li>
</ul>
<dl class="function">
<dt id="beancount.core.number.D">
<code class="sig-prename descclassname">beancount.core.number.</code><code class="sig-name descname">D</code><span class="sig-paren">(</span><em class="sig-param">strord=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.number.D" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a string into a Decimal object.</p>
<p>This is used in parsing amounts from files in the importers. This is the
main function you should use to build all numbers the system manipulates
(never use floating-point in an accounting system). Commas are stripped and
ignored, as they are assumed to be thousands separators (the French comma
separator as decimal is not supported). This function just returns the
argument if it is already a Decimal object, for convenience.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strord</strong> – A string or Decimal instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Decimal instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="beancount.core.number.MISSING">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.number.</code><code class="sig-name descname">MISSING</code><a class="headerlink" href="#beancount.core.number.MISSING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="beancount.core.number.is_fast_decimal">
<code class="sig-prename descclassname">beancount.core.number.</code><code class="sig-name descname">is_fast_decimal</code><span class="sig-paren">(</span><em class="sig-param">decimal_module</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.number.is_fast_decimal" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if a fast C decimal implementation is installed.</p>
</dd></dl>

<dl class="function">
<dt id="beancount.core.number.round_to">
<code class="sig-prename descclassname">beancount.core.number.</code><code class="sig-name descname">round_to</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">increment</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.number.round_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Round a number <em>down</em> to a particular increment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number</strong> – A Decimal, the number to be rounded.</p></li>
<li><p><strong>increment</strong> – A Decimal, the size of the increment.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Decimal, the rounded number.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.number.same_sign">
<code class="sig-prename descclassname">beancount.core.number.</code><code class="sig-name descname">same_sign</code><span class="sig-paren">(</span><em class="sig-param">number1</em>, <em class="sig-param">number2</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.number.same_sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if both numbers have the same sign.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>number1</strong> – An instance of Decimal.</p></li>
<li><p><strong>number2</strong> – An instance of Decimal.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.position">
<span id="beancount-core-position"></span><h2>beancount.core.position<a class="headerlink" href="#module-beancount.core.position" title="Permalink to this headline">¶</a></h2>
<p>A position object, which consists of units Amount and cost Cost.</p>
<p>See types below for details.</p>
<dl class="class">
<dt id="beancount.core.position.Cost">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">Cost</code><span class="sig-paren">(</span><em class="sig-param">number</em>, <em class="sig-param">currency</em>, <em class="sig-param">date</em>, <em class="sig-param">label</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Cost" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.position.CostSpec">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">CostSpec</code><span class="sig-paren">(</span><em class="sig-param">number_per</em>, <em class="sig-param">number_total</em>, <em class="sig-param">currency</em>, <em class="sig-param">date</em>, <em class="sig-param">label</em>, <em class="sig-param">merge</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.CostSpec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="beancount.core.position.Position">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">Position</code><a class="headerlink" href="#beancount.core.position.Position" title="Permalink to this definition">¶</a></dt>
<dd><p>A ‘Position’ is a pair of units and optional cost.
This is used to track inventories.</p>
<dl class="attribute">
<dt id="beancount.core.position.Position.units">
<code class="sig-name descname">units</code><a class="headerlink" href="#beancount.core.position.Position.units" title="Permalink to this definition">¶</a></dt>
<dd><p>An Amount, the number of units and its currency.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.position.Position.cost">
<code class="sig-name descname">cost</code><a class="headerlink" href="#beancount.core.position.Position.cost" title="Permalink to this definition">¶</a></dt>
<dd><p>A Cost that represents the lot, or None.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.position.Position.cost_types">
<code class="sig-name descname">cost_types</code><em class="property"> = (&lt;class 'beancount.core.position.Cost'&gt;, &lt;class 'beancount.core.position.CostSpec'&gt;)</em><a class="headerlink" href="#beancount.core.position.Position.cost_types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.currency_pair">
<code class="sig-name descname">currency_pair</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.currency_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the currency pair associated with this position.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A pair of a currency string and a cost currency string or None.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.from_amounts">
<em class="property">static </em><code class="sig-name descname">from_amounts</code><span class="sig-paren">(</span><em class="sig-param">units</em>, <em class="sig-param">cost_amount=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.from_amounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a position from an amount and a cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> – An amount, that represents the number of units and the lot currency.</p></li>
<li><p><strong>cost_amount</strong> – If not None, represents the cost amount.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Position instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.from_string">
<em class="property">static </em><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a position from a string specification.</p>
<p>This is a miniature parser used for building tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string of &lt;number&gt; &lt;currency&gt; with an optional {&lt;number&gt;
&lt;currency&gt;} for the cost, similar to the parser syntax.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Position.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.get_negative">
<code class="sig-name descname">get_negative</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.get_negative" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a copy of this position but with a negative number.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>An instance of Position which represents the inverse of this Position.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.is_negative_at_cost">
<code class="sig-name descname">is_negative_at_cost</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.is_negative_at_cost" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the position is held at cost and negative.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A boolean.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.sortkey">
<code class="sig-name descname">sortkey</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.sortkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a key to sort positions by. This key depends on the order of the
currency of the lot (we want to order common currencies first) and the
number of units.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A tuple, used to sort lists of positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="beancount.core.position.Position.to_string">
<code class="sig-name descname">to_string</code><span class="sig-paren">(</span><em class="sig-param">dformat=&lt;beancount.core.display_context.DisplayFormatter object&gt;</em>, <em class="sig-param">detail=True</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.Position.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the position to a string.See to_string() for details.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.position.cost_to_str">
<code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">cost_to_str</code><span class="sig-paren">(</span><em class="sig-param">cost</em>, <em class="sig-param">dformat</em>, <em class="sig-param">detail=True</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.cost_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Format an instance of Cost or a CostSpec to a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cost</strong> – An instance of Cost or CostSpec.</p></li>
<li><p><strong>dformat</strong> – A DisplayFormatter object.</p></li>
<li><p><strong>detail</strong> – A boolean, true if we should render the non-amount components.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, suitable for formatting.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.position.from_amounts">
<code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">from_amounts</code><span class="sig-paren">(</span><em class="sig-param">units</em>, <em class="sig-param">cost_amount=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.from_amounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a position from an amount and a cost.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>amount</strong> – An amount, that represents the number of units and the lot currency.</p></li>
<li><p><strong>cost_amount</strong> – If not None, represents the cost amount.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Position instance.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.position.from_string">
<code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">from_string</code><span class="sig-paren">(</span><em class="sig-param">string</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.from_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a position from a string specification.</p>
<p>This is a miniature parser used for building tests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> – A string of &lt;number&gt; &lt;currency&gt; with an optional {&lt;number&gt;
&lt;currency&gt;} for the cost, similar to the parser syntax.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A new instance of Position.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.position.get_position">
<code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">get_position</code><span class="sig-paren">(</span><em class="sig-param">posting</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.get_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a Position instance from a Posting instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>posting</strong> – An instance of Posting.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An instance of Position.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.position.to_string">
<code class="sig-prename descclassname">beancount.core.position.</code><code class="sig-name descname">to_string</code><span class="sig-paren">(</span><em class="sig-param">pos</em>, <em class="sig-param">dformat=&lt;beancount.core.display_context.DisplayFormatter object&gt;</em>, <em class="sig-param">detail=True</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.position.to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Render the Position or Posting instance to a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pos</strong> – An instance of Position or Posting.</p></li>
<li><p><strong>dformat</strong> – An instance of DisplayFormatter.</p></li>
<li><p><strong>detail</strong> – A boolean, true if we should only render the lot details
beyond the cost (lot-date, label, etc.). If false, we only render
the cost, if present.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the rendered position.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.prices">
<span id="beancount-core-prices"></span><h2>beancount.core.prices<a class="headerlink" href="#module-beancount.core.prices" title="Permalink to this headline">¶</a></h2>
<p>This module has code that can build a database of historical prices at
various times, from which unrealized capital gains and market value can be
deduced.</p>
<p>Prices are deduced from Price entries found in the file, or perhaps
created by scripts (for example you could build a script that will fetch
live prices online and create entries on-the-fly).</p>
<dl class="class">
<dt id="beancount.core.prices.PriceMap">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">PriceMap</code><a class="headerlink" href="#beancount.core.prices.PriceMap" title="Permalink to this definition">¶</a></dt>
<dd><p>A price map dictionary.</p>
<p>The keys include both the set of forward (base, quote) pairs and their
inverse. In order to determine which are the forward pairs, access the
‘forward_pairs’ attribute</p>
<dl class="attribute">
<dt id="beancount.core.prices.PriceMap.forward_pairs">
<code class="sig-name descname">forward_pairs</code><a class="headerlink" href="#beancount.core.prices.PriceMap.forward_pairs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of (base, quote) keys for the forward pairs.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">forward_pairs</code></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.prices.build_price_map">
<code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">build_price_map</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.prices.build_price_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a price map from a list of arbitrary entries.</p>
<p>If multiple prices are found for the same (currency, cost-currency) pair at
the same date, the latest date is kept and the earlier ones (for that day)
are discarded.</p>
<p>If inverse price pairs are found, e.g. USD in AUD and AUD in USD, the
inverse that has the smallest number of price points is converted into the
one that has the most price points. In that way they are reconciled into a
single one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives, hopefully including some Price and/or</p></li>
<li><p><strong>entries.</strong> (<a class="reference internal" href="#beancount.core.data.Transaction" title="beancount.core.data.Transaction"><em>Transaction</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dict of (currency, cost-currency) keys to sorted lists of (date, number)
pairs, where ‘date’ is the date the price occurs at and ‘number’ a Decimal
that represents the price, or rate, between these two
currencies/commodities. Each date occurs only once in the sorted list of
prices of a particular key. All of the inverses are automatically
generated in the price map.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.prices.get_all_prices">
<code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">get_all_prices</code><span class="sig-paren">(</span><em class="sig-param">price_map</em>, <em class="sig-param">base_quote</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.prices.get_all_prices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a sorted list of all (date, number) price pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>price_map</strong> – A price map, which is a dict of (base, quote) -&gt; list of (date,
number) tuples, as created by build_price_map.</p></li>
<li><p><strong>base_quote</strong> – A pair of strings, the base currency to lookup, and the quote
currency to lookup, which expresses which units the base currency is
denominated in. This may also just be a string, with a ‘/’ separator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of (date, Decimal) pairs, sorted by date.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>KeyError</strong> – If the base/quote could not be found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.prices.get_last_price_entries">
<code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">get_last_price_entries</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">date</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.prices.get_last_price_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Run through the entries until the given date and return the last
Price entry encountered for each (currency, cost-currency) pair.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>date</strong> – An instance of datetime.date. If None, the very latest price
is returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of price entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.prices.get_latest_price">
<code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">get_latest_price</code><span class="sig-paren">(</span><em class="sig-param">price_map</em>, <em class="sig-param">base_quote</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.prices.get_latest_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the latest price/rate from a price map for the given base/quote pair.
This is often used to just get the ‘current’ price if you’re looking at the
entire set of entries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>price_map</strong> – A price map, which is a dict of (base, quote) -&gt; list of (date,
number) tuples, as created by build_price_map.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of (date, number), where ‘date’ is a datetime.date instance and
‘number’ is a Decimal of the price, or rate, at that date. The date is the
latest date which we have an available price for in the price map.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.prices.get_price">
<code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">get_price</code><span class="sig-paren">(</span><em class="sig-param">price_map</em>, <em class="sig-param">base_quote</em>, <em class="sig-param">date=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.prices.get_price" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the price as of the given date.</p>
<p>If the date is unspecified, return the latest price.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>price_map</strong> – A price map, which is a dict of (base, quote) -&gt; list of (date,
number) tuples, as created by build_price_map.</p></li>
<li><p><strong>base_quote</strong> – A pair of strings, the base currency to lookup, and the quote
currency to lookup, which expresses which units the base currency is
denominated in. This may also just be a string, with a ‘/’ separator.</p></li>
<li><p><strong>date</strong> – A datetime.date instance, the date at which we want the conversion
rate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of (datetime.date, Decimal) instance. If no price information could
be found, return (None, None).</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.prices.normalize_base_quote">
<code class="sig-prename descclassname">beancount.core.prices.</code><code class="sig-name descname">normalize_base_quote</code><span class="sig-paren">(</span><em class="sig-param">base_quote</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.prices.normalize_base_quote" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a slash-separated string to a pair of strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>base_quote</strong> – A pair of strings, the base currency to lookup, and the quote
currency to lookup, which expresses which units the base currency is
denominated in. This may also just be a string, with a ‘/’ separator.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A pair of strings.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-beancount.core.realization">
<span id="beancount-core-realization"></span><h2>beancount.core.realization<a class="headerlink" href="#module-beancount.core.realization" title="Permalink to this headline">¶</a></h2>
<p>Realization of specific lists of account postings into reports.</p>
<p>This code converts a list of entries into a tree of RealAccount nodes (which
stands for “realized accounts”). The RealAccount objects contain lists of
Posting instances instead of Transactions, or other entry types that are
attached to an account, such as a Balance or Note entry.</p>
<p>The interface of RealAccount corresponds to that of a regular Python dict, where
the keys are the names of the individual components of an account’s name, and
the values are always other RealAccount instances. If you want to get an account
by long account name, there are helper functions in this module for this purpose
(see realization.get(), for instance). RealAccount instances also contain the
final balance of that account, resulting from its list of postings.</p>
<p>You should not build RealAccount trees yourself; instead, you should filter the
list of desired directives to display and call the realize() function with them.</p>
<dl class="class">
<dt id="beancount.core.realization.RealAccount">
<em class="property">class </em><code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">RealAccount</code><span class="sig-paren">(</span><em class="sig-param">account_name</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.RealAccount" title="Permalink to this definition">¶</a></dt>
<dd><p>A realized account, inserted in a tree, that contains the list of realized entries.</p>
<dl class="attribute">
<dt id="beancount.core.realization.RealAccount.account">
<code class="sig-name descname">account</code><a class="headerlink" href="#beancount.core.realization.RealAccount.account" title="Permalink to this definition">¶</a></dt>
<dd><p>A string, the full name of the corresponding account.</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.realization.RealAccount.postings">
<code class="sig-name descname">postings</code><a class="headerlink" href="#beancount.core.realization.RealAccount.postings" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of postings associated with this accounting (does not
include the postings of children accounts).</p>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.realization.RealAccount.balance">
<code class="sig-name descname">balance</code><a class="headerlink" href="#beancount.core.realization.RealAccount.balance" title="Permalink to this definition">¶</a></dt>
<dd><p>The final balance of the list of postings associated with this account.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">account</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">balance</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="beancount.core.realization.RealAccount.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.RealAccount.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Override dict.copy() to clone a RealAccount.</p>
<p>This is only necessary to correctly implement the copy method.
Otherwise, calling .copy() on a RealAccount instance invokes the base
class’ method, which return just a dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A cloned instance of RealAccount, with all members shallow-copied.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="beancount.core.realization.RealAccount.txn_postings">
<code class="sig-name descname">txn_postings</code><a class="headerlink" href="#beancount.core.realization.RealAccount.txn_postings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.compute_balance">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">compute_balance</code><span class="sig-paren">(</span><em class="sig-param">real_account</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.compute_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total balance of this account and all its subaccounts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>real_account</strong> – A RealAccount instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.compute_postings_balance">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">compute_postings_balance</code><span class="sig-paren">(</span><em class="sig-param">txn_postings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.compute_postings_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the balance of a list of Postings’s or TxnPosting’s positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>postings</strong> – A list of Posting instances and other directives (which are
skipped).</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An Inventory.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.contains">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">contains</code><span class="sig-paren">(</span><em class="sig-param">real_account</em>, <em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>True if the given account node contains the subaccount name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>account_name</strong> – A string, the name of a direct or indirect subaccount of
this node.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A boolean, true the name is a child of this node.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.dump">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">root_account</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a RealAccount node to a line of lines.</p>
<p>Note: this is not meant to be used to produce text reports; the reporting
code should produce an intermediate object that contains the structure of
it, which can then be rendered to ASCII, HTML or CSV formats. This is
intended as a convenient little function for dumping trees of data for
debugging purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>root_account</strong> – A RealAccount instance.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl>
<dt>A list of tuples of (first_line, continuation_line, real_account) where</dt><dd><dl class="simple">
<dt>first_line: A string, the first line to render, which includes the</dt><dd><p>account name.</p>
</dd>
</dl>
<p>continuation_line: A string, further line to render if necessary.
real_account: The RealAccount instance which corresponds to this</p>
<blockquote>
<div><p>line.</p>
</div></blockquote>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.dump_balances">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">dump_balances</code><span class="sig-paren">(</span><em class="sig-param">real_root</em>, <em class="sig-param">dformat</em>, <em class="sig-param">at_cost=False</em>, <em class="sig-param">fullnames=False</em>, <em class="sig-param">file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.dump_balances" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump a realization tree with balances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real_root</strong> – An instance of RealAccount.</p></li>
<li><p><strong>dformat</strong> – An instance of DisplayFormatter to format the numbers with.</p></li>
<li><p><strong>at_cost</strong> – A boolean, if true, render the values at cost.</p></li>
<li><p><strong>fullnames</strong> – A boolean, if true, don’t render a tree of accounts and
render the full account names.</p></li>
<li><p><strong>file</strong> – A file object to dump the output to. If not specified, we
return the output as a string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A string, the rendered tree, or nothing, if ‘file’ was provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.filter">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">filter</code><span class="sig-paren">(</span><em class="sig-param">real_account</em>, <em class="sig-param">predicate</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter a RealAccount tree of nodes by the predicate.</p>
<p>This function visits the tree and applies the predicate on each node. It
returns a partial clone of RealAccount whereby on each node
- either the predicate is true, or
- for at least one child of the node the predicate is true.
All the leaves have the predicate be true.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real_account</strong> – An instance of RealAccount.</p></li>
<li><p><strong>predicate</strong> – A callable/function which accepts a real_account and returns
a boolean. If the function returns True, the node is kept.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A shallow clone of RealAccount is always returned.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.find_last_active_posting">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">find_last_active_posting</code><span class="sig-paren">(</span><em class="sig-param">txn_postings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.find_last_active_posting" title="Permalink to this definition">¶</a></dt>
<dd><p>Look at the end of the list of postings, and find the last
posting or entry that is not an automatically added directive.
Note that if the account is closed, the last posting is assumed
to be a Close directive (this is the case if the input is valid
and checks without errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>txn_postings</strong> – a list of postings or entries.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An entry, or None, if the input list was empty.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.get">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">real_account</em>, <em class="sig-param">account_name</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the subaccount name from the real_account node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real_account</strong> – An instance of RealAccount, the parent node to look for
children of.</p></li>
<li><p><strong>account_name</strong> – A string, the name of a possibly indirect child leaf
found down the tree of ‘real_account’ nodes.</p></li>
<li><p><strong>default</strong> – The default value that should be returned if the child
subaccount is not found.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A RealAccount instance for the child, or the default value, if the child
is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.get_or_create">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">get_or_create</code><span class="sig-paren">(</span><em class="sig-param">real_account</em>, <em class="sig-param">account_name</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.get_or_create" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the subaccount name from the real_account node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real_account</strong> – An instance of RealAccount, the parent node to look for
children of, or create under.</p></li>
<li><p><strong>account_name</strong> – A string, the name of the direct or indirect child leaf
to get or create.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A RealAccount instance for the child, or the default value, if the child
is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.get_postings">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">get_postings</code><span class="sig-paren">(</span><em class="sig-param">real_account</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.get_postings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a sorted list a RealAccount’s postings and children.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>real_account</strong> – An instance of RealAccount.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of Posting or directories.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.index_key">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">index_key</code><span class="sig-paren">(</span><em class="sig-param">sequence</em>, <em class="sig-param">value</em>, <em class="sig-param">key</em>, <em class="sig-param">cmp</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.index_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the index of the first element in ‘sequence’ which is equal to ‘value’.
If ‘key’ is specified, the value compared to the value returned by this
function. If the value is not found, return None.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> – The sequence to search.</p></li>
<li><p><strong>value</strong> – The value to search for.</p></li>
<li><p><strong>key</strong> – A predicate to call to obtain the value to compare against.</p></li>
<li><p><strong>cmp</strong> – A comparison predicate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The index of the first element found, or None, if the element was not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.iter_children">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">iter_children</code><span class="sig-paren">(</span><em class="sig-param">real_account</em>, <em class="sig-param">leaf_only=False</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.iter_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate this account node and all its children, depth-first.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>real_account</strong> – An instance of RealAccount.</p></li>
<li><p><strong>leaf_only</strong> – A boolean flag, true if we should yield only leaves.</p></li>
</ul>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Instances of RealAccount, beginning with this account. The order is
undetermined.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.iterate_with_balance">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">iterate_with_balance</code><span class="sig-paren">(</span><em class="sig-param">txn_postings</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.iterate_with_balance" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the entries, accumulating the running balance.</p>
<p>For each entry, this yields tuples of the form:</p>
<blockquote>
<div><p>(entry, postings, change, balance)</p>
</div></blockquote>
<dl class="simple">
<dt>entry: This is the directive for this line. If the list contained Posting</dt><dd><p>instance, this yields the corresponding Transaction object.</p>
</dd>
<dt>postings: A list of postings on this entry that affect the balance. Only the</dt><dd><p>postings encountered in the input list are included; only those affect the
balance. If ‘entry’ is not a Transaction directive, this should always be
an empty list. We preserve the original ordering of the postings as they
appear in the input list.</p>
</dd>
<dt>change: An Inventory object that reflects the total change due to the</dt><dd><p>postings from this entry that appear in the list. For example, if a
Transaction has three postings and two are in the input list, the sum of
the two postings will be in the ‘change’ Inventory object. However, the
position for the transactions’ third posting–the one not included in the
input list–will not be in this inventory.</p>
</dd>
<dt>balance: An Inventory object that reflects the balance <em>after</em> adding the</dt><dd><p>‘change’ inventory due to this entry’s transaction. The ‘balance’ yielded
is never None, even for entries that do not affect the balance, that is,
with an empty ‘change’ inventory. It’s up to the caller, the one rendering
the entry, to decide whether to render this entry’s change for a
particular entry type.</p>
</dd>
</dl>
<p>Note that if the input list of postings-or-entries is not in sorted date
order, two postings for the same entry appearing twice with a different date
in between will cause the entry appear twice. This is correct behavior, and
it is expected that in practice this should never happen anyway, because the
list of postings or entries should always be sorted. This method attempts to
detect this and raises an assertion if this is seen.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>txn_postings</strong> – A list of postings or directive instances.
Postings affect the balance; other entries do not.</p>
</dd>
<dt class="field-even">Yields</dt>
<dd class="field-even"><p>Tuples of (entry, postings, change, balance) as described above.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.postings_by_account">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">postings_by_account</code><span class="sig-paren">(</span><em class="sig-param">entries</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.postings_by_account" title="Permalink to this definition">¶</a></dt>
<dd><p>Create lists of postings and balances by account.</p>
<p>This routine aggregates postings and entries grouping them by account name.
The resulting lists contain postings in-lieu of Transaction directives, but
the other directives are stored as entries. This yields a list of postings
or other entries by account. All references to accounts are taken into
account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>entries</strong> – A list of directives.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A mapping of account name to list of TxnPosting instances or
non-Transaction directives, sorted in the same order as the entries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="beancount.core.realization.realize">
<code class="sig-prename descclassname">beancount.core.realization.</code><code class="sig-name descname">realize</code><span class="sig-paren">(</span><em class="sig-param">entries</em>, <em class="sig-param">min_accounts=None</em>, <em class="sig-param">compute_balance=True</em><span class="sig-paren">)</span><a class="headerlink" href="#beancount.core.realization.realize" title="Permalink to this definition">¶</a></dt>
<dd><p>Group entries by account, into a “tree” of realized accounts. RealAccount’s
are essentially containers for lists of postings and the final balance of
each account, and may be non-leaf accounts (used strictly for organizing
accounts into a hierarchy). This is then used to issue reports.</p>
<p>The lists of postings in each account my be any of the entry types, except
for Transaction, whereby Transaction entries are replaced by the specific
Posting legs that belong to the account. Here’s a simple diagram that
summarizes this seemingly complex, but rather simple data structure:</p>
<blockquote>
<div><p>+————-+ postings  +——+
| RealAccount <a href="#id5"><span class="problematic" id="id6">|----------&gt;|</span></a> Open |
+————-+           +——+</p>
<blockquote>
<div><blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
</div>
<p>v</p>
</div></blockquote>
<p>+————+     +————-+
| TxnPosting <a href="#id7"><span class="problematic" id="id8">|----&gt;|</span></a> Transaction |
+————+     +————-+</p>
<blockquote>
<div><blockquote>
<div><blockquote>
<div><div class="line-block">
<div class="line">                \</div>
</div>
<p>v       <a href="#id1"><span class="problematic" id="id2">`</span></a>.__          +———+</p>
</div></blockquote>
<p>+—–+         <a href="#id3"><span class="problematic" id="id4">`</span></a>——–&gt;| Posting |
| Pad |                   +———+
+—–+</p>
<blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
</div>
<p>v</p>
</div></blockquote>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Balance</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
</div>
<p>v</p>
</div></blockquote>
<table class="docutils align-default">
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Close</p></td>
</tr>
</tbody>
</table>
<blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
</div>
<p>.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entries</strong> – A list of directives.</p></li>
<li><p><strong>min_accounts</strong> – A list of strings, account names to ensure we create,
regardless of whether there are postings on those accounts or not.
This can be used to ensure the root accounts all exist.</p></li>
<li><p><strong>compute_balance</strong> – A boolean, true if we should compute the final
balance on the realization.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The root RealAccount instance.</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/logo.png" alt="Logo"/>
    
    <h1 class="logo logo-name">Fava</h1>
    
  </a>
</p>



<p class="blurb">Web interface for <a href="http://furius.ca/beancount/">Beancount</a></p>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Development</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fava.html">fava</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.core.html">fava.core</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.html">fava.ext</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.ext.portfolio_list.html">fava.ext.portfolio_list</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.help.html">fava.help</a></li>
<li class="toctree-l2"><a class="reference internal" href="fava.util.html">fava.util</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.html">beancount</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">beancount.core</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.account">beancount.core.account</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.account_types">beancount.core.account_types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.amount">beancount.core.amount</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.compare">beancount.core.compare</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.convert">beancount.core.convert</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.data">beancount.core.data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.display_context">beancount.core.display_context</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.distribution">beancount.core.distribution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.flags">beancount.core.flags</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.getters">beancount.core.getters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.interpolate">beancount.core.interpolate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.inventory">beancount.core.inventory</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.number">beancount.core.number</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.position">beancount.core.position</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.prices">beancount.core.prices</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-beancount.core.realization">beancount.core.realization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.html">beancount.ingest</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.html">beancount.ingest.importers</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ingest.importers.mixins.html">beancount.ingest.importers.mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.ops.html">beancount.ops</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.parser.html">beancount.parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.plugins.html">beancount.plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.html">beancount.prices</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.prices.sources.html">beancount.prices.sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.query.html">beancount.query</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.reports.html">beancount.reports</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.scripts.html">beancount.scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.tools.html">beancount.tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.utils.html">beancount.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="beancount.web.html">beancount.web</a></li>
</ul>
</li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava">fava @ GitHub</a></li>
    
    <li class="toctree-l1"><a href="https://gitter.im/beancount/fava">Chat</a></li>
    
    <li class="toctree-l1"><a href="https://github.com/beancount/fava/issues">Issue Tracker</a></li>
    
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Dominik Aumayr.
      
      |
      <a href="../_sources/api/beancount.core.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>